(function(e){function t(t){for(var i,r,o=t[0],_=t[1],h=t[2],u=0,c=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&c.push(a[r][0]),a[r]=0;for(i in _)Object.prototype.hasOwnProperty.call(_,i)&&(e[i]=_[i]);l&&l(t);while(c.length)c.shift()();return s.push.apply(s,h||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var _=n[o];0!==a[_]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={app:0},s=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],_=o.push.bind(o);o.push=t,o=o.slice();for(var h=0;h<o.length;h++)t(o[h]);var l=_;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2af0":function(e,t,n){},5085:function(e,t,n){"use strict";(function(t){var i=e.exports,a=t;a.$hx_scope=a.$hx_scope||{};i["flambe"]=i["flambe"]||{},i["game"]=i["game"]||{},i["game"]["Container"]=i["game"]["Container"]||{},i["game"]["Main"]=i["game"]["Main"]||{};var s,r=function(){return yi.__string_rec(this,"")},o=o||{};function _(e,t){var n=Object.create(e);for(var i in t)n[i]=t[i];return t.toString!==Object.prototype.toString&&(n.toString=t.toString),n}var h=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};h.__name__="EReg",h.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw hi.thrown("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw hi.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:h};var l=function(){};l.__name__="HxOverrides",l.cca=function(e,t){var n=e.charCodeAt(t);if(n==n)return n},l.substr=function(e,t,n){if(null==n)n=e.length;else if(n<0){if(0!=t)return"";n=e.length+n}return e.substr(t,n)},l.remove=function(e,t){var n=e.indexOf(t);return-1!=n&&(e.splice(n,1),!0)},l.now=function(){return Date.now()};var u=function(){};u.__name__="Lambda",u.array=function(e){var t=[],n=ki(e);while(n.hasNext()){var i=n.next();t.push(i)}return t},u.count=function(e,t){var n=0;if(null==t){var i=ki(e);while(i.hasNext())i.next(),++n}else{var a=ki(e);while(a.hasNext()){var s=a.next();t(s)&&++n}}return n},Math.__name__="Math";var c=function(){};c.__name__="Reflect",c.field=function(e,t){try{return e[t]}catch(n){return null}};var d=function(){};d.__name__="Std",d.string=function(e){return yi.__string_rec(e,"")},d.parseInt=function(e){if(null!=e){var t=0,n=e.length;while(t<n){var i=t++,a=e.charCodeAt(i);if(a<=8||a>=14&&32!=a&&45!=a){var s=e.charCodeAt(i+1),r=parseInt(e,120==s||88==s?16:10);return isNaN(r)?null:r}}}return null};var p=function(){this.b=""};p.__name__="StringBuf",p.prototype={__class__:p};var m=function(){};m.__name__="StringTools",m.htmlEscape=function(e,t){var n="",i=0,a=e;while(i<a.length){e=a;var s=i++,r=e.charCodeAt(s);r>=55296&&r<=56319&&(r=r-55232<<10|1023&e.charCodeAt(s+1));var o=r;o>=65536&&++i;var _=o;switch(_){case 34:n+=t?"&quot;":String.fromCodePoint(_);break;case 38:n+="&amp;";break;case 39:n+=t?"&#039;":String.fromCodePoint(_);break;case 60:n+="&lt;";break;case 62:n+="&gt;";break;default:n+=String.fromCodePoint(_)}}return n},m.startsWith=function(e,t){return e.length>=t.length&&0==e.lastIndexOf(t,0)},m.isSpace=function(e,t){var n=l.cca(e,t);return n>8&&n<14||32==n},m.ltrim=function(e){var t=e.length,n=0;while(n<t&&m.isSpace(e,n))++n;return n>0?l.substr(e,n,t-n):e},m.rtrim=function(e){var t=e.length,n=0;while(n<t&&m.isSpace(e,t-n-1))++n;return n>0?l.substr(e,0,t-n):e},m.trim=function(e){return m.ltrim(m.rtrim(e))},m.replace=function(e,t,n){return e.split(t).join(n)};var f={toString:function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},g=function(e){this.nodeType=e,this.children=[],this.attributeMap=new ci};g.__name__="Xml",g.parse=function(e){return wi.parse(e)},g.createElement=function(e){var t=new g(g.Element);if(t.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":f.toString(t.nodeType)));return t.nodeName=e,t},g.createPCData=function(e){var t=new g(g.PCData);if(t.nodeType==g.Document||t.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":f.toString(t.nodeType)));return t.nodeValue=e,t},g.createCData=function(e){var t=new g(g.CData);if(t.nodeType==g.Document||t.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":f.toString(t.nodeType)));return t.nodeValue=e,t},g.createComment=function(e){var t=new g(g.Comment);if(t.nodeType==g.Document||t.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":f.toString(t.nodeType)));return t.nodeValue=e,t},g.createDocType=function(e){var t=new g(g.DocType);if(t.nodeType==g.Document||t.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":f.toString(t.nodeType)));return t.nodeValue=e,t},g.createProcessingInstruction=function(e){var t=new g(g.ProcessingInstruction);if(t.nodeType==g.Document||t.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":f.toString(t.nodeType)));return t.nodeValue=e,t},g.createDocument=function(){return new g(g.Document)},g.prototype={get:function(e){if(this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,t){if(this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));this.attributeMap.h[e]=t},exists:function(e){if(this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));return new di(this.attributeMap.h)},elements:function(){if(this.nodeType!=g.Document&&this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));var e=[],t=0,n=this.children;while(t<n.length){var i=n[t];++t,i.nodeType==g.Element&&e.push(i)}return new fi(e)},firstElement:function(){if(this.nodeType!=g.Document&&this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));var e=0,t=this.children;while(e<t.length){var n=t[e];if(++e,n.nodeType==g.Element)return n}return null},addChild:function(e){if(this.nodeType!=g.Document&&this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=g.Document&&this.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":f.toString(this.nodeType)));return!!l.remove(this.children,e)&&(e.parent=null,!0)},toString:function(){return vi.print(this)},__class__:g};var b=function(){};b.__name__="flambe.util.Disposable",b.__isInterface__=!0,b.prototype={__class__:b};var w=function(){this._flags=0,this.next=null,this.owner=null};w.__name__="flambe.Component",w.__interfaces__=[b],w.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(e){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:w};var v=function(){w.call(this),this._disposables=[]};v.__name__="flambe.Disposer",v.__super__=w,v.prototype=_(w.prototype,{get_name:function(){return"Disposer_26"},add:function(e){return this._disposables.push(e),this},onRemoved:function(){this.freeDisposables()},dispose:function(){w.prototype.dispose.call(this),this.freeDisposables()},freeDisposables:function(){var e=this._disposables;this._disposables=[];var t=0;while(t<e.length){var n=e[t];++t,n.dispose()}},__class__:v});var y=function(){this.firstComponent=null,this.next=null,this.firstChild=null,this.parent=null,this._compMap={}};y.__name__="flambe.Entity",y.__interfaces__=[b],y.prototype={add:function(e){null!=e.owner&&e.owner.remove(e);var t=e.get_name(),n=this._compMap[t];null!=n&&this.remove(n),this._compMap[t]=e;var i=null,a=this.firstComponent;while(null!=a)i=a,a=a.next;return null!=i?i.next=e:this.firstComponent=e,e.owner=this,e.next=null,e.onAdded(),this},remove:function(e){var t=null,n=this.firstComponent;while(null!=n){var i=n.next;if(n==e)return null==t?this.firstComponent=i:(t.owner=this,t.next=i),delete this._compMap[n.get_name()],0!=(1&n._flags)&&(n.onStop(),n._flags&=-2),n.onRemoved(),n.owner=null,n.next=null,!0;t=n,n=i}return!1},addChild:function(e,t){if(null==t&&(t=!0),null!=e.parent&&e.parent.removeChild(e),e.parent=this,t){var n=null,i=this.firstChild;while(null!=i)n=i,i=i.next;null!=n?n.next=e:this.firstChild=e}else e.next=this.firstChild,this.firstChild=e;return this},removeChild:function(e){var t=null,n=this.firstChild;while(null!=n){var i=n.next;if(n==e)return null==t?this.firstChild=i:t.next=i,n.parent=null,void(n.next=null);t=n,n=i}},disposeChildren:function(){while(null!=this.firstChild)this.firstChild.dispose()},dispose:function(){null!=this.parent&&this.parent.removeChild(this);while(null!=this.firstComponent)this.firstComponent.dispose();this.disposeChildren()},toString:function(){return this.toStringImpl("")},toStringImpl:function(e){var t="",n=this.firstComponent;while(null!=n)t+=n.get_name(),null!=n.next&&(t+=", "),n=n.next;t+="\n";var i=String.fromCodePoint(9492),a=String.fromCodePoint(9500),s=String.fromCodePoint(9472),r=String.fromCodePoint(9474);n=this.firstChild;while(null!=n){var o=null==n.next;t+=e+(o?i:a)+s+s+" ",t+=n.toStringImpl(e+(o?" ":r)+"   "),n=n.next}return t},_internal_getFromChildren:function(e,t){var n=this._compMap[e];if(null!=t&&(n=yi.__downcastCheck(n,t)?n:null),null!=n)return n;var i=this.firstChild;while(null!=i){n=i._internal_getFromChildren(e,t);if(null!=n)return n;i=i.next}return null},__class__:y};var x=function(){};x.__name__="flambe.util.PackageLog";var S=function(){};S.__name__="flambe.platform.Platform",S.__isInterface__=!0,S.prototype={__class__:S};var k=function(){};k.__name__="flambe.platform.html.HtmlPlatform",k.__interfaces__=[S],k.prototype={init:function(){var e=this;kt.fixAndroidMath();var t=null;try{t=window.flambe.canvas}catch(w){}nn.that(null!=t,"Could not find a Flambe canvas! Are you embedding with flambe.js?"),t.setAttribute("tabindex","0"),t.style.outlineStyle="none",t.style.webkitTapHighlightColor="transparent",this._stage=new xt(t),this._pointer=new Be,this._mouse=new bt(this._pointer,t),this._renderer=this.createRenderer(t),this.mainLoop=new et,this.musicPlaying=!1,this._canvas=t,this._container=t.parentElement,this._container.style.overflow="hidden",this._container.style.position="relative",this._container.style.msTouchAction="none";var n=0,i=function(i){if(!(i.timeStamp-n<1e3)){var a=t.getBoundingClientRect(),s=e.getX(i,a),r=e.getY(i,a);switch(i.type){case"mousedown":i.target==t&&(i.preventDefault(),e._mouse.submitDown(s,r,i.button),t.focus());break;case"mousemove":e._mouse.submitMove(s,r);break;case"mouseup":e._mouse.submitUp(s,r,i.button);break;case"DOMMouseScroll":case"mousewheel":var o="mousewheel"==i.type?i.wheelDelta/40:-i.detail;e._mouse.submitScroll(s,r,o)&&i.preventDefault();break}}};window.addEventListener("mousedown",i,!1),window.addEventListener("mousemove",i,!1),window.addEventListener("mouseup",i,!1),t.addEventListener("mousewheel",i,!1),t.addEventListener("DOMMouseScroll",i,!1),t.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1);var s="undefined"!=typeof window.ontouchstart,r="msMaxTouchPoints"in window.navigator&&window.navigator.msMaxTouchPoints>1;if(s||r){var o=new Ne(this._pointer,s?4:a.navigator.msMaxTouchPoints);this._touch=o;var _=function(t){var i=s?t.changedTouches:[t],a=t.target.getBoundingClientRect();switch(n=t.timeStamp,t.type){case"MSPointerMove":case"pointermove":case"touchmove":t.preventDefault();var r=0;while(r<i.length){var _=i[r];++r;var h=e.getX(_,a),l=e.getY(_,a),u=0|(s?_.identifier:_.pointerId);o.submitMove(u,h,l)}break;case"MSPointerUp":case"pointerup":case"touchcancel":case"touchend":r=0;while(r<i.length){_=i[r];++r;h=e.getX(_,a),l=e.getY(_,a),u=0|(s?_.identifier:_.pointerId);o.submitUp(u,h,l)}break;case"MSPointerDown":case"pointerdown":case"touchstart":t.preventDefault(),kt.SHOULD_HIDE_MOBILE_BROWSER&&kt.hideMobileBrowser();r=0;while(r<i.length){_=i[r];++r;h=e.getX(_,a),l=e.getY(_,a),u=0|(s?_.identifier:_.pointerId);o.submitDown(u,h,l)}break}};s?(t.addEventListener("touchstart",_,!1),t.addEventListener("touchmove",_,!1),t.addEventListener("touchend",_,!1),t.addEventListener("touchcancel",_,!1)):(t.addEventListener("MSPointerDown",_,!1),t.addEventListener("MSPointerMove",_,!1),t.addEventListener("MSPointerUp",_,!1))}else this._touch=new He;var h=window.onerror;window.onerror=function(e,t,n){return R.uncaughtError.emit(e),null!=h&&h(e,t,n)};var l=kt.loadExtension("hidden",window.document);if(null!=l.value){var u=function(e){R.hidden.set__(c.field(window.document,l.field))};u(null),window.document.addEventListener(l.prefix+"visibilitychange",u,!1)}else{var d=function(e){R.hidden.set__("pagehide"==e.type)};window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1)}R.hidden.get_changed().connect((function(t,n){t||(e._skipFrame=!0)})),this._skipFrame=!1,this._lastUpdate=Date.now();var p=kt.loadExtension("requestAnimationFrame").value;if(null!=p){var m=window.performance,f=null!=m&&kt.polyfill("now",m);f?this._lastUpdate=m.now():F.logger.warn("No monotonic timer support, falling back to the system date",null);var g=null;g=function(n){e.update(f?m.now():n),p(g,t)},p(g,t)}else F.logger.warn("No requestAnimationFrame support, falling back to setInterval",null),window.setInterval((function(){e.update(Date.now())}),16);new Xe(this),this._catapult=ut.canUse()?new ut:null;var b=["renderer",this._renderer.get_type()];F.logger.info("Initialized HTML platform",b)},loadAssetPack:function(e){return new lt(this,e).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var e=xi.getLocalStorage();null!=e?this._storage=new St(e):(F.logger.warn("localStorage is unavailable, falling back to unpersisted storage",null),this._storage=new Ge)}return this._storage},getLocale:function(){var e=a.navigator.language;return null==e&&(e=a.navigator.userLanguage),e},createLogHandler:function(e){return mt.isSupported()?new mt(e):null},getTime:function(){return Date.now()/1e3},getCatapultClient:function(){return this._catapult},update:function(e){var t=(e-this._lastUpdate)/1e3;this._lastUpdate=e,R.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(t),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var e=this;if(null==this._keyboard){this._keyboard=new Pe;var t=function(t){switch(t.type){case"keydown":e._keyboard.submitDown(t.keyCode)&&t.preventDefault();break;case"keyup":e._keyboard.submitUp(t.keyCode);break}};this._canvas.addEventListener("keydown",t,!1),this._canvas.addEventListener("keyup",t,!1)}return this._keyboard},getWeb:function(){return null==this._web&&(this._web=new At),this._web},getExternal:function(){return null==this._external&&(this._external=new dt),this._external},getMotion:function(){return null==this._motion&&(this._motion=new gt),this._motion},getRenderer:function(){return this._renderer},getX:function(e,t){return(e.clientX-t.left)*this._stage.get_width()/t.width},getY:function(e,t){return(e.clientY-t.top)*this._stage.get_height()/t.height},createRenderer:function(e){try{var t=Si.getContextWebGL(e,{depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=t){if(!kt.detectSlowDriver(t))return new Bt(this._stage,t);F.logger.warn("Detected a slow WebGL driver, falling back to canvas",null)}}catch(n){}return new ot(e)},__class__:k};var C=function(e,t){this._value=e,this._changed=null!=t?new M(t):null};C.__name__="flambe.util.Value",C.prototype={watch:function(e){return e(this._value,this._value),this.get_changed().connect(e)},set__:function(e){var t=this._value;return e!=t&&(this._value=e,null!=this._changed&&this._changed.emit(e,t)),e},get_changed:function(){return null==this._changed&&(this._changed=new M),this._changed},toString:function(){return""+d.string(this._value)},__class__:C};var A=function(e,t){this._next=null,this._signal=e,this._listener=t,this.stayInList=!0};A.__name__="flambe.util.SignalConnection",A.__interfaces__=[b],A.prototype={once:function(){return this.stayInList=!1,this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:A};var T=function(e){this._head=null!=e?new A(this,e):null,this._deferredTasks=null};T.__name__="flambe.util.SignalBase",T.prototype={connectImpl:function(e,t){var n=this,i=new A(this,e);return this._head==T.DISPATCHING_SENTINEL?this.defer((function(){n.listAdd(i,t)})):this.listAdd(i,t),i},disconnect:function(e){var t=this;this._head==T.DISPATCHING_SENTINEL?this.defer((function(){t.listRemove(e)})):this.listRemove(e)},defer:function(e){var t=null,n=this._deferredTasks;while(null!=n)t=n,n=n.next;var i=new _n(e);null!=t?t.next=i:this._deferredTasks=i},willEmit:function(){nn.that(this._head!=T.DISPATCHING_SENTINEL);var e=this._head;return this._head=T.DISPATCHING_SENTINEL,e},didEmit:function(e){this._head=e;var t=this._deferredTasks;this._deferredTasks=null;while(null!=t)t.fn(),t=t.next},listAdd:function(e,t){if(t)e._next=this._head,this._head=e;else{var n=null,i=this._head;while(null!=i)n=i,i=i._next;null!=n?n._next=e:this._head=e}},listRemove:function(e){var t=null,n=this._head;while(null!=n){if(n==e){var i=n._next;return void(null==t?this._head=i:t._next=i)}t=n,n=n._next}},__class__:T};var M=function(e){T.call(this,e)};M.__name__="flambe.util.Signal2",M.__super__=T,M.prototype=_(T.prototype,{connect:function(e,t){return null==t&&(t=!1),this.connectImpl(e,t)},emit:function(e,t){var n=this;this._head==T.DISPATCHING_SENTINEL?this.defer((function(){n.emitImpl(e,t)})):this.emitImpl(e,t)},emitImpl:function(e,t){var n=this.willEmit(),i=n;while(null!=i)i._listener(e,t),i.stayInList||i.dispose(),i=i._next;this.didEmit(n)},__class__:M});var E=function(e){T.call(this,e)};E.__name__="flambe.util.Signal1",E.__super__=T,E.prototype=_(T.prototype,{connect:function(e,t){return null==t&&(t=!1),this.connectImpl(e,t)},emit:function(e){var t=this;this._head==T.DISPATCHING_SENTINEL?this.defer((function(){t.emitImpl(e)})):this.emitImpl(e)},emitImpl:function(e){var t=this.willEmit(),n=t;while(null!=n)n._listener(e),n.stayInList||n.dispose(),n=n._next;this.didEmit(t)},__class__:E});var P=function(e,t){this._behavior=null,C.call(this,e,t)};P.__name__="flambe.animation.AnimatedFloat",P.__super__=C,P.prototype=_(C.prototype,{set__:function(e){return this._behavior=null,C.prototype.set__.call(this,e)},update:function(e){null!=this._behavior&&(C.prototype.set__.call(this,this._behavior.update(e)),this._behavior.isComplete()&&(this._behavior=null))},animateTo:function(e,t,n){this.set_behavior(new X(this._value,e,t,n))},set_behavior:function(e){return this._behavior=e,this.update(0),e},__class__:P});var R=i["flambe"]["System"]=function(){};R.__name__="flambe.System",R.init=function(){R._calledInit||(R._platform.init(),R._calledInit=!0)},R.loadAssetPack=function(e){return R.assertCalledInit(),R._platform.loadAssetPack(e)},R.createLogger=function(e){return new D(R._platform.createLogHandler(e))},R.get_time=function(){return R.assertCalledInit(),R._platform.getTime()},R.get_stage=function(){return R.assertCalledInit(),R._platform.getStage()},R.get_storage=function(){return R.assertCalledInit(),R._platform.getStorage()},R.get_pointer=function(){return R.assertCalledInit(),R._platform.getPointer()},R.get_mouse=function(){return R.assertCalledInit(),R._platform.getMouse()},R.get_touch=function(){return R.assertCalledInit(),R._platform.getTouch()},R.get_keyboard=function(){return R.assertCalledInit(),R._platform.getKeyboard()},R.get_web=function(){return R.assertCalledInit(),R._platform.getWeb()},R.get_external=function(){return R.assertCalledInit(),R._platform.getExternal()},R.get_locale=function(){return R.assertCalledInit(),R._platform.getLocale()},R.get_motion=function(){return R.assertCalledInit(),R._platform.getMotion()},R.get_renderer=function(){return R.assertCalledInit(),R._platform.getRenderer()},R.assertCalledInit=function(){nn.that(R._calledInit,"You must call System.init() first")};var D=function(e){this._handler=e};D.__name__="flambe.util.Logger",D.prototype={info:function(e,t){this.log(sn.Info,e,t)},warn:function(e,t){this.log(sn.Warn,e,t)},error:function(e,t){this.log(sn.Error,e,t)},log:function(e,t,n){null!=this._handler&&(null==t&&(t=""),null!=n&&(t=hn.withFields(t,n)),this._handler.log(e,t))},__class__:D};var F=function(){};F.__name__="flambe.Log",F.__super__=x,F.prototype=_(x.prototype,{__class__:F});var B=function(e){null==e&&(e=1),this._realDt=0,w.call(this),this.scale=new P(e)};B.__name__="flambe.SpeedAdjuster",B.__super__=w,B.prototype=_(w.prototype,{get_name:function(){return"SpeedAdjuster_33"},onUpdate:function(e){this._realDt>0&&(e=this._realDt,this._realDt=0),this.scale.update(e)},__class__:B});var I=function(){};I.__name__="flambe.animation.Behavior",I.__isInterface__=!0,I.prototype={__class__:I};var L=function(e,t){this._target=e,this._fn=t};L.__name__="flambe.animation.Binding",L.__interfaces__=[I],L.prototype={update:function(e){var t=this._target._value;return null!=this._fn?this._fn(t):t},isComplete:function(){return!1},__class__:L};var N=function(){};N.__name__="flambe.animation.Ease",N.linear=function(e){return e},N.cubeOut=function(e){return 1+--e*e*e},N.sineIn=function(e){return 1-Math.cos(1.5707963267948966*e)},N.sineOut=function(e){return Math.sin(1.5707963267948966*e)},N.bounceOut=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-.5454545454545454)*(e-.5454545454545454)+.75:e<.9090909090909091?7.5625*(e-.8181818181818182)*(e-.8181818181818182)+.9375:7.5625*(e-.9545454545454546)*(e-.9545454545454546)+.984375},N.expoOut=function(e){return 1-Math.pow(2,-10*e)},N.backOut=function(e){return 1- --e*e*(-2.70158*e-1.70158)};var Y=function(e,t,n,i,a){null==a&&(a=0),null==i&&(i=0),null==n&&(n=1),this.start=e,this.end=t,this.cycles=i,this.speed=new P(n),this._count=1.5707963267948966+a*(3.141592653589793/n),this._distance=.5*(e-t),this._center=t+this._distance};Y.__name__="flambe.animation.Sine",Y.__interfaces__=[I],Y.prototype={update:function(e){return this.speed.update(e),this._count+=e*(3.141592653589793/this.speed._value),this.isComplete()?this._center+3.141592653589793*this._distance:this._center+Math.sin(this._count)*this._distance},isComplete:function(){return this.cycles>0&&(this._count-1.5707963267948966)/3.141592653589793*.5>=this.cycles},__class__:Y};var X=function(e,t,n,i){this._from=e,this._to=t,this._duration=n,this.elapsed=0,this._easing=null!=i?i:N.linear};X.__name__="flambe.animation.Tween",X.__interfaces__=[I],X.prototype={update:function(e){return this.elapsed+=e,this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:X};var O=function(){};O.__name__="flambe.asset.Asset",O.__isInterface__=!0,O.__interfaces__=[b],O.prototype={__class__:O};var V=o["flambe.asset.AssetFormat"]={__ename__:!0,__constructs__:null,WEBP:{_hx_name:"WEBP",_hx_index:0,__enum__:"flambe.asset.AssetFormat",toString:r},JXR:{_hx_name:"JXR",_hx_index:1,__enum__:"flambe.asset.AssetFormat",toString:r},PNG:{_hx_name:"PNG",_hx_index:2,__enum__:"flambe.asset.AssetFormat",toString:r},JPG:{_hx_name:"JPG",_hx_index:3,__enum__:"flambe.asset.AssetFormat",toString:r},GIF:{_hx_name:"GIF",_hx_index:4,__enum__:"flambe.asset.AssetFormat",toString:r},DDS:{_hx_name:"DDS",_hx_index:5,__enum__:"flambe.asset.AssetFormat",toString:r},PVR:{_hx_name:"PVR",_hx_index:6,__enum__:"flambe.asset.AssetFormat",toString:r},PKM:{_hx_name:"PKM",_hx_index:7,__enum__:"flambe.asset.AssetFormat",toString:r},MP3:{_hx_name:"MP3",_hx_index:8,__enum__:"flambe.asset.AssetFormat",toString:r},M4A:{_hx_name:"M4A",_hx_index:9,__enum__:"flambe.asset.AssetFormat",toString:r},OPUS:{_hx_name:"OPUS",_hx_index:10,__enum__:"flambe.asset.AssetFormat",toString:r},OGG:{_hx_name:"OGG",_hx_index:11,__enum__:"flambe.asset.AssetFormat",toString:r},WAV:{_hx_name:"WAV",_hx_index:12,__enum__:"flambe.asset.AssetFormat",toString:r},Data:{_hx_name:"Data",_hx_index:13,__enum__:"flambe.asset.AssetFormat",toString:r}};V.__constructs__=[V.WEBP,V.JXR,V.PNG,V.JPG,V.GIF,V.DDS,V.PVR,V.PKM,V.MP3,V.M4A,V.OPUS,V.OGG,V.WAV,V.Data];var U=function(e,t,n,i){this.name=e,this.url=t,this.format=n,this.bytes=i};U.__name__="flambe.asset.AssetEntry",U.prototype={__class__:U};var K=function(){};K.__name__="flambe.asset.AssetPack",K.__isInterface__=!0,K.__interfaces__=[b],K.prototype={__class__:K};var W=function(){};W.__name__="flambe.asset.File",W.__isInterface__=!0,W.__interfaces__=[O],W.prototype={__class__:W};var G=function(){this._remoteBase=null,this._localBase=null,this._entries=[]};G.__name__="flambe.asset.Manifest",G.fromAssets=function(e,t){null==t&&(t=!0);var n=c.field(gi.getType(G).assets[0],e);if(null==n){if(t)throw hi.thrown(hn.withFields("Missing asset pack",["name",e]));return null}var i=new G;i.set_localBase("assets");var a=0;while(a<n.length){var s=n[a];++a;var r=s.name,o=e+"/"+r+"?v="+d.string(s.md5),_=G.inferFormat(r);_!=V.Data&&(r=hn.removeFileExtension(r)),i.add(r,o,s.bytes,_)}return i},G.inferFormat=function(e){var t=hn.getUrlExtension(e);if(null!=t)switch(t.toLowerCase()){case"dds":return V.DDS;case"gif":return V.GIF;case"jpeg":case"jpg":return V.JPG;case"jxr":case"wdp":return V.JXR;case"m4a":return V.M4A;case"mp3":return V.MP3;case"ogg":return V.OGG;case"opus":return V.OPUS;case"pkm":return V.PKM;case"png":return V.PNG;case"pvr":return V.PVR;case"wav":return V.WAV;case"webp":return V.WEBP}else F.logger.warn("No file extension for asset, it will be loaded as data",["url",e]);return V.Data},G.prototype={add:function(e,t,n,i){null==n&&(n=0),null==i&&(i=G.inferFormat(t));var a=new U(e,t,i,n);return this._entries.push(a),a},iterator:function(){return new fi(this._entries)},getFullURL:function(e){var t=null!=this.get_remoteBase()&&G._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=t?hn.joinPath(t,e.url):e.url},get_localBase:function(){return this._localBase},set_localBase:function(e){return null!=e&&nn.that(!m.startsWith(e,"http://")&&!m.startsWith(e,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://"),this._localBase=e},get_remoteBase:function(){return this._remoteBase},__class__:G};var H=o["flambe.display.BlendMode"]={__ename__:!0,__constructs__:null,Normal:{_hx_name:"Normal",_hx_index:0,__enum__:"flambe.display.BlendMode",toString:r},Add:{_hx_name:"Add",_hx_index:1,__enum__:"flambe.display.BlendMode",toString:r},Multiply:{_hx_name:"Multiply",_hx_index:2,__enum__:"flambe.display.BlendMode",toString:r},Screen:{_hx_name:"Screen",_hx_index:3,__enum__:"flambe.display.BlendMode",toString:r},Mask:{_hx_name:"Mask",_hx_index:4,__enum__:"flambe.display.BlendMode",toString:r},Copy:{_hx_name:"Copy",_hx_index:5,__enum__:"flambe.display.BlendMode",toString:r}};H.__constructs__=[H.Normal,H.Add,H.Multiply,H.Screen,H.Mask,H.Copy];var j=o["flambe.display.EmitterType"]={__ename__:!0,__constructs__:null,Gravity:{_hx_name:"Gravity",_hx_index:0,__enum__:"flambe.display.EmitterType",toString:r},Radial:{_hx_name:"Radial",_hx_index:1,__enum__:"flambe.display.EmitterType",toString:r}};j.__constructs__=[j.Gravity,j.Radial];var z=function(e,t){this._file=e.getFile(t+".pex");var n=g.parse(this._file.toString()),i=0,a=0,s=t.lastIndexOf("/"),r=s>=0?l.substr(t,0,s+1):"";this.textures=[];var o=n.firstElement().elements();while(o.hasNext()){var _=o.next();if(_.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==_.nodeType?"null":f.toString(_.nodeType)));switch(_.nodeName.toLowerCase()){case"angle":this.angle=z.getFloat(_,"value");break;case"anglevariance":this.angleVariance=z.getFloat(_,"value");break;case"blendfuncdestination":a=0|z.getFloat(_,"value");break;case"blendfuncsource":i=0|z.getFloat(_,"value");break;case"duration":this.duration=z.getFloat(_,"value");break;case"emittertype":this.type=0==(0|z.getFloat(_,"value"))?j.Gravity:j.Radial;break;case"finishcolor":this.alphaEnd=z.getFloat(_,"alpha");break;case"finishcolorvariance":this.alphaEndVariance=z.getFloat(_,"alpha");break;case"finishparticlesize":this.sizeEnd=z.getFloat(_,"value");break;case"finishparticlesizevariance":this.sizeEndVariance=z.getFloat(_,"value");break;case"gravity":this.gravityX=z.getFloat(_,"x"),this.gravityY=z.getFloat(_,"y");break;case"maxparticles":this.maxParticles=0|z.getFloat(_,"value");break;case"maxradius":this.maxRadius=z.getFloat(_,"value");break;case"maxradiusvariance":this.maxRadiusVariance=z.getFloat(_,"value");break;case"minradius":this.minRadius=z.getFloat(_,"value");break;case"particlelifespan":this.lifespan=z.getFloat(_,"value");break;case"particlelifespanvariance":this.lifespanVariance=z.getFloat(_,"value");break;case"radialacceleration":this.radialAccel=z.getFloat(_,"value");break;case"radialaccelvariance":this.radialAccelVariance=z.getFloat(_,"value");break;case"rotatepersecond":this.rotatePerSecond=z.getFloat(_,"value");break;case"rotatepersecondvariance":this.rotatePerSecondVariance=z.getFloat(_,"value");break;case"rotationend":this.rotationEnd=z.getFloat(_,"value");break;case"rotationendvariance":this.rotationEndVariance=z.getFloat(_,"value");break;case"rotationstart":this.rotationStart=z.getFloat(_,"value");break;case"rotationstartvariance":this.rotationStartVariance=z.getFloat(_,"value");break;case"sourcepositionvariance":this.emitXVariance=z.getFloat(_,"x"),this.emitYVariance=z.getFloat(_,"y");break;case"speed":this.speed=z.getFloat(_,"value");break;case"speedvariance":this.speedVariance=z.getFloat(_,"value");break;case"startcolor":this.alphaStart=z.getFloat(_,"alpha");break;case"startcolorvariance":this.alphaStartVariance=z.getFloat(_,"alpha");break;case"startparticlesize":this.sizeStart=z.getFloat(_,"value");break;case"startparticlesizevariance":this.sizeStartVariance=z.getFloat(_,"value");break;case"tangentialacceleration":this.tangentialAccel=z.getFloat(_,"value");break;case"tangentialaccelvariance":this.tangentialAccelVariance=z.getFloat(_,"value");break;case"texture":this.textures=[e.getTexture(r+hn.removeFileExtension(_.get("name"))+"0"),e.getTexture(r+hn.removeFileExtension(_.get("name"))+"1"),e.getTexture(r+hn.removeFileExtension(_.get("name"))+"2"),e.getTexture(r+hn.removeFileExtension(_.get("name"))+"3"),e.getTexture(r+hn.removeFileExtension(_.get("name"))+"4")];break}}this.lifespan<=0&&(this.lifespan=this.duration),1==i&&1==a?this.blendMode=H.Add:1==i&&771==a?this.blendMode=null:0==i&&0==a||F.logger.warn("Unsupported particle blend functions",["emitter",t,"source",i,"dest",a])};z.__name__="flambe.display.EmitterMold",z.getFloat=function(e,t){return parseFloat(e.get(t))},z.prototype={__class__:z};var q=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};q.__name__="flambe.math.Point",q.prototype={set:function(e,t){this.x=e,this.y=t},distanceTo:function(e,t){return Math.sqrt(this.distanceToSquared(e,t))},distanceToSquared:function(e,t){var n=this.x-e,i=this.y-t;return n*n+i*i},toString:function(){return"("+this.x+","+this.y+")"},__class__:q};var Q=function(){this._cosCache=0,this._sinCache=0,this._parentViewMatrixUpdateCount=0,this._viewMatrixUpdateCount=0,this._viewMatrix=null,this.scissor=null,this.blendMode=null;var e=this;w.call(this),this._flags|=182,this._localMatrix=new Se;var t=function(t,n){e._flags|=24};this.x=new P(0,t),this.y=new P(0,t),this.rotation=new P(0,(function(t,n){e._flags|=152})),this.scaleX=new P(1,t),this.scaleY=new P(1,t),this.anchorX=new P(0,t),this.anchorY=new P(0,t),this.alpha=new P(1),this.disablePixelSnapping()};Q.__name__="flambe.display.Sprite",Q.hitTest=function(e,t,n){var i=e._compMap["Sprite_5"];if(null!=i){if(6!=(6&i._flags))return null;i.getLocalMatrix().inverseTransform(t,n,Q._scratchPoint)&&(t=Q._scratchPoint.x,n=Q._scratchPoint.y);var a=i.scissor;if(null!=a&&!a.contains(t,n))return null}var s=Q.hitTestBackwards(e.firstChild,t,n);return null!=s?s:null!=i&&i.containsLocal(t,n)?i:null},Q.render=function(e,t){var n=e._compMap["Sprite_5"];if(null!=n){var i=n.alpha._value;if(0==(2&n._flags)||i<=0)return;t.save(),i<1&&t.multiplyAlpha(i),null!=n.blendMode&&t.setBlendMode(n.blendMode);var a=n.getLocalMatrix(),s=a.m02,r=a.m12;0!=(32&n._flags)&&(s=Math.round(s),r=Math.round(r)),t.transform(a.m00,a.m10,a.m01,a.m11,s,r);var o=n.scissor;null!=o&&t.applyScissor(o.x,o.y,o.width,o.height),n.draw(t)}var _=e._compMap["Director_32"];if(null!=_){var h=_.occludedScenes,l=0;while(l<h.length){var u=h[l];++l,Q.render(u,t)}}var c=e.firstChild;while(null!=c){var d=c.next;Q.render(c,t),c=d}null!=n&&t.restore()},Q.hitTestBackwards=function(e,t,n){if(null!=e){var i=Q.hitTestBackwards(e.next,t,n);return null!=i?i:Q.hitTest(e,t,n)}return null},Q.__super__=w,Q.prototype=_(w.prototype,{get_name:function(){return"Sprite_5"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(e,t){return e>=0&&e<this.getNaturalWidth()&&t>=0&&t<this.getNaturalHeight()},getLocalMatrix:function(){if(0!=(8&this._flags)){if(this._flags&=-9,0!=(128&this._flags)){this._flags&=-129;var e=3.141592653589793*this.rotation._value/180;this._sinCache=Math.sin(e),this._cosCache=Math.cos(e)}var t=this.scaleX._value,n=this.scaleY._value;this._localMatrix.set(this._cosCache*t,this._sinCache*t,-this._sinCache*n,this._cosCache*n,this.x._value,this.y._value),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)}return this._localMatrix},getViewMatrix:function(){if(this.isViewMatrixDirty()){var e=this.getParentSprite();this._viewMatrix=null!=e?Se.multiply(e.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix),this._flags&=-17,null!=e&&(this._parentViewMatrixUpdateCount=e._viewMatrixUpdateCount),++this._viewMatrixUpdateCount}return this._viewMatrix},setAnchor:function(e,t){return this.anchorX.set__(e),this.anchorY.set__(t),this},centerAnchor:function(){return this.anchorX.set__(this.getNaturalWidth()/2),this.anchorY.set__(this.getNaturalHeight()/2),this},setXY:function(e,t){return this.x.set__(e),this.y.set__(t),this},setRotation:function(e){return this.rotation.set__(e),this},setScale:function(e){return this.scaleX.set__(e),this.scaleY.set__(e),this},disablePixelSnapping:function(){return this.set_pixelSnapping(!1),this},onAdded:function(){0!=(64&this._flags)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(e){this.x.update(e),this.y.update(e),this.rotation.update(e),this.scaleX.update(e),this.scaleY.update(e),this.alpha.update(e),this.anchorX.update(e),this.anchorY.update(e)},draw:function(e){},isViewMatrixDirty:function(){if(0!=(16&this._flags))return!0;var e=this.getParentSprite();return null!=e&&(this._parentViewMatrixUpdateCount!=e._viewMatrixUpdateCount||e.isViewMatrixDirty())},getParentSprite:function(){if(null==this.owner)return null;var e=this.owner.parent;while(null!=e){var t=e._compMap["Sprite_5"];if(null!=t)return t;e=e.parent}return null},get_pointerDown:function(){return null==this._pointerDown&&(this._pointerDown=new E),this._pointerDown},get_pointerIn:function(){return null==this._pointerIn&&(this._pointerIn=new E),this._pointerIn},get_pointerOut:function(){return null==this._pointerOut&&(this._pointerOut=new E),this._pointerOut},connectHover:function(){var e=this;null==this._hoverConnection&&(R.assertCalledInit(),this._hoverConnection=R._platform.getPointer().move.connect((function(t){var n=t.hit;while(null!=n){if(n==e)return;n=n.getParentSprite()}null!=e._pointerOut&&0!=(64&e._flags)&&e._pointerOut.emit(t),e._flags&=-65,null!=e._hoverConnection&&(e._hoverConnection.dispose(),e._hoverConnection=null)})))},set_visible:function(e){return this._flags=an.set(this._flags,2,e),e},set_pixelSnapping:function(e){return this._flags=an.set(this._flags,32,e),e},onPointerDown:function(e){this.onHover(e),null!=this._pointerDown&&this._pointerDown.emit(e)},onPointerMove:function(e){this.onHover(e),null!=this._pointerMove&&this._pointerMove.emit(e)},onHover:function(e){0==(64&this._flags)&&(this._flags|=64,null==this._pointerIn&&null==this._pointerOut||(null!=this._pointerIn&&this._pointerIn.emit(e),this.connectHover()))},onPointerUp:function(e){1==e.source._hx_index&&(null!=this._pointerOut&&0!=(64&this._flags)&&this._pointerOut.emit(e),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)),null!=this._pointerUp&&this._pointerUp.emit(e)},__class__:Q});var J=function(e){this._totalElapsed=0,this._emitElapsed=0,this.enabled=!0,this.numParticles=0,Q.call(this),this.textures=e.textures,this.blendMode=e.blendMode,this.type=e.type,this.alphaEnd=new P(e.alphaEnd),this.alphaEndVariance=new P(e.alphaEndVariance),this.alphaStart=new P(e.alphaStart),this.alphaStartVariance=new P(e.alphaStartVariance),this.angle=new P(e.angle),this.angleVariance=new P(e.angleVariance),this.duration=e.duration,this.emitXVariance=new P(e.emitXVariance),this.emitYVariance=new P(e.emitYVariance),this.gravityX=new P(e.gravityX),this.gravityY=new P(e.gravityY),this.maxRadius=new P(e.maxRadius),this.maxRadiusVariance=new P(e.maxRadiusVariance),this.minRadius=new P(e.minRadius),this.lifespan=new P(e.lifespan),this.lifespanVariance=new P(e.lifespanVariance),this.radialAccel=new P(e.radialAccel),this.radialAccelVariance=new P(e.radialAccelVariance),this.rotatePerSecond=new P(e.rotatePerSecond),this.rotatePerSecondVariance=new P(e.rotatePerSecondVariance),this.rotationEnd=new P(e.rotationEnd),this.rotationEndVariance=new P(e.rotationEndVariance),this.rotationStart=new P(e.rotationStart),this.rotationStartVariance=new P(e.rotationStartVariance),this.sizeEnd=new P(e.sizeEnd),this.sizeEndVariance=new P(e.sizeEndVariance),this.sizeStart=new P(e.sizeStart),this.sizeStartVariance=new P(e.sizeStartVariance),this.speed=new P(e.speed),this.speedVariance=new P(e.speedVariance),this.tangentialAccel=new P(e.tangentialAccel),this.tangentialAccelVariance=new P(e.tangentialAccelVariance),this.emitX=new P(0),this.emitY=new P(0),this._particles=new Array(e.maxParticles);var t=0,n=this._particles.length;while(t<n)this._particles[t]=new Z,++t};J.__name__="flambe.display.EmitterSprite",J.random=function(e,t){return 0!=t&&(e+=t*(2*Math.random()-1)),e},J.__super__=Q,J.prototype=_(Q.prototype,{onUpdate:function(e){Q.prototype.onUpdate.call(this,e),this.alphaEnd.update(e),this.alphaEndVariance.update(e),this.alphaStart.update(e),this.alphaStartVariance.update(e),this.angle.update(e),this.angleVariance.update(e),this.emitX.update(e),this.emitXVariance.update(e),this.emitY.update(e),this.emitYVariance.update(e),this.gravityX.update(e),this.gravityY.update(e),this.lifespan.update(e),this.lifespanVariance.update(e),this.maxRadius.update(e),this.maxRadiusVariance.update(e),this.minRadius.update(e),this.radialAccel.update(e),this.radialAccelVariance.update(e),this.rotatePerSecond.update(e),this.rotatePerSecondVariance.update(e),this.rotationEnd.update(e),this.rotationEndVariance.update(e),this.rotationStart.update(e),this.rotationStartVariance.update(e),this.sizeEnd.update(e),this.sizeEndVariance.update(e),this.sizeStart.update(e),this.sizeStartVariance.update(e),this.speed.update(e),this.speedVariance.update(e),this.tangentialAccel.update(e),this.tangentialAccelVariance.update(e);var t=this.type==j.Gravity,n=0;while(n<this.numParticles){var i=this._particles[n];if(i.life>e){if(t){i.x+=i.velX*e,i.y+=i.velY*e;var a=this.gravityX._value,s=-this.gravityY._value;if(0!=i.radialAccel||0!=i.tangentialAccel){var r=i.x-i.emitX,o=i.y-i.emitY,_=Math.sqrt(r*r+o*o),h=r/_,l=o/_;a+=h*i.radialAccel,s+=l*i.radialAccel;var u=-l;a+=u*i.tangentialAccel,s+=h*i.tangentialAccel}i.velX+=a*e,i.velY+=s*e}else{i.radialRotation+=i.velRadialRotation*e;var c=i.radialRadius+=i.velRadialRadius*e;i.x=this.emitX._value-Math.cos(i.radialRotation)*c,i.y=this.emitY._value-Math.sin(i.radialRotation)*c,c<this.minRadius._value&&(i.life=0)}i.scale+=i.velScale*e,i.rotation+=i.velRotation*e,i.alpha+=i.velAlpha*e,i.life-=e,++n}else--this.numParticles,n!=this.numParticles&&(this._particles[n]=this._particles[this.numParticles],this._particles[this.numParticles]=i)}if(this.enabled)if(this.duration>0&&(this._totalElapsed+=e,this._totalElapsed>=this.duration))this.enabled=!1;else{var d=this.lifespan._value/this._particles.length;this._emitElapsed+=e;while(this._emitElapsed>=d){if(this.numParticles<this._particles.length){i=this._particles[this.numParticles];this.initParticle(i)&&++this.numParticles}this._emitElapsed-=d}}},draw:function(e){var t=-this.textures[0].get_width()/2,n=0,i=this.numParticles;while(n<i){var a=this._particles[n];e.save(),e.translate(a.x,a.y),a.alpha<1&&e.multiplyAlpha(a.alpha),0!=a.rotation&&e.rotate(a.rotation),1!=a.scale&&e.scale(a.scale,a.scale);var s=this.textures[n%this.textures.length];e.drawTexture(s,t,t),e.restore(),++n}},initParticle:function(e){if(e.life=J.random(this.lifespan._value,this.lifespanVariance._value),e.life<=0)return!1;e.emitX=this.emitX._value,e.emitY=this.emitY._value;var t=-3.141592653589793*J.random(this.angle._value,this.angleVariance._value)/180,n=J.random(this.speed._value,this.speedVariance._value);if(e.velX=n*Math.cos(t),e.velY=n*Math.sin(t),e.radialAccel=J.random(this.radialAccel._value,this.radialAccelVariance._value),e.tangentialAccel=J.random(this.tangentialAccel._value,this.tangentialAccelVariance._value),e.radialRadius=J.random(this.maxRadius._value,this.maxRadiusVariance._value),e.velRadialRadius=-e.radialRadius/e.life,e.radialRotation=t,e.velRadialRotation=3.141592653589793*J.random(this.rotatePerSecond._value,this.rotatePerSecondVariance._value)/180,this.type==j.Gravity)e.x=J.random(this.emitX._value,this.emitXVariance._value),e.y=J.random(this.emitY._value,this.emitYVariance._value);else{var i=e.radialRadius;e.x=this.emitX._value-Math.cos(e.radialRotation)*i,e.y=this.emitY._value-Math.sin(e.radialRotation)*i}var a=this.textures[0].get_width(),s=J.random(this.sizeStart._value,this.sizeStartVariance._value)/a,r=J.random(this.sizeEnd._value,this.sizeEndVariance._value)/a;e.scale=s,e.velScale=(r-s)/e.life;var o=J.random(this.rotationStart._value,this.rotationStartVariance._value),_=J.random(this.rotationEnd._value,this.rotationEndVariance._value);e.rotation=o,e.velRotation=(_-o)/e.life;var h=J.random(this.alphaStart._value,this.alphaStartVariance._value),l=J.random(this.alphaEnd._value,this.alphaEndVariance._value);return e.alpha=h,e.velAlpha=(l-h)/e.life,!0},__class__:J});var Z=function(){this.life=0,this.velAlpha=0,this.alpha=0,this.velRotation=0,this.rotation=0,this.velScale=0,this.scale=0,this.tangentialAccel=0,this.radialAccel=0,this.velRadialRotation=0,this.radialRotation=0,this.velRadialRadius=0,this.radialRadius=0,this.velY=0,this.y=0,this.velX=0,this.x=0,this.emitY=0,this.emitX=0};Z.__name__="flambe.display._EmitterSprite.Particle",Z.prototype={__class__:Z};var $=function(e,t,n){Q.call(this),this.color=e,this.width=new P(t),this.height=new P(n)};$.__name__="flambe.display.FillSprite",$.__super__=Q,$.prototype=_(Q.prototype,{draw:function(e){e.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(e){Q.prototype.onUpdate.call(this,e),this.width.update(e),this.height.update(e)},__class__:$});var ee=function(e){this._kernings=null,this.xAdvance=0,this.yOffset=0,this.xOffset=0,this.page=null,this.height=0,this.width=0,this.y=0,this.x=0,this.charCode=e};ee.__name__="flambe.display.Glyph",ee.prototype={draw:function(e,t,n){this.width>0&&e.drawSubTexture(this.page,t+this.xOffset,n+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(e){return null!=this._kernings?0|this._kernings.h[e]:0},setKerning:function(e,t){null==this._kernings&&(this._kernings=new ui),this._kernings.h[e]=t},__class__:ee};var te=function(e,t){this.name=t,this._pack=e,this._file=e.getFile(t+".fnt"),this.reload(),this._lastReloadCount=this._file.get_reloadCount()._value};te.__name__="flambe.display.Font",te.prototype={layoutText:function(e,t,n,i,a){return null==a&&(a=0),null==i&&(i=0),null==n&&(n=0),null==t&&(t=ne.Left),new ie(this,e,t,n,i,a)},checkReload:function(){var e=this._file.get_reloadCount()._value;return this._lastReloadCount!=e&&(this._lastReloadCount=e,this.reload()),e},reload:function(){this._glyphs=new ui,this._glyphs.h[te.NEWLINE.charCode]=te.NEWLINE;var e=new ae(this._file.toString()),t={},n=this.name.lastIndexOf("/"),i=n>=0?l.substr(this.name,0,n+1):"",a=e.keywords();while(a.hasNext()){var s=a.next();switch(s){case"char":var r=null,o=e.pairs();while(o.hasNext()){var _=o.next();switch(_.key){case"height":r.height=_.getInt();break;case"id":r=new ee(_.getInt());break;case"page":r.page=t[_.getInt()];break;case"width":r.width=_.getInt();break;case"x":r.x=_.getInt();break;case"xadvance":r.xAdvance=_.getInt();break;case"xoffset":r.xOffset=_.getInt();break;case"y":r.y=_.getInt();break;case"yoffset":r.yOffset=_.getInt();break}}this._glyphs.h[r.charCode]=r;break;case"common":var h=e.pairs();while(h.hasNext()){var u=h.next();"lineHeight"==u.key&&(this.lineHeight=u.getInt())}break;case"info":var c=e.pairs();while(c.hasNext()){var d=c.next();"size"==d.key&&(this.size=d.getInt())}break;case"kerning":var p=null,m=0,f=0,g=e.pairs();while(g.hasNext()){var b=g.next();switch(b.key){case"amount":f=b.getInt();break;case"first":var w=this._glyphs,v=b.getInt();p=w.h[v];break;case"second":m=b.getInt();break}}null!=p&&0!=f&&p.setKerning(m,f);break;case"page":var y=0,x=null,S=e.pairs();while(S.hasNext()){var k=S.next();switch(k.key){case"file":x=k.getString();break;case"id":y=k.getInt();break}}t[y]=this._pack.getTexture(i+hn.removeFileExtension(x));break}}},__class__:te};var ne=o["flambe.display.TextAlign"]={__ename__:!0,__constructs__:null,Left:{_hx_name:"Left",_hx_index:0,__enum__:"flambe.display.TextAlign",toString:r},Center:{_hx_name:"Center",_hx_index:1,__enum__:"flambe.display.TextAlign",toString:r},Right:{_hx_name:"Right",_hx_index:2,__enum__:"flambe.display.TextAlign",toString:r}};ne.__constructs__=[ne.Left,ne.Center,ne.Right];var ie=function(e,t,n,i,a,s){this.lines=0;var r=this;this._font=e,this._glyphs=[],this._offsets=[],this._lineOffset=Math.round(e.lineHeight+s),this.bounds=new ke;var o=[],_=t.length,h=0;while(h<_){var l=h++,u=t.charCodeAt(l),c=e._glyphs.h[u];null!=c?this._glyphs.push(c):F.logger.warn("Requested a missing character from font",["font",e.name,"charCode",u])}var d=-1,p=0,m=0,f=e._glyphs.h[10],g=function(){var e=r.bounds.width;r.bounds.width=e>p?e:p,r.bounds.height+=m,o[r.lines]=p,p=0,m=0,++r.lines};l=0;while(l<this._glyphs.length){c=this._glyphs[l];this._offsets[l]=Math.round(p);var b=i>0&&p+c.width>i;if(b||c==f)b&&(d>=0?(this._glyphs[d]=f,p=this._offsets[d],l=d):this._glyphs.splice(l,0,f)),d=-1,m=this._lineOffset,g();else{32==c.charCode&&(d=l),p+=c.xAdvance+a;var w=c.height+c.yOffset;if(m>w||(m=w),l+1<this._glyphs.length){var v=this._glyphs[l+1];p+=c.getKerning(v.charCode)}}++l}g();var y=0,x=ie.getAlignOffset(n,o[0],i),S=179769313486231e294,k=-179769313486231e294,C=0;l=0,_=this._glyphs.length;while(l<_){c=this._glyphs[l];10==c.charCode&&(y+=this._lineOffset,++C,x=ie.getAlignOffset(n,o[C],i)),this._offsets[l]+=x;var A=y+c.yOffset;S<A||(S=A);w=A+c.height;k>w||(k=w),++l}this.bounds.x=ie.getAlignOffset(n,this.bounds.width,i),this.bounds.y=S,this.bounds.height=k-S};ie.__name__="flambe.display.TextLayout",ie.getAlignOffset=function(e,t,n){switch(e._hx_index){case 0:return 0;case 1:return Math.round((n-t)/2);case 2:return n-t}},ie.prototype={draw:function(e){var t=0,n=0,i=this._glyphs.length;while(n<i){var a=this._glyphs[n];if(10==a.charCode)t+=this._lineOffset;else{var s=this._offsets[n];a.draw(e,s,t)}++n}},__class__:ie};var ae=function(e){this._configText=e,this._keywordPattern=new h("([A-Za-z]+)(.*)",""),this._pairPattern=new h('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};ae.__name__="flambe.display._Font.ConfigParser",ae.advance=function(e,t){var n=t.matchedPos();return l.substr(e,n.pos+n.len,e.length)},ae.prototype={keywords:function(){var e=this,t=this._configText;return{next:function(){return t=ae.advance(t,e._keywordPattern),e._pairText=e._keywordPattern.matched(2),e._keywordPattern.matched(1)},hasNext:function(){return e._keywordPattern.match(t)}}},pairs:function(){var e=this,t=this._pairText;return{next:function(){return t=ae.advance(t,e._pairPattern),new se(e._pairPattern.matched(1),e._pairPattern.matched(2))},hasNext:function(){return e._pairPattern.match(t)}}},__class__:ae};var se=function(e,t){this.key=e,this._value=t};se.__name__="flambe.display._Font.ConfigPair",se.prototype={getInt:function(){return d.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:l.substr(this._value,1,this._value.length-2)},__class__:se};var re=function(){};re.__name__="flambe.display.Graphics",re.__isInterface__=!0,re.prototype={__class__:re};var oe=function(e){Q.call(this),this.texture=e};oe.__name__="flambe.display.ImageSprite",oe.__super__=Q,oe.prototype=_(Q.prototype,{draw:function(e){null!=this.texture&&e.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:oe});var _e=o["flambe.display.Orientation"]={__ename__:!0,__constructs__:null,Portrait:{_hx_name:"Portrait",_hx_index:0,__enum__:"flambe.display.Orientation",toString:r},Landscape:{_hx_name:"Landscape",_hx_index:1,__enum__:"flambe.display.Orientation",toString:r}};_e.__constructs__=[_e.Portrait,_e.Landscape];var he=function(){};he.__name__="flambe.display.Texture",he.__isInterface__=!0,he.__interfaces__=[O],he.prototype={__class__:he};var le=function(){};le.__name__="flambe.display.SubTexture",le.__isInterface__=!0,le.__interfaces__=[he];var ue=function(e,t){null==t&&(t=""),this._lastReloadCount=-1,this._layout=null;var n=this;Q.call(this),this._font=e,this._text=t,this._align=ne.Left,this._flags|=256;var i=function(e,t){n._flags|=256};this.wrapWidth=new P(0,i),this.letterSpacing=new P(0,i),this.lineSpacing=new P(0,i)};ue.__name__="flambe.display.TextSprite",ue.__super__=Q,ue.prototype=_(Q.prototype,{draw:function(e){this.updateLayout(),this._layout.draw(e)},getNaturalWidth:function(){return this.updateLayout(),this.wrapWidth._value>0?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var e=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),t=this._layout.bounds.height;return e>t?e:t},containsLocal:function(e,t){return this.updateLayout(),this._layout.bounds.contains(e,t)},set_text:function(e){return e!=this._text&&(this._text=e,this._flags|=256),e},updateLayout:function(){var e=this._font.checkReload();e!=this._lastReloadCount&&(this._lastReloadCount=e,this._flags|=256),0!=(256&this._flags)&&(this._flags&=-257,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(e){Q.prototype.onUpdate.call(this,e),this.wrapWidth.update(e),this.letterSpacing.update(e),this.lineSpacing.update(e)},__class__:ue});var ce=function(){this.init(0,0,0)};ce.__name__="flambe.input.Acceleration",ce.prototype={init:function(e,t,n){this.x=e,this.y=t,this.z=n},__class__:ce};var de=function(){this.init(0,0,0)};de.__name__="flambe.input.Attitude",de.prototype={init:function(e,t,n){this.pitch=e,this.roll=t,this.azimuth=n},__class__:de};var pe=o["flambe.input.Key"]={__ename__:!0,__constructs__:null,A:{_hx_name:"A",_hx_index:0,__enum__:"flambe.input.Key",toString:r},B:{_hx_name:"B",_hx_index:1,__enum__:"flambe.input.Key",toString:r},C:{_hx_name:"C",_hx_index:2,__enum__:"flambe.input.Key",toString:r},D:{_hx_name:"D",_hx_index:3,__enum__:"flambe.input.Key",toString:r},E:{_hx_name:"E",_hx_index:4,__enum__:"flambe.input.Key",toString:r},F:{_hx_name:"F",_hx_index:5,__enum__:"flambe.input.Key",toString:r},G:{_hx_name:"G",_hx_index:6,__enum__:"flambe.input.Key",toString:r},H:{_hx_name:"H",_hx_index:7,__enum__:"flambe.input.Key",toString:r},I:{_hx_name:"I",_hx_index:8,__enum__:"flambe.input.Key",toString:r},J:{_hx_name:"J",_hx_index:9,__enum__:"flambe.input.Key",toString:r},K:{_hx_name:"K",_hx_index:10,__enum__:"flambe.input.Key",toString:r},L:{_hx_name:"L",_hx_index:11,__enum__:"flambe.input.Key",toString:r},M:{_hx_name:"M",_hx_index:12,__enum__:"flambe.input.Key",toString:r},N:{_hx_name:"N",_hx_index:13,__enum__:"flambe.input.Key",toString:r},O:{_hx_name:"O",_hx_index:14,__enum__:"flambe.input.Key",toString:r},P:{_hx_name:"P",_hx_index:15,__enum__:"flambe.input.Key",toString:r},Q:{_hx_name:"Q",_hx_index:16,__enum__:"flambe.input.Key",toString:r},R:{_hx_name:"R",_hx_index:17,__enum__:"flambe.input.Key",toString:r},S:{_hx_name:"S",_hx_index:18,__enum__:"flambe.input.Key",toString:r},T:{_hx_name:"T",_hx_index:19,__enum__:"flambe.input.Key",toString:r},U:{_hx_name:"U",_hx_index:20,__enum__:"flambe.input.Key",toString:r},V:{_hx_name:"V",_hx_index:21,__enum__:"flambe.input.Key",toString:r},W:{_hx_name:"W",_hx_index:22,__enum__:"flambe.input.Key",toString:r},X:{_hx_name:"X",_hx_index:23,__enum__:"flambe.input.Key",toString:r},Y:{_hx_name:"Y",_hx_index:24,__enum__:"flambe.input.Key",toString:r},Z:{_hx_name:"Z",_hx_index:25,__enum__:"flambe.input.Key",toString:r},Number0:{_hx_name:"Number0",_hx_index:26,__enum__:"flambe.input.Key",toString:r},Number1:{_hx_name:"Number1",_hx_index:27,__enum__:"flambe.input.Key",toString:r},Number2:{_hx_name:"Number2",_hx_index:28,__enum__:"flambe.input.Key",toString:r},Number3:{_hx_name:"Number3",_hx_index:29,__enum__:"flambe.input.Key",toString:r},Number4:{_hx_name:"Number4",_hx_index:30,__enum__:"flambe.input.Key",toString:r},Number5:{_hx_name:"Number5",_hx_index:31,__enum__:"flambe.input.Key",toString:r},Number6:{_hx_name:"Number6",_hx_index:32,__enum__:"flambe.input.Key",toString:r},Number7:{_hx_name:"Number7",_hx_index:33,__enum__:"flambe.input.Key",toString:r},Number8:{_hx_name:"Number8",_hx_index:34,__enum__:"flambe.input.Key",toString:r},Number9:{_hx_name:"Number9",_hx_index:35,__enum__:"flambe.input.Key",toString:r},Numpad0:{_hx_name:"Numpad0",_hx_index:36,__enum__:"flambe.input.Key",toString:r},Numpad1:{_hx_name:"Numpad1",_hx_index:37,__enum__:"flambe.input.Key",toString:r},Numpad2:{_hx_name:"Numpad2",_hx_index:38,__enum__:"flambe.input.Key",toString:r},Numpad3:{_hx_name:"Numpad3",_hx_index:39,__enum__:"flambe.input.Key",toString:r},Numpad4:{_hx_name:"Numpad4",_hx_index:40,__enum__:"flambe.input.Key",toString:r},Numpad5:{_hx_name:"Numpad5",_hx_index:41,__enum__:"flambe.input.Key",toString:r},Numpad6:{_hx_name:"Numpad6",_hx_index:42,__enum__:"flambe.input.Key",toString:r},Numpad7:{_hx_name:"Numpad7",_hx_index:43,__enum__:"flambe.input.Key",toString:r},Numpad8:{_hx_name:"Numpad8",_hx_index:44,__enum__:"flambe.input.Key",toString:r},Numpad9:{_hx_name:"Numpad9",_hx_index:45,__enum__:"flambe.input.Key",toString:r},NumpadAdd:{_hx_name:"NumpadAdd",_hx_index:46,__enum__:"flambe.input.Key",toString:r},NumpadDecimal:{_hx_name:"NumpadDecimal",_hx_index:47,__enum__:"flambe.input.Key",toString:r},NumpadDivide:{_hx_name:"NumpadDivide",_hx_index:48,__enum__:"flambe.input.Key",toString:r},NumpadEnter:{_hx_name:"NumpadEnter",_hx_index:49,__enum__:"flambe.input.Key",toString:r},NumpadMultiply:{_hx_name:"NumpadMultiply",_hx_index:50,__enum__:"flambe.input.Key",toString:r},NumpadSubtract:{_hx_name:"NumpadSubtract",_hx_index:51,__enum__:"flambe.input.Key",toString:r},F1:{_hx_name:"F1",_hx_index:52,__enum__:"flambe.input.Key",toString:r},F2:{_hx_name:"F2",_hx_index:53,__enum__:"flambe.input.Key",toString:r},F3:{_hx_name:"F3",_hx_index:54,__enum__:"flambe.input.Key",toString:r},F4:{_hx_name:"F4",_hx_index:55,__enum__:"flambe.input.Key",toString:r},F5:{_hx_name:"F5",_hx_index:56,__enum__:"flambe.input.Key",toString:r},F6:{_hx_name:"F6",_hx_index:57,__enum__:"flambe.input.Key",toString:r},F7:{_hx_name:"F7",_hx_index:58,__enum__:"flambe.input.Key",toString:r},F8:{_hx_name:"F8",_hx_index:59,__enum__:"flambe.input.Key",toString:r},F9:{_hx_name:"F9",_hx_index:60,__enum__:"flambe.input.Key",toString:r},F10:{_hx_name:"F10",_hx_index:61,__enum__:"flambe.input.Key",toString:r},F11:{_hx_name:"F11",_hx_index:62,__enum__:"flambe.input.Key",toString:r},F12:{_hx_name:"F12",_hx_index:63,__enum__:"flambe.input.Key",toString:r},F13:{_hx_name:"F13",_hx_index:64,__enum__:"flambe.input.Key",toString:r},F14:{_hx_name:"F14",_hx_index:65,__enum__:"flambe.input.Key",toString:r},F15:{_hx_name:"F15",_hx_index:66,__enum__:"flambe.input.Key",toString:r},Left:{_hx_name:"Left",_hx_index:67,__enum__:"flambe.input.Key",toString:r},Up:{_hx_name:"Up",_hx_index:68,__enum__:"flambe.input.Key",toString:r},Right:{_hx_name:"Right",_hx_index:69,__enum__:"flambe.input.Key",toString:r},Down:{_hx_name:"Down",_hx_index:70,__enum__:"flambe.input.Key",toString:r},Alt:{_hx_name:"Alt",_hx_index:71,__enum__:"flambe.input.Key",toString:r},Backquote:{_hx_name:"Backquote",_hx_index:72,__enum__:"flambe.input.Key",toString:r},Backslash:{_hx_name:"Backslash",_hx_index:73,__enum__:"flambe.input.Key",toString:r},Backspace:{_hx_name:"Backspace",_hx_index:74,__enum__:"flambe.input.Key",toString:r},CapsLock:{_hx_name:"CapsLock",_hx_index:75,__enum__:"flambe.input.Key",toString:r},Comma:{_hx_name:"Comma",_hx_index:76,__enum__:"flambe.input.Key",toString:r},Command:{_hx_name:"Command",_hx_index:77,__enum__:"flambe.input.Key",toString:r},Control:{_hx_name:"Control",_hx_index:78,__enum__:"flambe.input.Key",toString:r},Delete:{_hx_name:"Delete",_hx_index:79,__enum__:"flambe.input.Key",toString:r},End:{_hx_name:"End",_hx_index:80,__enum__:"flambe.input.Key",toString:r},Enter:{_hx_name:"Enter",_hx_index:81,__enum__:"flambe.input.Key",toString:r},Equals:{_hx_name:"Equals",_hx_index:82,__enum__:"flambe.input.Key",toString:r},Escape:{_hx_name:"Escape",_hx_index:83,__enum__:"flambe.input.Key",toString:r},Home:{_hx_name:"Home",_hx_index:84,__enum__:"flambe.input.Key",toString:r},Insert:{_hx_name:"Insert",_hx_index:85,__enum__:"flambe.input.Key",toString:r},LeftBracket:{_hx_name:"LeftBracket",_hx_index:86,__enum__:"flambe.input.Key",toString:r},Minus:{_hx_name:"Minus",_hx_index:87,__enum__:"flambe.input.Key",toString:r},PageDown:{_hx_name:"PageDown",_hx_index:88,__enum__:"flambe.input.Key",toString:r},PageUp:{_hx_name:"PageUp",_hx_index:89,__enum__:"flambe.input.Key",toString:r},Period:{_hx_name:"Period",_hx_index:90,__enum__:"flambe.input.Key",toString:r},Quote:{_hx_name:"Quote",_hx_index:91,__enum__:"flambe.input.Key",toString:r},RightBracket:{_hx_name:"RightBracket",_hx_index:92,__enum__:"flambe.input.Key",toString:r},Semicolon:{_hx_name:"Semicolon",_hx_index:93,__enum__:"flambe.input.Key",toString:r},Shift:{_hx_name:"Shift",_hx_index:94,__enum__:"flambe.input.Key",toString:r},Slash:{_hx_name:"Slash",_hx_index:95,__enum__:"flambe.input.Key",toString:r},Space:{_hx_name:"Space",_hx_index:96,__enum__:"flambe.input.Key",toString:r},Tab:{_hx_name:"Tab",_hx_index:97,__enum__:"flambe.input.Key",toString:r},Menu:{_hx_name:"Menu",_hx_index:98,__enum__:"flambe.input.Key",toString:r},Search:{_hx_name:"Search",_hx_index:99,__enum__:"flambe.input.Key",toString:r},Unknown:(s=function(e){return{_hx_index:100,keyCode:e,__enum__:"flambe.input.Key",toString:r}},s._hx_name="Unknown",s.__params__=["keyCode"],s)};pe.__constructs__=[pe.A,pe.B,pe.C,pe.D,pe.E,pe.F,pe.G,pe.H,pe.I,pe.J,pe.K,pe.L,pe.M,pe.N,pe.O,pe.P,pe.Q,pe.R,pe.S,pe.T,pe.U,pe.V,pe.W,pe.X,pe.Y,pe.Z,pe.Number0,pe.Number1,pe.Number2,pe.Number3,pe.Number4,pe.Number5,pe.Number6,pe.Number7,pe.Number8,pe.Number9,pe.Numpad0,pe.Numpad1,pe.Numpad2,pe.Numpad3,pe.Numpad4,pe.Numpad5,pe.Numpad6,pe.Numpad7,pe.Numpad8,pe.Numpad9,pe.NumpadAdd,pe.NumpadDecimal,pe.NumpadDivide,pe.NumpadEnter,pe.NumpadMultiply,pe.NumpadSubtract,pe.F1,pe.F2,pe.F3,pe.F4,pe.F5,pe.F6,pe.F7,pe.F8,pe.F9,pe.F10,pe.F11,pe.F12,pe.F13,pe.F14,pe.F15,pe.Left,pe.Up,pe.Right,pe.Down,pe.Alt,pe.Backquote,pe.Backslash,pe.Backspace,pe.CapsLock,pe.Comma,pe.Command,pe.Control,pe.Delete,pe.End,pe.Enter,pe.Equals,pe.Escape,pe.Home,pe.Insert,pe.LeftBracket,pe.Minus,pe.PageDown,pe.PageUp,pe.Period,pe.Quote,pe.RightBracket,pe.Semicolon,pe.Shift,pe.Slash,pe.Space,pe.Tab,pe.Menu,pe.Search,pe.Unknown];var me=function(){this.init(0,null)};me.__name__="flambe.input.KeyboardEvent",me.prototype={init:function(e,t){this.id=e,this.key=t},__class__:me};var fe=o["flambe.input.MouseButton"]={__ename__:!0,__constructs__:null,Left:{_hx_name:"Left",_hx_index:0,__enum__:"flambe.input.MouseButton",toString:r},Middle:{_hx_name:"Middle",_hx_index:1,__enum__:"flambe.input.MouseButton",toString:r},Right:{_hx_name:"Right",_hx_index:2,__enum__:"flambe.input.MouseButton",toString:r},Unknown:(s=function(e){return{_hx_index:3,buttonCode:e,__enum__:"flambe.input.MouseButton",toString:r}},s._hx_name="Unknown",s.__params__=["buttonCode"],s)};fe.__constructs__=[fe.Left,fe.Middle,fe.Right,fe.Unknown];var ge=o["flambe.input.MouseCursor"]={__ename__:!0,__constructs__:null,Default:{_hx_name:"Default",_hx_index:0,__enum__:"flambe.input.MouseCursor",toString:r},Button:{_hx_name:"Button",_hx_index:1,__enum__:"flambe.input.MouseCursor",toString:r},None:{_hx_name:"None",_hx_index:2,__enum__:"flambe.input.MouseCursor",toString:r}};ge.__constructs__=[ge.Default,ge.Button,ge.None];var be=function(){this.init(0,0,0,null)};be.__name__="flambe.input.MouseEvent",be.prototype={init:function(e,t,n,i){this.id=e,this.viewX=t,this.viewY=n,this.button=i},__class__:be};var we=o["flambe.input.EventSource"]={__ename__:!0,__constructs__:null,Mouse:(s=function(e){return{_hx_index:0,event:e,__enum__:"flambe.input.EventSource",toString:r}},s._hx_name="Mouse",s.__params__=["event"],s),Touch:(s=function(e){return{_hx_index:1,point:e,__enum__:"flambe.input.EventSource",toString:r}},s._hx_name="Touch",s.__params__=["point"],s)};we.__constructs__=[we.Mouse,we.Touch];var ve=function(){this.init(0,0,0,null,null)};ve.__name__="flambe.input.PointerEvent",ve.prototype={init:function(e,t,n,i,a){this.id=e,this.viewX=t,this.viewY=n,this.hit=i,this.source=a,this._stopped=!1},__class__:ve};var ye=function(e){this.id=e,this._source=we.Touch(this)};ye.__name__="flambe.input.TouchPoint",ye.prototype={init:function(e,t){this.viewX=e,this.viewY=t},__class__:ye};var xe=function(){};xe.__name__="flambe.math.FMath",xe.clamp=function(e,t,n){return e<t?t:e>n?n:e};var Se=function(){this.identity()};Se.__name__="flambe.math.Matrix",Se.multiply=function(e,t,n){null==n&&(n=new Se);var i=e.m00*t.m00+e.m01*t.m10,a=e.m00*t.m01+e.m01*t.m11,s=e.m00*t.m02+e.m01*t.m12+e.m02;return n.m00=i,n.m01=a,n.m02=s,i=e.m10*t.m00+e.m11*t.m10,a=e.m10*t.m01+e.m11*t.m11,s=e.m10*t.m02+e.m11*t.m12+e.m12,n.m10=i,n.m11=a,n.m12=s,n},Se.prototype={set:function(e,t,n,i,a,s){this.m00=e,this.m01=n,this.m02=a,this.m10=t,this.m11=i,this.m12=s},identity:function(){this.set(1,0,0,1,0,0)},translate:function(e,t){this.m02+=this.m00*e+this.m01*t,this.m12+=this.m11*t+this.m10*e},invert:function(){var e=this.determinant();return 0!=e&&(this.set(this.m11/e,-this.m01/e,-this.m10/e,this.m00/e,(this.m01*this.m12-this.m11*this.m02)/e,(this.m10*this.m02-this.m00*this.m12)/e),!0)},transform:function(e,t,n){return null==n&&(n=new q),n.x=e*this.m00+t*this.m01+this.m02,n.y=e*this.m10+t*this.m11+this.m12,n},transformArray:function(e,t,n){var i=0;while(i<t){var a=e[i],s=e[i+1];n[i++]=a*this.m00+s*this.m01+this.m02,n[i++]=a*this.m10+s*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(e,t,n){var i=this.determinant();return 0!=i&&(e-=this.m02,t-=this.m12,n.x=(e*this.m11-t*this.m01)/i,n.y=(t*this.m00-e*this.m10)/i,!0)},clone:function(e){return null==e&&(e=new Se),e.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12),e},toString:function(){return this.m00+" "+this.m01+" "+this.m02+" \\ "+this.m10+" "+this.m11+" "+this.m12},__class__:Se};var ke=function(e,t,n,i){null==i&&(i=0),null==n&&(n=0),null==t&&(t=0),null==e&&(e=0),this.set(e,t,n,i)};ke.__name__="flambe.math.Rectangle",ke.prototype={set:function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i},contains:function(e,t){if(e-=this.x,this.width>=0){if(e<0||e>this.width)return!1}else if(e>0||e<this.width)return!1;if(t-=this.y,this.height>=0){if(t<0||t>this.height)return!1}else if(t>0||t<this.height)return!1;return!0},clone:function(e){return null==e&&(e=new ke),e.set(this.x,this.y,this.width,this.height),e},equals:function(e){return this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},toString:function(){return"("+this.x+","+this.y+" "+this.width+"x"+this.height+")"},__class__:ke};var Ce=function(){this._reloadCount=null,this._disposed=!1};Ce.__name__="flambe.platform.BasicAsset",Ce.__interfaces__=[O],Ce.prototype={reload:function(e){this.dispose(),this._disposed=!1,this.copyFrom(e);var t=this.get_reloadCount();t.set__(t._value+1)},dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},copyFrom:function(e){nn.fail()},onDisposed:function(){nn.fail()},get_reloadCount:function(){return null==this._reloadCount&&(this._reloadCount=new C(0)),this._reloadCount},__class__:Ce};var Ae=function(e,t){var n=this;this.manifest=t,this._platform=e,this.promise=new rn,this._bytesLoaded=new ci,this._pack=new Te(t,this);var i=u.array(t);if(0==i.length)this.handleSuccess();else{var a=new ci,s=0;while(s<i.length){var r=i[s];++s;var o=a.h[r.name];null==o&&(o=[],a.h[r.name]=o),o.push(r)}this._assetsRemaining=u.count(a);var _=a.h,h=Object.keys(_),l=h.length,c=0;while(c<l){o=[_[h[c++]]];this.pickBestEntry(o[0],function(e){return function(i){if(null!=i){var a=t.getFullURL(i);try{n.loadEntry(a,i)}catch(s){var r=hi.caught(s).unwrap();n.handleError(i,"Unexpected error: "+d.string(r))}var o=n.promise;o.set_total(o._total+i.bytes)}else{var _=e[0][0];Ae.isAudio(_.format)?(F.logger.warn("Could not find a supported audio format to load",["name",_.name]),n.handleLoad(_,Ve.getInstance())):n.handleError(_,"Could not find a supported format to load")}}}(o))}}var p=this._platform.getCatapultClient();null!=p&&p.add(this)};Ae.__name__="flambe.platform.BasicAssetPackLoader",Ae.removeUrlParams=function(e){var t=e.indexOf("?");return t>0?l.substr(e,0,t):e},Ae.isAudio=function(e){switch(e._hx_index){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}},Ae.prototype={reload:function(e){var t=this,n=Ae.removeUrlParams(e),i=null,a=this.manifest._entries,s=0;while(s<a.length){var r=a[s++];if(n==Ae.removeUrlParams(r.url)){i=r;break}}null!=i&&this.getAssetFormats((function(n){if(n.indexOf(i.format)>=0){var a=new U(i.name,e,i.format,0);t.loadEntry(t.manifest.getFullURL(a),a)}}))},onDisposed:function(){var e=this._platform.getCatapultClient();null!=e&&e.remove(this)},pickBestEntry:function(e,t){var n=function(n){var i=0;while(i<n.length){var a=n[i];++i;var s=0;while(s<e.length){var r=e[s];if(++s,r.format==a)return void t(r)}}t(null)};this.getAssetFormats(n)},loadEntry:function(e,t){nn.fail()},getAssetFormats:function(e){nn.fail()},handleLoad:function(e,t){if(!this._pack.disposed){var n;switch(this.handleProgress(e,e.bytes),e.format._hx_index){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:n=this._pack.sounds;break;case 13:n=this._pack.files;break}var i=n.h[e.name];null!=i?(F.logger.info("Reloaded asset",["url",e.url]),i.reload(t)):(n.h[e.name]=t,this._assetsRemaining-=1,0==this._assetsRemaining&&this.handleSuccess())}},handleProgress:function(e,t){this._bytesLoaded.h[e.name]=t;var n=0,i=this._bytesLoaded.h,a=Object.keys(i),s=a.length,r=0;while(r<s){var o=i[a[r++]];n+=o}this.promise.set_progress(n)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(e,t){F.logger.warn("Error loading asset pack",["error",t,"url",e.url]),this.promise.error.emit(hn.withFields(t,["url",e.url]))},handleTextureError:function(e){this.handleError(e,"Failed to create texture. Is the GPU context unavailable?")},__class__:Ae};var Te=function(e,t){this.disposed=!1,this._manifest=e,this.loader=t,this.textures=new ci,this.sounds=new ci,this.files=new ci};Te.__name__="flambe.platform._BasicAssetPackLoader.BasicAssetPack",Te.__interfaces__=[K],Te.warnOnExtension=function(e){var t=hn.getFileExtension(e);if(null!=t&&3==t.length){var n='Requested asset "'+e+'" should not have a file extension, did you mean "'+hn.removeFileExtension(e)+'"?';F.logger.warn(n,null)}},Te.prototype={getTexture:function(e,t){null==t&&(t=!0),nn.that(!this.disposed,"AssetPack cannot be used after being disposed"),Te.warnOnExtension(e);var n=this.textures.h[e];if(null==n&&t)throw hi.thrown(hn.withFields("Missing texture",["name",e]));return n},getSound:function(e,t){null==t&&(t=!0),nn.that(!this.disposed,"AssetPack cannot be used after being disposed"),Te.warnOnExtension(e);var n=this.sounds.h[e];if(null==n&&t)throw hi.thrown(hn.withFields("Missing sound",["name",e]));return n},getFile:function(e,t){null==t&&(t=!0),nn.that(!this.disposed,"AssetPack cannot be used after being disposed");var n=this.files.h[e];if(null==n&&t)throw hi.thrown(hn.withFields("Missing file",["name",e]));return n},dispose:function(){if(!this.disposed){this.disposed=!0;var e=this.textures.h,t=Object.keys(e),n=t.length,i=0;while(i<n){var a=e[t[i++]];a.dispose()}this.textures=null;e=this.sounds.h;var s=Object.keys(e),r=s.length,o=0;while(o<r){var _=e[s[o++]];_.dispose()}this.sounds=null;e=this.files.h;var h=Object.keys(e),l=h.length,u=0;while(u<l){var c=e[h[u++]];c.dispose()}this.files=null,this.loader.onDisposed()}},__class__:Te};var Me=function(e){Ce.call(this),this._content=e};Me.__name__="flambe.platform.BasicFile",Me.__interfaces__=[W],Me.__super__=Ce,Me.prototype=_(Ce.prototype,{toString:function(){return nn.that(!this._disposed,"Asset cannot be used after being disposed"),this._content},copyFrom:function(e){this._content=e._content},onDisposed:function(){this._content=null},__class__:Me});var Ee=function(){};Ee.__name__="flambe.subsystem.KeyboardSystem",Ee.__isInterface__=!0,Ee.prototype={__class__:Ee};var Pe=function(){this.down=new E,this.up=new E,this.backButton=new on,this._keyStates=new ui};Pe.__name__="flambe.platform.BasicKeyboard",Pe.__interfaces__=[Ee],Pe.prototype={isDown:function(e){return this._keyStates.h.hasOwnProperty($e.toKeyCode(e))},submitDown:function(e){return 16777238==e?null!=this.backButton._head&&(this.backButton.emit(),!0):(this._keyStates.h.hasOwnProperty(e)||(this._keyStates.h[e]=!0,Pe._sharedEvent.init(Pe._sharedEvent.id+1,$e.toKey(e)),this.down.emit(Pe._sharedEvent)),!0)},submitUp:function(e){this._keyStates.h.hasOwnProperty(e)&&(this._keyStates.remove(e),Pe._sharedEvent.init(Pe._sharedEvent.id+1,$e.toKey(e)),this.up.emit(Pe._sharedEvent))},__class__:Pe};var Re=function(){};Re.__name__="flambe.subsystem.MouseSystem",Re.__isInterface__=!0;var De=function(e){this._pointer=e,this._source=we.Mouse(De._sharedEvent),this.down=new E,this.move=new E,this.up=new E,this.scroll=new E,this._x=0,this._y=0,this._cursor=ge.Default,this._buttonStates=new ui};De.__name__="flambe.platform.BasicMouse",De.__interfaces__=[Re],De.prototype={submitDown:function(e,t,n){this._buttonStates.h.hasOwnProperty(n)||(this._buttonStates.h[n]=!0,this.prepare(e,t,nt.toButton(n)),this._pointer.submitDown(e,t,this._source),this.down.emit(De._sharedEvent))},submitMove:function(e,t){this.prepare(e,t,null),this._pointer.submitMove(e,t,this._source),this.move.emit(De._sharedEvent)},submitUp:function(e,t,n){this._buttonStates.h.hasOwnProperty(n)&&(this._buttonStates.remove(n),this.prepare(e,t,nt.toButton(n)),this._pointer.submitUp(e,t,this._source),this.up.emit(De._sharedEvent))},submitScroll:function(e,t,n){return this._x=e,this._y=t,null!=this.scroll._head&&(this.scroll.emit(n),!0)},prepare:function(e,t,n){this._x=e,this._y=t,De._sharedEvent.init(De._sharedEvent.id+1,e,t,n)},__class__:De};var Fe=function(){};Fe.__name__="flambe.subsystem.PointerSystem",Fe.__isInterface__=!0,Fe.prototype={__class__:Fe};var Be=function(e,t,n){null==n&&(n=!1),null==t&&(t=0),null==e&&(e=0),this.down=new E,this.move=new E,this.up=new E,this._x=e,this._y=t,this._isDown=n};Be.__name__="flambe.platform.BasicPointer",Be.__interfaces__=[Fe],Be.prototype={get_x:function(){return this._x},get_y:function(){return this._y},isDown:function(){return this._isDown},submitDown:function(e,t,n){if(!this._isDown){this.submitMove(e,t,n),this._isDown=!0;var i=[],a=Q.hitTest(R.root,e,t);if(null!=a){var s=a.owner;while(1){var r=s._compMap["Sprite_5"];if(null!=r&&i.push(r),s=s.parent,null==s)break}}this.prepare(e,t,a,n);var o=0;while(o<i.length){r=i[o];if(++o,r.onPointerDown(Be._sharedEvent),Be._sharedEvent._stopped)return}this.down.emit(Be._sharedEvent)}},submitMove:function(e,t,n){if(e!=this._x||t!=this._y){var i=[],a=Q.hitTest(R.root,e,t);if(null!=a){var s=a.owner;while(1){var r=s._compMap["Sprite_5"];if(null!=r&&i.push(r),s=s.parent,null==s)break}}this.prepare(e,t,a,n);var o=0;while(o<i.length){r=i[o];if(++o,r.onPointerMove(Be._sharedEvent),Be._sharedEvent._stopped)return}this.move.emit(Be._sharedEvent)}},submitUp:function(e,t,n){if(this._isDown){this.submitMove(e,t,n),this._isDown=!1;var i=[],a=Q.hitTest(R.root,e,t);if(null!=a){var s=a.owner;while(1){var r=s._compMap["Sprite_5"];if(null!=r&&i.push(r),s=s.parent,null==s)break}}this.prepare(e,t,a,n);var o=0;while(o<i.length){r=i[o];if(++o,r.onPointerUp(Be._sharedEvent),Be._sharedEvent._stopped)return}this.up.emit(Be._sharedEvent)}},prepare:function(e,t,n,i){this._x=e,this._y=t,Be._sharedEvent.init(Be._sharedEvent.id+1,e,t,n,i)},__class__:Be};var Ie=function(e,t,n){this._y=0,this._x=0,this._parent=null,this.rootY=0,this.rootX=0,Ce.call(this),this.root=e,this._width=t,this._height=n};Ie.__name__="flambe.platform.BasicTexture",Ie.__interfaces__=[le],Ie.__super__=Ce,Ie.prototype=_(Ce.prototype,{copyFrom:function(e){this.root._disposed=!1,this.root.copyFrom(e.root),this._width=e._width,this._height=e._height,nn.that(this.rootX==e.rootX&&this.rootY==e.rootY&&this._x==e._x&&this._y==e._y)},onDisposed:function(){null==this._parent&&this.root.dispose()},get_reloadCount:function(){return this.root.get_reloadCount()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:Ie});var Le=function(){};Le.__name__="flambe.subsystem.TouchSystem",Le.__isInterface__=!0;var Ne=function(e,t){null==t&&(t=4),this._pointer=e,this._maxPoints=t,this._pointMap=new ui,this._points=[],this.down=new E,this.move=new E,this.up=new E};Ne.__name__="flambe.platform.BasicTouch",Ne.__interfaces__=[Le],Ne.prototype={submitDown:function(e,t,n){if(!this._pointMap.h.hasOwnProperty(e)){var i=new ye(e);i.init(t,n),this._pointMap.h[e]=i,this._points.push(i),null==this._pointerTouch&&(this._pointerTouch=i,this._pointer.submitDown(t,n,i._source)),this.down.emit(i)}},submitMove:function(e,t,n){var i=this._pointMap.h[e];null!=i&&(i.init(t,n),this._pointerTouch==i&&this._pointer.submitMove(t,n,i._source),this.move.emit(i))},submitUp:function(e,t,n){var i=this._pointMap.h[e];null!=i&&(i.init(t,n),this._pointMap.remove(e),l.remove(this._points,i),this._pointerTouch==i&&(this._pointerTouch=null,this._pointer.submitUp(t,n,i._source)),this.up.emit(i))},__class__:Ne};var Ye=function(){this._loaders=[]};Ye.__name__="flambe.platform.CatapultClient",Ye.prototype={add:function(e){"assets"==e.manifest.get_localBase()&&this._loaders.push(e)},remove:function(e){l.remove(this._loaders,e)},onError:function(e){F.logger.warn("Unable to connect to Catapult",["cause",e])},onMessage:function(e){var t=JSON.parse(e);switch(t.type){case"file_changed":var n=t.name+"?v="+t.md5;n=m.replace(n,"\\","/");var i=0,a=this._loaders;while(i<a.length){var s=a[i];++i,s.reload(n)}break;case"restart":this.onRestart();break}},onRestart:function(){nn.fail()},__class__:Ye};var Xe=function(e){var t=this;this._platform=e,e.getKeyboard().down.connect((function(n){n.key==pe.O&&e.getKeyboard().isDown(pe.Control)&&t.toggleOverdrawGraphics()&&F.logger.info("Enabled overdraw visualizer, press Ctrl-O again to disable",null)}))};Xe.__name__="flambe.platform.DebugLogic",Xe.prototype={toggleOverdrawGraphics:function(){var e=this._platform.getRenderer();if(null!=this._savedGraphics)e.graphics=this._savedGraphics,this._savedGraphics=null;else if(null!=e.graphics)return this._savedGraphics=e.graphics,e.graphics=new it(this._savedGraphics),!0;return!1},__class__:Xe};var Oe=function(){};Oe.__name__="flambe.sound.Sound",Oe.__isInterface__=!0,Oe.__interfaces__=[O],Oe.prototype={__class__:Oe};var Ve=function(){Ce.call(this),this._playback=new Ke(this)};Ve.__name__="flambe.platform.DummySound",Ve.__interfaces__=[Oe],Ve.getInstance=function(){return null==Ve._instance&&(Ve._instance=new Ve),Ve._instance},Ve.__super__=Ce,Ve.prototype=_(Ce.prototype,{play:function(e){return null==e&&(e=1),this._playback},loop:function(e){return null==e&&(e=1),this._playback},copyFrom:function(e){},onDisposed:function(){},__class__:Ve});var Ue=function(){};Ue.__name__="flambe.sound.Playback",Ue.__isInterface__=!0,Ue.__interfaces__=[b],Ue.prototype={__class__:Ue};var Ke=function(e){this._sound=e,this.volume=new P(0),this._complete=new C(!0)};Ke.__name__="flambe.platform.DummyPlayback",Ke.__interfaces__=[Ue],Ke.prototype={get_complete:function(){return this._complete},dispose:function(){},__class__:Ke};var We=function(){};We.__name__="flambe.subsystem.StorageSystem",We.__isInterface__=!0;var Ge=function(){this.clear()};Ge.__name__="flambe.platform.DummyStorage",Ge.__interfaces__=[We],Ge.prototype={clear:function(){this._hash=new ci},__class__:Ge};var He=function(){this.down=new E,this.move=new E,this.up=new E};He.__name__="flambe.platform.DummyTouch",He.__interfaces__=[Le],He.prototype={__class__:He};var je=function(){this._entries=[]};je.__name__="flambe.platform.EventGroup",je.__interfaces__=[b],je.prototype={addListener:function(e,t,n){e.addEventListener(t,n,!1),this._entries.push(new ze(e,t,n))},addDisposingListener:function(e,t,n){var i=this;this.addListener(e,t,(function(e){i.dispose(),n(e)}))},dispose:function(){var e=0,t=this._entries;while(e<t.length){var n=t[e];++e,n.dispatcher.removeEventListener(n.type,n.listener,!1)}this._entries=[]},__class__:je};var ze=function(e,t,n){this.dispatcher=e,this.type=t,this.listener=n};ze.__name__="flambe.platform._EventGroup.Entry",ze.prototype={__class__:ze};var qe=function(e){E.call(this,e),this.hasListenersValue=new C(null!=this._head)};qe.__name__="flambe.platform.HeavySignal1",qe.__super__=E,qe.prototype=_(E.prototype,{connect:function(e,t){null==t&&(t=!1);var n=E.prototype.connect.call(this,e,t);return this.hasListenersValue.set__(null!=this._head),n},disconnect:function(e){E.prototype.disconnect.call(this,e),this.hasListenersValue.set__(null!=this._head)},didEmit:function(e){E.prototype.didEmit.call(this,e),this.hasListenersValue.set__(null!=this._head)},__class__:qe});var Qe=function(){};Qe.__name__="flambe.platform.InternalGraphics",Qe.__isInterface__=!0,Qe.__interfaces__=[re],Qe.prototype={__class__:Qe};var Je=function(){};Je.__name__="flambe.subsystem.RendererSystem",Je.__isInterface__=!0,Je.prototype={__class__:Je};var Ze=function(){};Ze.__name__="flambe.platform.InternalRenderer",Ze.__isInterface__=!0,Ze.__interfaces__=[Je],Ze.prototype={__class__:Ze};var $e=function(){};$e.__name__="flambe.platform.KeyCodes",$e.toKey=function(e){switch(e){case 8:return pe.Backspace;case 9:return pe.Tab;case 13:return pe.Enter;case 15:return pe.Command;case 16:return pe.Shift;case 17:return pe.Control;case 18:return pe.Alt;case 20:return pe.CapsLock;case 27:return pe.Escape;case 32:return pe.Space;case 33:return pe.PageUp;case 34:return pe.PageDown;case 35:return pe.End;case 36:return pe.Home;case 37:return pe.Left;case 38:return pe.Up;case 39:return pe.Right;case 40:return pe.Down;case 45:return pe.Insert;case 46:return pe.Delete;case 48:return pe.Number0;case 49:return pe.Number1;case 50:return pe.Number2;case 51:return pe.Number3;case 52:return pe.Number4;case 53:return pe.Number5;case 54:return pe.Number6;case 55:return pe.Number7;case 56:return pe.Number8;case 57:return pe.Number9;case 65:return pe.A;case 66:return pe.B;case 67:return pe.C;case 68:return pe.D;case 69:return pe.E;case 70:return pe.F;case 71:return pe.G;case 72:return pe.H;case 73:return pe.I;case 74:return pe.J;case 75:return pe.K;case 76:return pe.L;case 77:return pe.M;case 78:return pe.N;case 79:return pe.O;case 80:return pe.P;case 81:return pe.Q;case 82:return pe.R;case 83:return pe.S;case 84:return pe.T;case 85:return pe.U;case 86:return pe.V;case 87:return pe.W;case 88:return pe.X;case 89:return pe.Y;case 90:return pe.Z;case 96:return pe.Numpad0;case 97:return pe.Numpad1;case 98:return pe.Numpad2;case 99:return pe.Numpad3;case 100:return pe.Numpad4;case 101:return pe.Numpad5;case 102:return pe.Numpad6;case 103:return pe.Numpad7;case 104:return pe.Numpad8;case 105:return pe.Numpad9;case 106:return pe.NumpadMultiply;case 107:return pe.NumpadAdd;case 108:return pe.NumpadEnter;case 109:return pe.NumpadSubtract;case 110:return pe.NumpadDecimal;case 111:return pe.NumpadDivide;case 112:return pe.F1;case 113:return pe.F2;case 114:return pe.F3;case 115:return pe.F4;case 116:return pe.F5;case 117:return pe.F6;case 118:return pe.F7;case 119:return pe.F8;case 120:return pe.F9;case 121:return pe.F10;case 122:return pe.F11;case 123:return pe.F12;case 186:return pe.Semicolon;case 187:return pe.Equals;case 188:return pe.Comma;case 189:return pe.Minus;case 190:return pe.Period;case 191:return pe.Slash;case 192:return pe.Backquote;case 219:return pe.LeftBracket;case 220:return pe.Backslash;case 221:return pe.RightBracket;case 222:return pe.Quote;case 16777234:return pe.Menu;case 16777247:return pe.Search}return pe.Unknown(e)},$e.toKeyCode=function(e){switch(e._hx_index){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return e.keyCode}};var et=function(){this._tickables=[]};et.__name__="flambe.platform.MainLoop",et.updateEntity=function(e,t){var n=e._compMap["SpeedAdjuster_33"];if(null!=n&&(n._realDt=t,t*=n.scale._value,t<=0))n.onUpdate(t);else{var i=e.firstComponent;while(null!=i){var a=i.next;0==(1&i._flags)&&(i._flags|=1,i.onStart()),i.onUpdate(t),i=a}i=e.firstChild;while(null!=i){a=i.next;et.updateEntity(i,t),i=a}}},et.prototype={update:function(e){if(e<=0)F.logger.warn("Zero or negative time elapsed since the last frame!",["dt",e]);else{e>1&&(e=1);var t=0;while(t<this._tickables.length){var n=this._tickables[t];null==n||n.update(e)?this._tickables.splice(t,1):++t}R.volume.update(e),et.updateEntity(R.root,e)}},render:function(e){var t=e.graphics;null!=t&&(e.willRender(),Q.render(R.root,t),e.didRender())},addTickable:function(e){this._tickables.push(e)},__class__:et};var tt=function(){};tt.__name__="flambe.platform.MathUtil",tt.nextPowerOfTwo=function(e){var t=1;while(t<e)t<<=1;return t};var nt=function(){};nt.__name__="flambe.platform.MouseCodes",nt.toButton=function(e){switch(e){case 0:return fe.Left;case 1:return fe.Middle;case 2:return fe.Right}return fe.Unknown(e)};var it=function(e){this._impl=e};it.__name__="flambe.platform.OverdrawGraphics",it.__interfaces__=[Qe],it.prototype={save:function(){this._impl.save()},translate:function(e,t){this._impl.translate(e,t)},scale:function(e,t){this._impl.scale(e,t)},rotate:function(e){this._impl.rotate(e)},transform:function(e,t,n,i,a,s){this._impl.transform(e,t,n,i,a,s)},multiplyAlpha:function(e){},setBlendMode:function(e){},applyScissor:function(e,t,n,i){this._impl.applyScissor(e,t,n,i)},restore:function(){this._impl.restore()},drawTexture:function(e,t,n){this.drawRegion(t,n,e.get_width(),e.get_height())},drawSubTexture:function(e,t,n,i,a,s,r){this.drawRegion(t,n,s,r)},fillRect:function(e,t,n,i,a){this.drawRegion(t,n,i,a)},willRender:function(){this._impl.willRender(),this._impl.save(),this._impl.setBlendMode(H.Add)},didRender:function(){this._impl.restore(),this._impl.didRender()},onResize:function(e,t){this._impl.onResize(e,t)},drawRegion:function(e,t,n,i){this._impl.fillRect(1052680,e,t,n,i)},__class__:it};var at=function(){};at.__name__="flambe.platform.TextureRoot",at.__isInterface__=!0;var st=function(){};st.__name__="flambe.platform.Tickable",st.__isInterface__=!0,st.prototype={__class__:st};var rt=function(e,t){this._firstDraw=!1,this._canvasCtx=e.getContext("2d",{alpha:t})};rt.__name__="flambe.platform.html.CanvasGraphics",rt.__interfaces__=[Qe],rt.prototype={save:function(){this._canvasCtx.save()},translate:function(e,t){this._canvasCtx.translate(0|e,0|t)},scale:function(e,t){this._canvasCtx.scale(e,t)},rotate:function(e){this._canvasCtx.rotate(3.141592653589793*e/180)},transform:function(e,t,n,i,a,s){this._canvasCtx.transform(e,t,n,i,a,s)},restore:function(){this._canvasCtx.restore()},drawTexture:function(e,t,n){this.drawSubTexture(e,t,n,0,0,e.get_width(),e.get_height())},drawSubTexture:function(e,t,n,i,a,s,r){if(this._firstDraw)return this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(e,t,n,i,a,s,r),void(this._canvasCtx.globalCompositeOperation="source-over");var o=e,_=o.root;nn.that(!_._disposed,"Asset cannot be used after being disposed"),this._canvasCtx.drawImage(_.image,o.rootX+i|0,o.rootY+a|0,0|s,0|r,0|t,0|n,0|s,0|r)},fillRect:function(e,t,n,i,a){if(this._firstDraw)return this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(e,t,n,i,a),void(this._canvasCtx.globalCompositeOperation="source-over");var s=(16777215&e).toString(16);while(s.length<6)s="0"+s;this._canvasCtx.fillStyle="#"+s,this._canvasCtx.fillRect(0|t,0|n,0|i,0|a)},multiplyAlpha:function(e){this._canvasCtx.globalAlpha*=e},setBlendMode:function(e){var t;switch(e._hx_index){case 0:t="source-over";break;case 1:t="lighter";break;case 2:t="multiply";break;case 3:t="screen";break;case 4:t="destination-in";break;case 5:t="copy";break}this._canvasCtx.globalCompositeOperation=t},applyScissor:function(e,t,n,i){this._canvasCtx.beginPath(),this._canvasCtx.rect(0|e,0|t,0|n,0|i),this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(e,t){},__class__:rt};var ot=function(e){this.graphics=new rt(e,!0),this._hasGPU=new C(!0)};ot.__name__="flambe.platform.html.CanvasRenderer",ot.__interfaces__=[Ze],ot.prototype={get_type:function(){return tn.Canvas},createTextureFromImage:function(e){var t=new ht(ot.CANVAS_TEXTURES?kt.createCanvas(e):e);return t.createTexture(t.width,t.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(e,t){return nn.fail(),null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:ot};var _t=function(e,t,n){Ie.call(this,e,t,n)};_t.__name__="flambe.platform.html.CanvasTexture",_t.__super__=Ie,_t.prototype=_(Ie.prototype,{__class__:_t});var ht=function(e){this._graphics=null,this.updateCount=0,Ce.call(this),this.image=e,this.width=e.width,this.height=e.height};ht.__name__="flambe.platform.html.CanvasTextureRoot",ht.__interfaces__=[at],ht.__super__=Ce,ht.prototype=_(Ce.prototype,{createTexture:function(e,t){return new _t(this,e,t)},copyFrom:function(e){this.image=e.image,this._graphics=e._graphics,++this.updateCount},onDisposed:function(){this.image=null,this._graphics=null},__class__:ht});var lt=function(e,t){Ae.call(this,e,t)};lt.__name__="flambe.platform.html.HtmlAssetPackLoader",lt.detectImageFormats=function(e){var t=[V.PNG,V.JPG,V.GIF],n=2,i=function(){n-=1,0==n&&e(t)},a=window.document.createElement("img");a.onload=a.onerror=function(e){1==a.width&&t.unshift(V.WEBP),i()},a.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var s=window.document.createElement("img");s.onload=s.onerror=function(e){1==s.width&&t.unshift(V.JXR),i()},s.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},lt.detectAudioFormats=function(){var e=window.document.createElement("audio");if(null==e||null==e.canPlayType)return F.logger.warn("Audio is not supported at all in this browser!",null),[];var t=new h("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),n=a.navigator.userAgent;if(!Et.get_supported()&&t.match(n))return F.logger.warn("HTML5 audio is blacklisted for this browser",["userAgent",n]),[];var i=[{format:V.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:V.MP3,mimeType:"audio/mpeg"},{format:V.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:V.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:V.WAV,mimeType:"audio/wav"}],s=[],r=0;while(r<i.length){var o=i[r];++r;var _="";try{_=e.canPlayType(o.mimeType)}catch(l){}""!=_&&s.push(o.format)}return s},lt.supportsBlob=function(){if(lt._detectBlobSupport){if(lt._detectBlobSupport=!1,new h("\\bSilk\\b","").match(a.navigator.userAgent))return!1;if(null==window.Blob)return!1;var e=new XMLHttpRequest;if(e.open("GET",".",!0),""!=e.responseType)return!1;if(e.responseType="blob","blob"!=e.responseType)return!1;lt._URL=kt.loadExtension("URL").value}return null!=lt._URL&&null!=lt._URL.createObjectURL},lt.__super__=Ae,lt.prototype=_(Ae.prototype,{loadEntry:function(e,t){var n=this;switch(t.format._hx_index){case 0:case 1:case 2:case 3:case 4:var i=window.document.createElement("img"),a=new je;a.addDisposingListener(i,"load",(function(a){(i.width>1024||i.height>1024)&&F.logger.warn("Images larger than 1024px on a side will prevent GPU acceleration on some platforms (iOS)",["url",e,"width",i.width,"height",i.height]),lt.supportsBlob()&&lt._URL.revokeObjectURL(i.src);var s=n._platform.getRenderer().createTextureFromImage(i);null!=s?n.handleLoad(t,s):n.handleTextureError(t)})),a.addDisposingListener(i,"error",(function(e){n.handleError(t,"Failed to load image")})),lt.supportsBlob()?this.download(e,t,"blob",(function(e){i.src=lt._URL.createObjectURL(e)})):i.src=e;break;case 5:case 6:case 7:this.download(e,t,"arraybuffer",(function(e){var i=n._platform.getRenderer().createCompressedTexture(t.format,null);null!=i?n.handleLoad(t,i):n.handleTextureError(t)}));break;case 8:case 9:case 10:case 11:case 12:if(Et.get_supported())this.download(e,t,"arraybuffer",(function(i){Et.ctx.decodeAudioData(i,(function(e){n.handleLoad(t,new Et(e))}),(function(){F.logger.warn("Couldn't decode Web Audio, ignoring this asset",["url",e]),n.handleLoad(t,Ve.getInstance())}))}));else{var s=window.document.createElement("audio");s.preload="auto";var r=++lt._mediaRefCount;null==lt._mediaElements&&(lt._mediaElements=new ui),lt._mediaElements.h[r]=s;a=new je;a.addDisposingListener(s,"canplaythrough",(function(e){lt._mediaElements.remove(r),n.handleLoad(t,new wt(s))})),a.addDisposingListener(s,"error",(function(i){lt._mediaElements.remove(r);var a=s.error.code;3==a||4==a?(F.logger.warn("Couldn't decode HTML5 audio, ignoring this asset",["url",e,"code",a]),n.handleLoad(t,Ve.getInstance())):n.handleError(t,"Failed to load audio: "+s.error.code)})),a.addListener(s,"progress",(function(e){if(s.buffered.length>0&&s.duration>0){var i=s.buffered.end(0)/s.duration;n.handleProgress(t,i*t.bytes|0)}})),s.src=e,s.load()}break;case 13:this.download(e,t,"text",(function(e){n.handleLoad(t,new Me(e))}));break}},getAssetFormats:function(e){var t=this;null==lt._supportedFormats&&(lt._supportedFormats=new rn,lt.detectImageFormats((function(e){lt._supportedFormats.set_result(t._platform.getRenderer().getCompressedTextureFormats().concat(e).concat(lt.detectAudioFormats()).concat([V.Data]))}))),lt._supportedFormats.get(e)},download:function(e,t,n,i){var a=this,s=null,r=null,o=0,_=!1,h=function(){_&&(_=!1,window.clearInterval(o))},l=3,u=function(){return l-=1,l>=0&&(F.logger.warn("Retrying asset download",["url",t.url]),r(),!0)};r=function(){h(),null!=s&&s.abort(),s=new XMLHttpRequest,s.open("GET",e,!0),s.responseType=n;var r=0;s.onprogress=function(e){_||(_=!0,o=window.setInterval((function(){4!=s.readyState&&Date.now()-r>5e3&&(u()||(h(),a.handleError(t,"Download stalled")))}),1e3)),r=Date.now(),a.handleProgress(t,e.loaded)},s.onerror=function(e){0==s.status&&u()||(h(),a.handleError(t,"HTTP error "+s.status))},s.onload=function(e){var t=s.response;null==t&&(t=s.responseText),h(),i(t)},s.send()},r()},__class__:lt});var ut=function(){var e=this;Ye.call(this),this._socket=new WebSocket("ws://"+a.location.host),this._socket.onerror=function(t){e.onError("unknown")},this._socket.onopen=function(e){F.logger.info("Catapult connected",null)},this._socket.onmessage=function(t){e.onMessage(t.data)}};ut.__name__="flambe.platform.html.HtmlCatapultClient",ut.canUse=function(){return!1},ut.__super__=Ye,ut.prototype=_(Ye.prototype,{onRestart:function(){window.top.location.reload()},__class__:ut});var ct=function(){};ct.__name__="flambe.subsystem.ExternalSystem",ct.__isInterface__=!0;var dt=function(){};dt.__name__="flambe.platform.html.HtmlExternal",dt.__interfaces__=[ct],dt.prototype={__class__:dt};var pt=function(){};pt.__name__="flambe.util.LogHandler",pt.__isInterface__=!0,pt.prototype={__class__:pt};var mt=function(e){this._tagPrefix=e+": "};mt.__name__="flambe.platform.html.HtmlLogHandler",mt.__interfaces__=[pt],mt.isSupported=function(){return"object"==typeof console&&null!=console.info},mt.prototype={log:function(e,t){switch(t=this._tagPrefix+t,e._hx_index){case 0:console.info(t);break;case 1:console.warn(t);break;case 2:console.error(t);break}},__class__:mt};var ft=function(){};ft.__name__="flambe.subsystem.MotionSystem",ft.__isInterface__=!0;var gt=function(){var e=this,t=new qe;this.acceleration=t;var n=new qe;this.accelerationIncludingGravity=n;var i=new qe;if(this.attitude=i,this.get_accelerationSupported()){this._sharedAcceleration=new ce,this._sharedAccelerationIncludingGravity=new ce;var a=null,s=function(i,s){null!=t._head||null!=n._head?null==a&&(a=new je,a.addListener(window,"devicemotion",Ci(e,e.onDeviceMotion))):null!=a&&(a.dispose(),a=null)};t.hasListenersValue.get_changed().connect(s),n.hasListenersValue.get_changed().connect(s)}if(this.get_attitudeSupported()){this._sharedAttitude=new de;var r=null;i.hasListenersValue.get_changed().connect((function(t,n){t?(r=new je,r.addListener(window,"deviceorientation",Ci(e,e.onDeviceOrientation))):(r.dispose(),r=null)}))}};gt.__name__="flambe.platform.html.HtmlMotion",gt.__interfaces__=[ft],gt.initAcceleration=function(e,t){switch(window.orientation){case-90:e.init(t.y,-t.x,t.z);break;case 0:e.init(t.x,t.y,t.z);break;case 90:e.init(-t.y,t.x,t.z);break;case 180:e.init(-t.x,-t.y,t.z);break}},gt.prototype={get_accelerationSupported:function(){return null!=window.DeviceMotionEvent},onDeviceMotion:function(e){null!=e.acceleration&&(gt.initAcceleration(this._sharedAcceleration,e.acceleration),this.acceleration.emit(this._sharedAcceleration)),null!=e.accelerationIncludingGravity&&(gt.initAcceleration(this._sharedAccelerationIncludingGravity,e.accelerationIncludingGravity),this.accelerationIncludingGravity.emit(this._sharedAccelerationIncludingGravity))},get_attitudeSupported:function(){return null!=window.DeviceOrientationEvent},onDeviceOrientation:function(e){switch(window.orientation){case-90:this._sharedAttitude.init(e.gamma,-e.beta,e.alpha);break;case 0:this._sharedAttitude.init(e.beta,e.gamma,e.alpha);break;case 90:this._sharedAttitude.init(-e.gamma,e.beta,e.alpha);break;case 180:this._sharedAttitude.init(-e.beta,-e.gamma,e.alpha);break}this.attitude.emit(this._sharedAttitude)},__class__:gt};var bt=function(e,t){De.call(this,e),this._canvas=t};bt.__name__="flambe.platform.html.HtmlMouse",bt.__super__=De,bt.prototype=_(De.prototype,{__class__:bt});var wt=function(e){Ce.call(this),this.audioElement=e};wt.__name__="flambe.platform.html.HtmlSound",wt.__interfaces__=[Oe],wt.__super__=Ce,wt.prototype=_(Ce.prototype,{play:function(e){return null==e&&(e=1),nn.that(!this._disposed,"Asset cannot be used after being disposed"),new vt(this,e,!1)},loop:function(e){return null==e&&(e=1),nn.that(!this._disposed,"Asset cannot be used after being disposed"),new vt(this,e,!0)},copyFrom:function(e){this.audioElement=e.audioElement},onDisposed:function(){this.audioElement=null},__class__:wt});var vt=function(e,t,n){var i=this;this._sound=e,this._tickableAdded=!1,this._clonedElement=window.document.createElement("audio"),this._clonedElement.loop=n,this._clonedElement.src=e.audioElement.src,this.volume=new P(t,(function(e,t){i.updateVolume()})),this.updateVolume(),this._complete=new C(!1),this.playAudio(),R.hidden._value&&this.set_paused(!0)};vt.__name__="flambe.platform.html._HtmlSound.HtmlPlayback",vt.__interfaces__=[st,Ue],vt.prototype={set_paused:function(e){return this._clonedElement.paused!=e&&(e?this._clonedElement.pause():this.playAudio()),e},get_complete:function(){return this._complete},update:function(e){return this.volume.update(e),this._complete.set__(this._clonedElement.ended),!(!this._complete._value&&!this._clonedElement.paused)&&(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0)},dispose:function(){this.set_paused(!0),this._complete.set__(!0)},playAudio:function(){var e=this;this._clonedElement.play(),this._tickableAdded||(k.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=R.volume.get_changed().connect((function(t,n){e.updateVolume()})),this._hideBinding=R.hidden.get_changed().connect((function(t,n){t?(e._wasPaused=e._clonedElement.paused,e.set_paused(!0)):e.set_paused(e._wasPaused)})))},updateVolume:function(){this._clonedElement.volume=R.volume._value*this.volume._value},__class__:vt};var yt=function(){};yt.__name__="flambe.subsystem.StageSystem",yt.__isInterface__=!0,yt.prototype={__class__:yt};var xt=function(e){var t=this;this._canvas=e,this.resize=new on,this.scaleFactor=xt.computeScaleFactor(),1!=this.scaleFactor&&(F.logger.info("Reversing device DPI scaling",["scaleFactor",this.scaleFactor]),kt.setVendorStyle(this._canvas,"transform-origin","top left"),kt.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")")),kt.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",(function(e){kt.callLater(Ci(t,t.hideMobileBrowser),200)}),!1),this.hideMobileBrowser()),window.addEventListener("resize",Ci(this,this.onWindowResize),!1),this.onWindowResize(null),this.orientation=new C(null),null!=window.orientation&&(window.addEventListener("orientationchange",Ci(this,this.onOrientationChange),!1),this.onOrientationChange(null)),this.fullscreen=new C(!1),kt.addVendorListener(window.document,"fullscreenchange",(function(e){t.updateFullscreen()}),!1),kt.addVendorListener(window.document,"fullscreenerror",(function(e){F.logger.warn("Error when requesting fullscreen",null)}),!1),this.updateFullscreen()};xt.__name__="flambe.platform.html.HtmlStage",xt.__interfaces__=[yt],xt.computeScaleFactor=function(){var e=window.devicePixelRatio;null==e&&(e=1);var t=window.document.createElement("canvas"),n=t.getContext("2d",null),i=kt.loadExtension("backingStorePixelRatio",n).value;null==i&&(i=1);var a=e/i,s=window.screen.width,r=window.screen.height;return a*s>1136||a*r>1136?1:a},xt.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},requestFullscreen:function(e){if(null==e&&(e=!0),e){var t=window.document.documentElement,n=kt.loadFirstExtension(["requestFullscreen","requestFullScreen"],t).value;null!=n&&n.apply(t,[])}else{var i=kt.loadFirstExtension(["cancelFullscreen","cancelFullScreen"],window.document).value;null!=i&&i.apply(window.document,[])}},onWindowResize:function(e){var t=this._canvas.parentElement,n=t.getBoundingClientRect();this.resizeCanvas(n.width,n.height)},resizeCanvas:function(e,t){var n=this.scaleFactor*e,i=this.scaleFactor*t;return(this._canvas.width!=n||this._canvas.height!=i)&&(this._canvas.width=0|n,this._canvas.height=0|i,this.resize.emit(),!0)},hideMobileBrowser:function(){var e=this,t=window.document.documentElement.style,n=d.string(window.innerHeight+100);t.height=n+"px";n=d.string(window.innerWidth);t.width=n+"px",t.overflow="visible",kt.callLater((function(){kt.hideMobileBrowser(),kt.callLater((function(){var n=d.string(window.innerHeight);t.height=n+"px",e.onWindowResize(null)}),100)}))},onOrientationChange:function(e){var t=kt.orientation(window.orientation);this.orientation.set__(t)},updateFullscreen:function(){var e=kt.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(1==e)},__class__:xt};var St=function(e){this._storage=e};St.__name__="flambe.platform.html.HtmlStorage",St.__interfaces__=[We],St.prototype={__class__:St};var kt=function(){};kt.__name__="flambe.platform.html.HtmlUtil",kt.callLater=function(e,t){null==t&&(t=0),window.setTimeout(e,t)},kt.hideMobileBrowser=function(){window.scrollTo(1,0)},kt.loadExtension=function(e,t){null==t&&(t=window);var n=c.field(t,e);if(null!=n)return{prefix:"",field:e,value:n};var i=e.charAt(0).toUpperCase()+l.substr(e,1,null),a=0,s=kt.VENDOR_PREFIXES;while(a<s.length){var r=s[a];++a;var o=r+i;n=c.field(t,o);if(null!=n)return{prefix:r,field:o,value:n}}return{prefix:null,field:null,value:null}},kt.loadFirstExtension=function(e,t){var n=0;while(n<e.length){var i=e[n];++n;var a=kt.loadExtension(i,t);if(null!=a.field)return a}return{prefix:null,field:null,value:null}},kt.polyfill=function(e,t){null==t&&(t=window);var n=kt.loadExtension(e,t).value;return null!=n&&(t[e]=n,!0)},kt.setVendorStyle=function(e,t,n){var i=e.style,a=0,s=kt.VENDOR_PREFIXES;while(a<s.length){var r=s[a];++a,i.setProperty("-"+r+"-"+t,n)}i.setProperty(t,n)},kt.addVendorListener=function(e,t,n,i){var a=0,s=kt.VENDOR_PREFIXES;while(a<s.length){var r=s[a];++a,e.addEventListener(r+t,n,i)}e.addEventListener(t,n,i)},kt.orientation=function(e){switch(e){case-90:case 90:return _e.Landscape;default:return _e.Portrait}},kt.createEmptyCanvas=function(e,t){var n=window.document.createElement("canvas");return n.width=e,n.height=t,n},kt.createCanvas=function(e){var t=kt.createEmptyCanvas(e.width,e.height),n=t.getContext("2d",null);return n.save(),n.globalCompositeOperation="copy",n.drawImage(e,0,0),n.restore(),t},kt.detectSlowDriver=function(e){var t=a.navigator.platform.indexOf("Win")>=0;if(t){var n=null!=window.chrome;if(n){var i=0,s=e.getSupportedExtensions();while(i<s.length){var r=s[i];if(++i,r.indexOf("WEBGL_compressed_texture")>=0)return!1}return!0}}return!1},kt.fixAndroidMath=function(){if(a.navigator.userAgent.indexOf("Linux; U; Android 4")>=0){F.logger.warn("Monkey patching around Android sin/cos bug",null);var e=Math.sin,t=Math.cos;Math.sin=function(t){return 0==t?0:e(t)},Math.cos=function(e){return 0==e?1:t(e)}}};var Ct=function(){};Ct.__name__="flambe.subsystem.WebSystem",Ct.__isInterface__=!0,Ct.prototype={__class__:Ct};var At=function(){this.stack=[]};At.__name__="flambe.platform.html.HtmlWeb",At.__interfaces__=[Ct],At.prototype={addView:function(e,t,n){var i={extends:e.default,methods:t},a=new Mt(i,n,this.stack);return this.stack.push(a),a},__class__:At};var Tt=function(){};Tt.__name__="flambe.web.WebView",Tt.__isInterface__=!0,Tt.__interfaces__=[b];var Mt=function(e,t,n){this.def=e,this.props=t,this._stack=n};Mt.__name__="flambe.platform.html.VueWebView",Mt.__interfaces__=[Tt],Mt.prototype={dispose:function(){l.remove(this._stack,this)},__class__:Mt};var Et=function(e){Ce.call(this),this.buffer=e};Et.__name__="flambe.platform.html.WebAudioSound",Et.__interfaces__=[Oe],Et.get_supported=function(){if(Et._detectSupport){Et._detectSupport=!1;var e=kt.loadExtension("AudioContext").value;null!=e&&(Et.ctx=new e,Et.gain=Et.createGain(),Et.gain.connect(Et.ctx.destination),R.volume.watch((function(e,t){Et.gain.gain.value=e})))}return null!=Et.ctx},Et.createGain=function(){return null!=Et.ctx.createGain?Et.ctx.createGain():Et.ctx.createGainNode()},Et.start=function(e,t){null!=e.start?e.start(t):e.noteOn(t)},Et.__super__=Ce,Et.prototype=_(Ce.prototype,{play:function(e){return null==e&&(e=1),nn.that(!this._disposed,"Asset cannot be used after being disposed"),new Pt(this,e,!1)},loop:function(e){return null==e&&(e=1),nn.that(!this._disposed,"Asset cannot be used after being disposed"),new Pt(this,e,!0)},get_duration:function(){return nn.that(!this._disposed,"Asset cannot be used after being disposed"),this.buffer.duration},copyFrom:function(e){this.buffer=e.buffer},onDisposed:function(){this.buffer=null},__class__:Et});var Pt=function(e,t,n){var i=this;this._sound=e,this._head=Et.gain,this._complete=new C(!1),this._sourceNode=Et.ctx.createBufferSource(),this._sourceNode.buffer=e.buffer,this._sourceNode.loop=n,this._sourceNode.onended=function(){i._complete.set__(!0)},Et.start(this._sourceNode,0),this.playAudio(),this.volume=new P(t,(function(e,t){i.setVolume(e)})),1!=t&&this.setVolume(t),R.hidden._value&&this.set_paused(!0)};Pt.__name__="flambe.platform.html._WebAudioSound.WebAudioPlayback",Pt.__interfaces__=[st,Ue],Pt.prototype={set_paused:function(e){return e!=this._pausedAt>=0&&(e?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio()),e},get_complete:function(){return this._complete},get_position:function(){if(this._complete._value)return this._sound.get_duration();if(this._pausedAt>=0)return this._pausedAt;var e=Et.ctx.currentTime-this._startedAt;return e%this._sound.get_duration()},update:function(e){return this.volume.update(e),3==this._sourceNode.playbackState&&this._complete.set__(!0),!!(this._complete._value||this._pausedAt>=0)&&(this._tickableAdded=!1,this._hideBinding.dispose(),!0)},dispose:function(){this.set_paused(!0),this._complete.set__(!0)},setVolume:function(e){null==this._gainNode&&(this._gainNode=Et.createGain(),this.insertNode(this._gainNode)),this._gainNode.gain.value=e},insertNode:function(e){this._pausedAt>=0||(this._sourceNode.disconnect(),this._sourceNode.connect(e)),e.connect(this._head),this._head=e},playAudio:function(){var e=this;this._sourceNode.connect(this._head),this._startedAt=Et.ctx.currentTime,this._pausedAt=-1,this._tickableAdded||(k.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=R.hidden.get_changed().connect((function(t,n){t?(e._wasPaused=e._pausedAt>=0,e.set_paused(!0)):e.set_paused(e._wasPaused)})))},__class__:Pt};var Rt=function(e){this._backbufferHeight=0,this._backbufferWidth=0,this._dataOffset=0,this._maxQuads=0,this._quads=0,this._pendingSetScissor=!1,this._currentRenderTarget=null,this._currentTexture=null,this._currentShader=null,this._currentBlendMode=null,this._lastScissor=null,this._lastTexture=null,this._lastShader=null,this._lastRenderTarget=null,this._lastBlendMode=null,this._gl=e,e.clearColor(0,0,0,0),e.enable(3042),e.pixelStorei(37441,1),this._vertexBuffer=e.createBuffer(),e.bindBuffer(34962,this._vertexBuffer),this._quadIndexBuffer=e.createBuffer(),e.bindBuffer(34963,this._quadIndexBuffer),this._drawTextureShader=new Xt(e),this._drawPatternShader=new Yt(e),this._fillRectShader=new Ot(e),this.resize(16)};Rt.__name__="flambe.platform.html.WebGLBatcher",Rt.prototype={resizeBackbuffer:function(e,t){this._gl.viewport(0,0,e,t),this._backbufferWidth=e,this._backbufferHeight=t},willRender:function(){this._gl.clear(16384)},didRender:function(){this.flush()},bindTexture:function(e){this.flush(),this._lastTexture=null,this._currentTexture=null,this._gl.bindTexture(3553,e)},deleteTexture:function(e){null!=this._lastTexture&&this._lastTexture.root==e&&(this.flush(),this._lastTexture=null,this._currentTexture=null),this._gl.deleteTexture(e.nativeTexture)},deleteFramebuffer:function(e){e==this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=null,this._currentRenderTarget=null),this._gl.deleteFramebuffer(e.framebuffer)},prepareDrawTexture:function(e,t,n,i){return i!=this._lastTexture&&(this.flush(),this._lastTexture=i),this.prepareQuad(5,e,t,n,this._drawTextureShader)},prepareFillRect:function(e,t,n){return this.prepareQuad(6,e,t,n,this._fillRectShader)},prepareQuad:function(e,t,n,i,a){t!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=t),n!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=n),a!=this._lastShader&&(this.flush(),this._lastShader=a),null==i&&null==this._lastScissor||null!=i&&null!=this._lastScissor&&this._lastScissor.equals(i)||(this.flush(),this._lastScissor=null!=i?i.clone(this._lastScissor):null,this._pendingSetScissor=!0),this._quads>=this._maxQuads&&this.resize(2*this._maxQuads),++this._quads;var s=this._dataOffset;return this._dataOffset+=4*e,s},flush:function(){if(!(this._quads<1)){if(this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget),this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode._hx_index){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0);break}this._currentBlendMode=this._lastBlendMode}if(this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(0|this._lastScissor.x,0|this._lastScissor.y,0|this._lastScissor.width,0|this._lastScissor.height)):this._gl.disable(3089),this._pendingSetScissor=!1),this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture),this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader),this._lastShader==this._drawPatternShader){var e=this._lastTexture,t=e.root;this._drawPatternShader.setRegion(e.rootX/t.width,e.rootY/t.height,e._width/t.width,e._height/t.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040),this._gl.drawElements(4,6*this._quads,5123,0),this._quads=0,this._dataOffset=0}},resize:function(e){if(this.flush(),!(e>1024)){this._maxQuads=e,this.data=new Float32Array(4*e*6),this._gl.bufferData(34962,this.data.length*Float32Array.BYTES_PER_ELEMENT,35040);var t=new Uint16Array(6*e),n=0;while(n<e){var i=n++;t[6*i]=4*i,t[6*i+1]=4*i+1,t[6*i+2]=4*i+2,t[6*i+3]=4*i+2,t[6*i+4]=4*i+3,t[6*i+5]=4*i}this._gl.bufferData(34963,t,35044)}},bindRenderTarget:function(e){null!=e?(this._gl.bindFramebuffer(36160,e.framebuffer),this._gl.viewport(0,0,e.width,e.height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight)),this._currentRenderTarget=e,this._lastRenderTarget=e},__class__:Rt};var Dt=function(e,t){this._stateList=null,this._inverseProjection=null,null==Dt._scratchQuadArray&&(Dt._scratchQuadArray=new Float32Array(8)),this._batcher=e,this._renderTarget=t};Dt.__name__="flambe.platform.html.WebGLGraphics",Dt.__interfaces__=[Qe],Dt.prototype={save:function(){var e=this._stateList,t=this._stateList.next;null==t&&(t=new Ft,t.prev=e,e.next=t),e.matrix.clone(t.matrix),t.alpha=e.alpha,t.blendMode=e.blendMode,t.scissor=null!=e.scissor?e.scissor.clone(t.scissor):null,this._stateList=t},translate:function(e,t){var n=this._stateList.matrix;n.m02+=n.m00*e+n.m01*t,n.m12+=n.m10*e+n.m11*t},scale:function(e,t){var n=this._stateList.matrix;n.m00*=e,n.m10*=e,n.m01*=t,n.m11*=t},rotate:function(e){var t=this._stateList.matrix;e=3.141592653589793*e/180;var n=Math.sin(e),i=Math.cos(e),a=t.m00,s=t.m10,r=t.m01,o=t.m11;t.m00=a*i+r*n,t.m10=s*i+o*n,t.m01=r*i-a*n,t.m11=o*i-s*n},transform:function(e,t,n,i,a,s){var r=this._stateList;Dt._scratchMatrix.set(e,t,n,i,a,s),Se.multiply(r.matrix,Dt._scratchMatrix,r.matrix)},restore:function(){nn.that(null!=this._stateList.prev,"Can't restore without a previous save"),this._stateList=this._stateList.prev},drawTexture:function(e,t,n){this.drawSubTexture(e,t,n,0,0,e.get_width(),e.get_height())},drawSubTexture:function(e,t,n,i,a,s,r){var o=this._stateList,_=e,h=_.root;nn.that(!h._disposed,"Asset cannot be used after being disposed");var l=this.transformQuad(t,n,s,r),u=h.width,c=h.height,d=(_.rootX+i)/u,p=(_.rootY+a)/c,m=d+s/u,f=p+r/c,g=o.alpha,b=this._batcher.prepareDrawTexture(this._renderTarget,o.blendMode,o.scissor,_),w=this._batcher.data;w[b]=l[0],w[++b]=l[1],w[++b]=d,w[++b]=p,w[++b]=g,w[++b]=l[2],w[++b]=l[3],w[++b]=m,w[++b]=p,w[++b]=g,w[++b]=l[4],w[++b]=l[5],w[++b]=m,w[++b]=f,w[++b]=g,w[++b]=l[6],w[++b]=l[7],w[++b]=d,w[++b]=f,w[++b]=g},fillRect:function(e,t,n,i,a){var s=this._stateList,r=this.transformQuad(t,n,i,a),o=(16711680&e)/16711680,_=(65280&e)/65280,h=(255&e)/255,l=s.alpha,u=this._batcher.prepareFillRect(this._renderTarget,s.blendMode,s.scissor),c=this._batcher.data;c[u]=r[0],c[++u]=r[1],c[++u]=o,c[++u]=_,c[++u]=h,c[++u]=l,c[++u]=r[2],c[++u]=r[3],c[++u]=o,c[++u]=_,c[++u]=h,c[++u]=l,c[++u]=r[4],c[++u]=r[5],c[++u]=o,c[++u]=_,c[++u]=h,c[++u]=l,c[++u]=r[6],c[++u]=r[7],c[++u]=o,c[++u]=_,c[++u]=h,c[++u]=l},multiplyAlpha:function(e){this._stateList.alpha*=e},setBlendMode:function(e){this._stateList.blendMode=e},applyScissor:function(e,t,n,i){var a=this._stateList,s=Dt._scratchQuadArray;s[0]=e,s[1]=t,s[2]=e+n,s[3]=t+i,a.matrix.transformArray(s,4,s),this._inverseProjection.transformArray(s,4,s),e=s[0],t=s[1],n=s[2]-e,i=s[3]-t,n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),a.applyScissor(e,t,n,i)},willRender:function(){this._batcher.willRender()},didRender:function(){this._batcher.didRender()},onResize:function(e,t){this._stateList=new Ft;var n=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/e,0,0,-2*n/t,-1,n),this._inverseProjection=new Se,this._inverseProjection.set(2/e,0,0,2/t,-1,-1),this._inverseProjection.invert()},transformQuad:function(e,t,n,i){var a=e+n,s=t+i,r=Dt._scratchQuadArray;return r[0]=e,r[1]=t,r[2]=a,r[3]=t,r[4]=a,r[5]=s,r[6]=e,r[7]=s,this._stateList.matrix.transformArray(r,8,r),r},__class__:Dt};var Ft=function(){this.next=null,this.prev=null,this.scissor=null,this.matrix=new Se,this.alpha=1,this.blendMode=H.Normal};Ft.__name__="flambe.platform.html._WebGLGraphics.DrawingState",Ft.prototype={applyScissor:function(e,t,n,i){if(null!=this.scissor){var a=this.scissor.x,s=a>e?a:e,r=(a=this.scissor.y,a>t?a:t),o=(a=this.scissor.x+this.scissor.width,e+n),_=a<o?a:o,h=(a=this.scissor.y+this.scissor.height,o=t+i,a<o?a:o);e=s,t=r,n=_-s,i=h-r}else this.scissor=new ke;this.scissor.set(Math.round(e),Math.round(t),Math.round(n),Math.round(i))},__class__:Ft};var Bt=function(e,t){var n=this;this._hasGPU=new C(!0),this.gl=t,t.canvas.addEventListener("webglcontextlost",(function(e){e.preventDefault(),F.logger.warn("WebGL context lost",null),n._hasGPU.set__(!1)}),!1),t.canvas.addEventListener("webglcontextrestore",(function(e){F.logger.warn("WebGL context restored",null),n.init(),n._hasGPU.set__(!0)}),!1),e.resize.connect(Ci(this,this.onResize)),this.init()};Bt.__name__="flambe.platform.html.WebGLRenderer",Bt.__interfaces__=[Ze],Bt.prototype={get_type:function(){return tn.WebGL},createTextureFromImage:function(e){if(this.gl.isContextLost())return null;var t=new Lt(this,e.width,e.height);return t.uploadImageData(e),t.createTexture(e.width,e.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(e,t){return this.gl.isContextLost()||nn.fail(),null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},onResize:function(){var e=this.gl.canvas.width,t=this.gl.canvas.height;this.batcher.resizeBackbuffer(e,t),this.graphics.onResize(e,t)},init:function(){this.batcher=new Rt(this.gl),this.graphics=new Dt(this.batcher,null),this.onResize()},__class__:Bt};var It=function(e,t,n){Ie.call(this,e,t,n)};It.__name__="flambe.platform.html.WebGLTexture",It.__super__=Ie,It.prototype=_(Ie.prototype,{__class__:It});var Lt=function(e,t,n){this._graphics=null,this.framebuffer=null,Ce.call(this),this._renderer=e;var i=tt.nextPowerOfTwo(t);this.width=2>i?2:i;i=tt.nextPowerOfTwo(n);this.height=2>i?2:i;var a=e.gl;this.nativeTexture=a.createTexture(),e.batcher.bindTexture(this.nativeTexture),a.texParameteri(3553,10242,33071),a.texParameteri(3553,10243,33071),a.texParameteri(3553,10240,9729),a.texParameteri(3553,10241,9729)};Lt.__name__="flambe.platform.html.WebGLTextureRoot",Lt.__interfaces__=[at],Lt.drawBorder=function(e,t,n){var i=e.getContext("2d",null);i.drawImage(e,t-1,0,1,n,t,0,1,n),i.drawImage(e,0,n-1,t,1,0,n,t,1)},Lt.__super__=Ce,Lt.prototype=_(Ce.prototype,{createTexture:function(e,t){return new It(this,e,t)},uploadImageData:function(e){if(nn.that(!this._disposed,"Asset cannot be used after being disposed"),this.width!=e.width||this.height!=e.height){var t=kt.createEmptyCanvas(this.width,this.height);t.getContext("2d",null).drawImage(e,0,0),Lt.drawBorder(t,e.width,e.height),e=t}this._renderer.batcher.bindTexture(this.nativeTexture);var n=this._renderer.gl;n.texImage2D(3553,0,6408,6408,5121,e)},copyFrom:function(e){this.nativeTexture=e.nativeTexture,this.framebuffer=e.framebuffer,this.width=e.width,this.height=e.height,this._graphics=e._graphics},onDisposed:function(){var e=this._renderer.batcher;e.deleteTexture(this),null!=this.framebuffer&&e.deleteFramebuffer(this),this.nativeTexture=null,this.framebuffer=null,this._graphics=null},__class__:Lt});var Nt=function(e,t,n){if(n=["#ifdef GL_ES","precision mediump float;","#endif"].join("\n")+"\n"+n,this._gl=e,this._program=e.createProgram(),e.attachShader(this._program,Nt.createShader(e,35633,t)),e.attachShader(this._program,Nt.createShader(e,35632,n)),e.linkProgram(this._program),e.useProgram(this._program),!e.getProgramParameter(this._program,35714)){var i=["log",e.getProgramInfoLog(this._program)];F.logger.error("Error linking shader program",i)}};Nt.__name__="flambe.platform.shader.ShaderGL",Nt.createShader=function(e,t,n){var i=e.createShader(t);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,35713)){var a=35633==t?"vertex":"fragment",s=["log",e.getShaderInfoLog(i)];F.logger.error("Error compiling "+a+" shader",s)}return i},Nt.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){nn.fail("abstract")},getAttribLocation:function(e){var t=this._gl.getAttribLocation(this._program,e);return nn.that(t>=0,"Missing attribute",["name",e]),t},getUniformLocation:function(e){var t=this._gl.getUniformLocation(this._program,e);return nn.that(null!=t,"Missing uniform",["name",e]),t},__class__:Nt};var Yt=function(e){Nt.call(this,e,["attribute highp vec2 a_pos;","attribute mediump vec2 a_uv;","attribute lowp float a_alpha;","varying mediump vec2 v_uv;","varying lowp float v_alpha;","void main (void) {","v_uv = a_uv;","v_alpha = a_alpha;","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying mediump vec2 v_uv;","varying lowp float v_alpha;","uniform lowp sampler2D u_texture;","uniform mediump vec4 u_region;","void main (void) {","gl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_uv=this.getAttribLocation("a_uv"),this.a_alpha=this.getAttribLocation("a_alpha"),this.u_texture=this.getUniformLocation("u_texture"),this.u_region=this.getUniformLocation("u_region"),this.setTexture(0)};Yt.__name__="flambe.platform.shader.DrawPatternGL",Yt.__super__=Nt,Yt.prototype=_(Nt.prototype,{setTexture:function(e){this._gl.uniform1i(this.u_texture,e)},setRegion:function(e,t,n,i){this._gl.uniform4f(this.u_region,e,t,n,i)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_uv),this._gl.enableVertexAttribArray(this.a_alpha);var e=Float32Array.BYTES_PER_ELEMENT,t=5*e;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,t,0*e),this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,t,2*e),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,t,4*e)},__class__:Yt});var Xt=function(e){Nt.call(this,e,["attribute highp vec2 a_pos;","attribute mediump vec2 a_uv;","attribute lowp float a_alpha;","varying mediump vec2 v_uv;","varying lowp float v_alpha;","void main (void) {","v_uv = a_uv;","v_alpha = a_alpha;","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying mediump vec2 v_uv;","varying lowp float v_alpha;","uniform lowp sampler2D u_texture;","void main (void) {","gl_FragColor = texture2D(u_texture, v_uv) * v_alpha;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_uv=this.getAttribLocation("a_uv"),this.a_alpha=this.getAttribLocation("a_alpha"),this.u_texture=this.getUniformLocation("u_texture"),this.setTexture(0)};Xt.__name__="flambe.platform.shader.DrawTextureGL",Xt.__super__=Nt,Xt.prototype=_(Nt.prototype,{setTexture:function(e){this._gl.uniform1i(this.u_texture,e)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_uv),this._gl.enableVertexAttribArray(this.a_alpha);var e=Float32Array.BYTES_PER_ELEMENT,t=5*e;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,t,0*e),this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,t,2*e),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,t,4*e)},__class__:Xt});var Ot=function(e){Nt.call(this,e,["attribute highp vec2 a_pos;","attribute lowp vec3 a_rgb;","attribute lowp float a_alpha;","varying lowp vec4 v_color;","void main (void) {","v_color = vec4(a_rgb*a_alpha, a_alpha);","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying lowp vec4 v_color;","void main (void) {","gl_FragColor = v_color;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_rgb=this.getAttribLocation("a_rgb"),this.a_alpha=this.getAttribLocation("a_alpha")};Ot.__name__="flambe.platform.shader.FillRectGL",Ot.__super__=Nt,Ot.prototype=_(Nt.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_rgb),this._gl.enableVertexAttribArray(this.a_alpha);var e=Float32Array.BYTES_PER_ELEMENT,t=6*e;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,t,0*e),this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,t,2*e),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,t,5*e)},__class__:Ot});var Vt=function(){this._transitor=null,w.call(this),this.scenes=[],this.occludedScenes=[],this._root=new y};Vt.__name__="flambe.scene.Director",Vt.__super__=w,Vt.prototype=_(w.prototype,{get_name:function(){return"Director_32"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();var e=0,t=this.scenes;while(e<t.length){var n=t[e];++e,n.dispose()}this.scenes=[],this.occludedScenes=[],this._root.dispose()},onUpdate:function(e){null!=this._transitor&&this._transitor.update(e)&&this.completeTransition()},get_topScene:function(){var e=this.scenes.length;return e>0?this.scenes[e-1]:null},show:function(e){var t=e._compMap["Scene_34"];null!=t&&t.shown.emit()},invalidateVisibility:function(){var e=this.scenes.length;while(e>0){var t=this.scenes[--e],n=t._compMap["Scene_34"];if(null==n||n.opaque)break}this.occludedScenes=this.scenes.length>0?this.scenes.slice(e,this.scenes.length-1):[];t=this.get_topScene();null!=t&&this.show(t)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:Vt});var Ut=function(e,t,n,i){this._from=e,this._to=t,this._transition=n,this._onComplete=i};Ut.__name__="flambe.scene._Director.Transitor",Ut.prototype={update:function(e){return this._transition.update(e)},complete:function(){this._transition.complete(),this._onComplete()},__class__:Ut};var Kt=function(e){null==e&&(e=!0),w.call(this),this.opaque=e,this.shown=new on,this.hidden=new on};Kt.__name__="flambe.scene.Scene",Kt.__super__=w,Kt.prototype=_(w.prototype,{get_name:function(){return"Scene_34"},__class__:Kt});var Wt=function(){};Wt.__name__="flambe.scene.Transition",Wt.prototype={update:function(e){return!0},complete:function(){},__class__:Wt};var Gt=function(){};Gt.__name__="flambe.script.Action",Gt.__isInterface__=!0,Gt.prototype={__class__:Gt};var Ht=function(e,t,n,i){this._value=e,this._to=t,this._seconds=n,this._easing=i};Ht.__name__="flambe.script.AnimateTo",Ht.__interfaces__=[Gt],Ht.prototype={update:function(e,t){if(null==this._tween&&(this._tween=new X(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(e)),this._value._behavior!=this._tween){var n=this._tween.elapsed-this._seconds;return this._tween=null,n>0?Math.max(0,e-n):0}return-1},__class__:Ht};var jt=function(e){this._fn=e};jt.__name__="flambe.script.CallFunction",jt.__interfaces__=[Gt],jt.prototype={update:function(e,t){return this._fn(),0},__class__:jt};var zt=function(e){this._duration=e,this._elapsed=0};zt.__name__="flambe.script.Delay",zt.__interfaces__=[Gt],zt.prototype={update:function(e,t){if(this._elapsed+=e,this._elapsed>=this._duration){var n=this._elapsed-this._duration;return this._elapsed=0,e-n}return-1},__class__:zt};var qt=function(e){this._completedActions=[],this._runningActions=null!=e?e.slice():[]};qt.__name__="flambe.script.Parallel",qt.__interfaces__=[Gt],qt.prototype={update:function(e,t){var n=!0,i=0,a=0,s=this._runningActions.length;while(a<s){var r=a++,o=this._runningActions[r];if(null!=o){var _=o.update(e,t);_>=0?(this._runningActions[r]=null,this._completedActions.push(o),_>i&&(i=_)):n=!1}}return n?(this._runningActions=this._completedActions,this._completedActions=[],i):-1},__class__:qt};var Qt=function(){w.call(this),this.stopAll()};Qt.__name__="flambe.script.Script",Qt.__super__=w,Qt.prototype=_(w.prototype,{get_name:function(){return"Script_27"},run:function(e){var t=new Jt(e);return this._handles.push(t),t},stopAll:function(){this._handles=[]},onUpdate:function(e){var t=0;while(t<this._handles.length){var n=this._handles[t];n.removed||n.action.update(e,this.owner)>=0?this._handles.splice(t,1):++t}},__class__:Qt});var Jt=function(e){this.removed=!1,this.action=e};Jt.__name__="flambe.script._Script.Handle",Jt.__interfaces__=[b],Jt.prototype={dispose:function(){this.removed=!0,this.action=null},__class__:Jt};var Zt=function(e){this._idx=0,this._runningActions=null!=e?e.slice():[]};Zt.__name__="flambe.script.Sequence",Zt.__interfaces__=[Gt],Zt.prototype={update:function(e,t){var n=0;while(1){var i=this._runningActions[this._idx];if(null!=i){var a=i.update(e-n,t);if(!(a>=0))return-1;n+=a}if(++this._idx,this._idx>=this._runningActions.length){this._idx=0;break}if(n>e)return-1}return n},__class__:Zt};var $t=function(){w.call(this),this._sounds=[]};$t.__name__="flambe.sound.Mixer",$t.__super__=w,$t.prototype=_(w.prototype,{get_name:function(){return"Mixer_36"},createSound:function(e,t){null==t&&(t=2147483647);var n=new en(e,t);return this._sounds.push(n),n},stopAll:function(){var e=0,t=this._sounds;while(e<t.length){var n=t[e];++e,n.dispose()}},onRemoved:function(){this.stopAll(),this._sounds=[]},__class__:$t});var en=function(e,t){this._source=e,this._channels=t,this._playbacks=[]};en.__name__="flambe.sound._Mixer.MixerSound",en.__interfaces__=[b,Oe],en.prototype={play:function(e){return null==e&&(e=1),this.playOrLoop(e,!1)},loop:function(e){return null==e&&(e=1),this.playOrLoop(e,!0)},playOrLoop:function(e,t){var n=this.findOpenChannel();if(n<0)return new Ke(this);var i=t?this._source.loop(e):this._source.play(e);return this._playbacks[n]=i,i},findOpenChannel:function(){var e=0,t=this._channels;while(e<t){var n=e++,i=this._playbacks[n];if(null==i||i.get_complete()._value)return n}return-1},get_reloadCount:function(){return this._source.get_reloadCount()},dispose:function(){var e=0,t=this._playbacks;while(e<t.length){var n=t[e];++e,n.dispose()}this._playbacks=[]},__class__:en};var tn=o["flambe.subsystem.RendererType"]={__ename__:!0,__constructs__:null,Stage3D:{_hx_name:"Stage3D",_hx_index:0,__enum__:"flambe.subsystem.RendererType",toString:r},WebGL:{_hx_name:"WebGL",_hx_index:1,__enum__:"flambe.subsystem.RendererType",toString:r},Canvas:{_hx_name:"Canvas",_hx_index:2,__enum__:"flambe.subsystem.RendererType",toString:r}};tn.__constructs__=[tn.Stage3D,tn.WebGL,tn.Canvas];var nn=function(){};nn.__name__="flambe.util.Assert",nn.that=function(e,t,n){e||nn.fail(t,n)},nn.fail=function(e,t){var n="Assertion failed!";throw null!=e&&(n="Assertion failed! "+e),null!=t&&(n=hn.withFields(n,t)),hi.thrown(n)};var an=function(){};an.__name__="flambe.util.BitSets",an.set=function(e,t,n){return n?e|t:e&~t};var sn=o["flambe.util.LogLevel"]={__ename__:!0,__constructs__:null,Info:{_hx_name:"Info",_hx_index:0,__enum__:"flambe.util.LogLevel",toString:r},Warn:{_hx_name:"Warn",_hx_index:1,__enum__:"flambe.util.LogLevel",toString:r},Error:{_hx_name:"Error",_hx_index:2,__enum__:"flambe.util.LogLevel",toString:r}};sn.__constructs__=[sn.Info,sn.Warn,sn.Error];var rn=function(){this.success=new E,this.error=new E,this.progressChanged=new on,this.hasResult=!1,this._progress=0,this._total=0};rn.__name__="flambe.util.Promise",rn.prototype={set_result:function(e){if(this.hasResult)throw hi.thrown("Promise result already assigned");return this._result=e,this.hasResult=!0,this.success.emit(e),e},get:function(e){return this.hasResult?(e(this._result),null):this.success.connect(e).once()},set_progress:function(e){return this._progress!=e&&(this._progress=e,this.progressChanged.emit()),e},set_total:function(e){return this._total!=e&&(this._total=e,this.progressChanged.emit()),e},__class__:rn};var on=function(e){T.call(this,e)};on.__name__="flambe.util.Signal0",on.__super__=T,on.prototype=_(T.prototype,{connect:function(e,t){return null==t&&(t=!1),this.connectImpl(e,t)},emit:function(){var e=this;this._head==T.DISPATCHING_SENTINEL?this.defer((function(){e.emitImpl()})):this.emitImpl()},emitImpl:function(){var e=this.willEmit(),t=e;while(null!=t)t._listener(),t.stayInList||t.dispose(),t=t._next;this.didEmit(e)},__class__:on});var _n=function(e){this.next=null,this.fn=e};_n.__name__="flambe.util._SignalBase.Task",_n.prototype={__class__:_n};var hn=function(){};hn.__name__="flambe.util.Strings",hn.getFileExtension=function(e){var t=e.lastIndexOf(".");return t>0?l.substr(e,t+1,null):null},hn.removeFileExtension=function(e){var t=e.lastIndexOf(".");return t>0?l.substr(e,0,t):e},hn.getUrlExtension=function(e){var t=e.lastIndexOf("?");t>=0&&(e=l.substr(e,0,t));var n=e.lastIndexOf("/");return n>=0&&(e=l.substr(e,n+1,null)),hn.getFileExtension(e)},hn.joinPath=function(e,t){return e.length>0&&47!=e.charCodeAt(e.length-1)&&(e+="/"),e+t},hn.withFields=function(e,t){var n=t.length;if(n>0){e+=e.length>0?" [":"[";var i=0;while(i<n){i>0&&(e+=", ");var a=t[i],s=t[i+1];if(yi.__instanceof(s,Error)){var r=s.stack;null!=r&&(s=r)}e+=a+"="+d.string(s),i+=2}e+="]"}return e};var ln=function(e){w.call(this),this._pack=e,this.init()};ln.__name__="game.Audio",ln.make=function(e){ln._hasAudio||(R.root.add(new ln(e)),ln._hasAudio=!0)},ln.playTitle_=function(){R.root._compMap["Audio_35"].playTitle()},ln.playMain_=function(){R.root._compMap["Audio_35"].playMain()},ln.stop_=function(){R.root._compMap["Audio_35"].stop()},ln.playSound_=function(e){R.root._compMap["Audio_35"].playSound(e)},ln.__super__=w,ln.prototype=_(w.prototype,{get_name:function(){return"Audio_35"},onAdded:function(){this.owner.addChild(this._root)},init:function(){this._madeSounds=new ci,this._root=new y,this._root.add(this._mixer=new $t)},playTitle:function(){this.stop(),this._bg=this._pack.getSound("sfx/title").loop()},playMain:function(){this.stop(),this._bg=this._pack.getSound("sfx/main").loop()},stop:function(){null!=this._bg&&(this._bg.dispose(),this._bg=null)},playSound:function(e){if(!Object.prototype.hasOwnProperty.call(this._madeSounds.h,e)){var t=this._pack.getSound(e),n=this._mixer.createSound(t,1);this._madeSounds.h[e]=n}this._madeSounds.h[e].play()},__class__:ln});var un=function(){};un.__name__="game.BrowserUtil",un.isMobile=function(){return new h("iPhone|iPad|iPod|Android","i").match(a.navigator.userAgent)};var cn=function(e,t,n,i){w.call(this),this.click=new on,this.init(e,t,n,i)};cn.__name__="game.Button",cn.__super__=w,cn.prototype=_(w.prototype,{get_name:function(){return"Button_1"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},init:function(e,t,n,i){var a=this;this._root=new y,this._disposer=new v;var s=new oe(e.getTexture(t)).centerAnchor().setXY(n,i);this._root.add(s),dn.addStates(s,(function(){a.click.emit()}),this._disposer)},__class__:cn});var dn=function(){};dn.__name__="game.ButtonUtil",dn.addStates=function(e,t,n){null==n&&(n=new v);var i=!1;return n.add(e.get_pointerIn().connect((function(t){e.setScale(1.05)}))),n.add(e.get_pointerOut().connect((function(t){e.setScale(1)}))),n.add(e.get_pointerDown().connect((function(t){e.setScale(.95),i=!0}))),R.assertCalledInit(),n.add(R._platform.getPointer().up.connect((function(n){e.setScale(1),i&&n.hit==e&&(i=!1,t())}))),n};var pn=function(e,t){Q.call(this),this._width=e,this._height=t,this.scissor=new ke(0,0,this._width,this._height)};pn.__name__="game.Container",pn.getSize=i["game"]["Container"]["getSize"]=function(e,t,n,i){var a=t/e,s=i/n,r=0,o=0;return s<a?(o=i,r=i/a):(r=n,o=n*a),pn._scratch.scale=r/e,pn._scratch.x=(n-r)/2,pn._scratch.y=(i-o)/2,pn._scratch},pn.__super__=Q,pn.prototype=_(Q.prototype,{getNaturalWidth:function(){return this._width},getNaturalHeight:function(){return this._height},draw:function(e){e.fillRect(13421772,0,0,this._width,this._height)},setSize:function(e,t){var n=pn.getSize(this._width,this._height,e,t);return this.setScale(n.scale),this.setXY(n.x,n.y),this},__class__:pn});var mn=function(){w.call(this),this.init()};mn.__name__="game.DrinkPercent",mn.__super__=w,mn.prototype=_(w.prototype,{get_name:function(){return"DrinkPercent_38"},get_percent:function(){return this._percent},set_percent:function(e){return this._percent=xe.clamp(e,0,1)},reset:function(){this._percent=1},init:function(){this._percent=1},__class__:mn});var fn=function(e,t){w.call(this),this.init(e,t)};fn.__name__="game.Liquid",fn.__super__=w,fn.prototype=_(w.prototype,{get_name:function(){return"Liquid_4"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},setXY:function(e,t,n,i){var a=this._root._compMap["Sprite_5"],s=a instanceof J?a:null,r=3.141592653589793*n/180,o=i*Math.cos(r-1.5708)+e,_=i*Math.sin(r-1.5708)+t;s.setXY(o,_),s.angle.set__(180*vn.reflectAngle(r,!0)/3.141592653589793)},set_visible:function(e){var t=this._root._compMap["Sprite_5"];return(t instanceof J?t:null).set_visible(e)},init:function(e,t){this._root=new y;var n=new z(e,t+"/puke/puke");this._root.add(new J(n).setRotation(90))},__class__:fn});var gn=function(e,t,n){w.call(this),this.init(e,t,n)};gn.__name__="game.Loader",gn.__super__=w,gn.prototype=_(w.prototype,{get_name:function(){return"Loader_43"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},init:function(e,t,n){this._disposer=new v,this._root=new y,this._root.add(new oe(e.getTexture("loadingBack"))).add(new bn(e,t,n))},__class__:gn});var bn=function(e,t,n){w.call(this),this.init(e,t,n)};bn.__name__="game.LoaderBall",bn.__super__=w,bn.prototype=_(w.prototype,{get_name:function(){return"LoaderBall_42"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){this._root=new y;var i=(new Q).setXY(898,786);this._root.add(i);var a=new oe(e.getTexture("ballLineWater")),s=new oe(e.getTexture("ball")).centerAnchor().setXY(75,-250);this._root.addChild((new y).add(s)),this._root.addChild((new y).add(a)),s.rotation.set_behavior(new Y(-10,10,4)),i.x.set_behavior(new Y(848,948,4)),i.y.set_behavior(new Y(786,796,2))},__class__:bn});var wn=function(){};wn.__name__="game.Main",wn.main=function(){R.init(),R.assertCalledInit(),R._platform.getPointer().down.connect((function(e){R.assertCalledInit(),R._platform.getStage().requestFullscreen(!0)})).once()},wn.start=i["game"]["Main"]["start"]=function(e,t){var n=new pn(e,t);n.set_visible(!1),R.root.add(n),R.root.add(new mn),R.root.add(new xn),R.assertCalledInit(),R._platform.getStage().resize.connect((function(){var e=n;R.assertCalledInit();var t=R._platform.getStage().get_width();R.assertCalledInit(),e.setSize(t,R._platform.getStage().get_height())})),R.assertCalledInit(),R._platform.getStage().resize.emit();var i=G.fromAssets("bootstrap");R.assertCalledInit();var a=e,s=t,r=function(e){wn.onBootstrapLoaded(a,s,e)};R._platform.loadAssetPack(i).success.connect(r).once()},wn.onBootstrapLoaded=function(e,t,n){var i=null;R.assertCalledInit(),i=R._platform.getWeb().addView(wn.vueSplash,{onClick:function(){n.getSound("silence").play(),i.dispose();var a=new gn(n,e,t);R.root.add(a);var s=R.root._compMap["Sprite_5"];(s instanceof pn?s:null).set_visible(!0);var r=G.fromAssets("main");return R.assertCalledInit(),R._platform.loadAssetPack(r).success.connect((function(n){a.dispose(),ln.make(n),R.root.add(new Dn(n,e,t))})).once()}},{width:e,height:t})};var vn=function(){};vn.__name__="game.MathUtil",vn.solveTriangle=function(e,t,n){var i=vn.solveAngle(t,n,e),a=vn.solveAngle(n,e,t),s=vn.solveAngle(e,t,n);return null!=i&&null!=a&&null!=s?{a:i,b:a,c:s}:null},vn.solveAngle=function(e,t,n){var i=(e*e+t*t-n*n)/(2*e*t);return i>=-1&&.9999999>=i?Math.acos(i):1>=i?Math.sqrt((n*n-(e-t)*(e-t))/(e*t)):null},vn.reflectAngle=function(e,t){var n=Math.cos(e),i=Math.sin(e);return t?Math.atan2(i,-n):Math.atan2(-i,n)},vn.normDegrees=function(e){return(e%360+360)%360},vn.quadrant=function(e){var t=vn.normDegrees(180*e/3.141592653589793);return t>270?3:t>180?2:t>90?1:0};var yn=function(e,t,n,i,a){w.call(this),this.init(e,t,n,i,a)};yn.__name__="game.Meter",yn.__super__=w,yn.prototype=_(w.prototype,{get_name:function(){return"Meter_17"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},show:function(e){return e?this._root._compMap["Sprite_5"].anchorY.set__(0):this._root._compMap["Sprite_5"].anchorY.animateTo(0,1,N.cubeOut),this},setFill:function(e){var t=xe.clamp(e,0,1),n=this._fill.getNaturalHeight()-t*this._fill.getNaturalHeight();return this._fill.scissor.y=n,this},init:function(e,t,n,i,a){this._root=(new y).add((new Q).setXY(t,n)),this._root._compMap["Sprite_5"].anchorY.set__(1e3);var s=(new y).add(new oe(e.getTexture("meterBack"))),r=(new y).add(this._fill=new oe(e.getTexture(a))),o=this._fill.getNaturalWidth(),_=this._fill.getNaturalHeight();this._fill.scissor=new ke(0,0,o,_);var h=(new y).add(new oe(e.getTexture(i)).setXY(-26,0));this._root.addChild(s).addChild(r).addChild(h)},__class__:yn});var xn=function(){this._bestScore=0,w.call(this),this.init()};xn.__name__="game.OverallScore",xn.__super__=w,xn.prototype=_(w.prototype,{get_name:function(){return"OverallScore_37"},resetFirst:function(){this.scoreFirst.set__(0)},resetSecond:function(){this.scoreSecond.set__(0)},tally:function(){this._bestScore=this.scoreFirst._value+this.scoreSecond._value},get_currentScore:function(){return this.formatScore(this.scoreFirst._value+this.scoreSecond._value)},get_bestScore:function(){return this.formatScore(this._bestScore)},formatScore:function(e){return e<10?"00"+e:e<100?"0"+e:""+e},init:function(){this.scoreFirst=new C(0),this.scoreSecond=new C(0)},__class__:xn});var Sn=function(e,t,n){w.call(this),this.init(e,t,n)};Sn.__name__="game.Points",Sn.__super__=w,Sn.prototype=_(w.prototype,{get_name:function(){return"Points_3"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},setScore:function(e){e<10?this._text.set_text("00"+e):e<100?this._text.set_text("0"+e):this._text.set_text(""+e)},init:function(e,t,n){var i=new te(e,"testfont");this._text=new ue(i,"000"),this._root=(new y).add(new oe(e.getTexture("points")).setXY(t,n)).addChild((new y).add(this._text.setScale(1.7).setXY(37,0)))},__class__:Sn});var kn=function(e,t,n,i,a,s,r,o){Q.call(this),this._percent=1,this._r1=e,this._g1=t,this._b1=n,this._r2=i,this._g2=a,this._b2=s,this._width=r,this._height=o};kn.__name__="game.RGBSprite",kn.__super__=Q,kn.prototype=_(Q.prototype,{draw:function(e){var t=(this.r()<<16)+(this.g()<<8)+this.b();e.fillRect(t,0,0,this._width,this._height)},getNaturalWidth:function(){return this._width},getNaturalHeight:function(){return this._height},setPercent:function(e){this._percent=xe.clamp(e,0,1)},r:function(){var e=this._percent,t=1-e;return Math.round(e*this._r1+t*this._r2)},g:function(){var e=this._percent,t=1-e;return Math.round(e*this._g1+t*this._g2)},b:function(){var e=this._percent,t=1-e;return Math.round(e*this._b1+t*this._b2)},__class__:kn});var Cn=function(){};Cn.__name__="game.SpriteUtil",Cn.localXY=function(e,t,n){var i=e.getViewMatrix();return i.inverseTransform(t,n,Cn.SPRITE_SCRATCH)||Cn.SPRITE_SCRATCH.set(0,0),Cn.SPRITE_SCRATCH},Cn.viewXY=function(e,t,n){return e.getViewMatrix().transform(0,0,Cn.SPRITE_SCRATCH),Cn.SPRITE_SCRATCH};var An=function(){};An.__name__="game.cafe.ArmUtil",An.calcAngles=function(e,t,n,i){An._scratchLocal.x=e,An._scratchLocal.y=t;var a=An.getAngle(An._scratchLocal.x,An._scratchLocal.y),s=An.hasReflectAngle(vn.quadrant(a),i),r=s?-An._scratchLocal.y:An._scratchLocal.y,o=An.getAngle(An._scratchLocal.x,r),_=An._scratchLocal.distanceTo(0,0),h=757-_;if(n.canReach=h>0,n.canReach){var l=vn.solveTriangle(382.5,374.5,_);if(null!=l){var u=o-1.5708-l.a,c=l.a+l.b;s?(n.top=180*vn.reflectAngle(u,!0)/3.141592653589793,n.bottom=180*vn.reflectAngle(c,!1)/3.141592653589793):(n.top=180*u/3.141592653589793,n.bottom=180*c/3.141592653589793)}}else n.top=180*a/3.141592653589793-90,n.bottom=0},An.getAngle=function(e,t){return Math.atan2(t,e)},An.hasReflectAngle=function(e,t){var n=!1;return t?3!=e&&2!=e||(n=!0):0!=e&&1!=e||(n=!0),n};var Tn=function(e){w.call(this),this.init(e)};Tn.__name__="game.cafe.Background",Tn.__super__=w,Tn.prototype=_(w.prototype,{get_name:function(){return"Background_6"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},nextState:function(){var e=this._title._compMap["Sprite_5"];e.y.animateTo(-600,2,N.cubeOut),e.x.animateTo(1400,2,N.cubeOut),e.rotation.animateTo(-20,2,N.cubeOut),this._flamingo.anchorX.animateTo(-140,2,N.cubeOut),this._flamingo.anchorY.animateTo(60,2,N.cubeOut)},smile:function(){this._sun.smile()},mad:function(){this._sun.mad()},init:function(e){this._root=new y,this._root.add(new oe(e.getTexture("cafe/mainBack")));var t=e.getTexture("cafe/title");this._title=(new y).add(new oe(t).centerAnchor().setXY(390+t.get_width()/2,179+t.get_height()/2)),this._title._compMap["Sprite_5"].rotation.set_behavior(new Y(-3,3,5)),this._flamingo=new oe(e.getTexture("cafe/flamingo")).setXY(1131,594),this._flamingo.x.set_behavior(new Y(1101,1161,5)),this._flamingo.rotation.set_behavior(new Y(-5,5,10));var n=new oe(e.getTexture("cloud")).setXY(0,54),i=new oe(e.getTexture("cloud")).setXY(1039,168),a=new oe(e.getTexture("cloud")).setXY(1340,51);n.x.set_behavior(new Y(-30,30,5)),n.y.set_behavior(new Y(39,69,10)),i.x.set_behavior(new Y(1009,1069,5)),i.y.set_behavior(new Y(153,183,10)),a.x.set_behavior(new Y(1310,1370,5)),a.y.set_behavior(new Y(36,66,10)),this._root.addChild((new y).add(n)).addChild((new y).add(i)).addChild((new y).add(a)).add(this._sun=new Fn(e,300,90)).addChild(this._title).addChild((new y).add(this._flamingo))},__class__:Tn});var Mn=function(e,t,n){this.drink=null,w.call(this),this.liquid=t,this.init(e,n)};Mn.__name__="game.cafe.Bar",Mn.__super__=w,Mn.prototype=_(w.prototype,{get_name:function(){return"Bar_13"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},toss:function(){var e=0,t=this._slots;while(e<t.length){var n=t[e];++e,n.toss()}this.drink=null},onUpdate:function(e){if(R.assertCalledInit(),R._platform.getPointer().isDown()){var t=this._root._compMap["Sprite_5"];R.assertCalledInit();var n=R._platform.getPointer().get_x();R.assertCalledInit();var i=Cn.localXY(t,n,R._platform.getPointer().get_y()),a=0,s=this._slots;while(a<s.length){var r=s[a];++a;var o=r.isHit(i.x,i.y);if(o)switch(r.state._value._hx_index){case 0:break;case 1:this.drink!=r&&(null!=this.drink&&this.drink.toss(),this.drink=r,this.drink.grab(i.x,i.y),this.liquid.set_visible(!0),this.liquid.setXY(i.x,i.y,this.drink.get_rotation(),230));break;case 2:break;case 3:r.moveTo(i.x,i.y),this.liquid.setXY(i.x,i.y,this.drink.get_rotation(),230);break;case 4:break}else null!=this.drink&&this.drink.moveTo(i.x,i.y)}}},init:function(e,t){var n=this;this._root=(new y).add(new Q),this._disposer=new v,this._slots=[];var i=[{x:406,y:985},{x:573,y:1013},{x:810,y:995},{x:1200,y:1027},{x:1516,y:1007}],a=0,s=i.length;while(a<s){var r=a++,o=i[r],_=new Pn(e,o.x,o.y,this,t),h=(new y).add(_);_.turnOff(),this._slots.push(_),this._root.addChild(h)}var l=this._disposer;R.assertCalledInit(),l.add(R._platform.getPointer().up.connect((function(e){null!=n.drink&&(n.drink.toss(),n.liquid.set_visible(!1),n.drink=null)}))),this._slots[0].show(!0),this._slots[1].show(!0),this._slots[2].show(!0),this._slots[3].show(!0),this._slots[4].show(!0)},__class__:Mn});var En=o["game.cafe.BarDrinkState"]={__ename__:!0,__constructs__:null,Destroyed:(s=function(e){return{_hx_index:0,ref:e,__enum__:"game.cafe.BarDrinkState",toString:r}},s._hx_name="Destroyed",s.__params__=["ref"],s),Idle:{_hx_name:"Idle",_hx_index:1,__enum__:"game.cafe.BarDrinkState",toString:r},Sliding:{_hx_name:"Sliding",_hx_index:2,__enum__:"game.cafe.BarDrinkState",toString:r},Active:(s=function(e){return{_hx_index:3,ref:e,__enum__:"game.cafe.BarDrinkState",toString:r}},s._hx_name="Active",s.__params__=["ref"],s),Off:{_hx_name:"Off",_hx_index:4,__enum__:"game.cafe.BarDrinkState",toString:r}};En.__constructs__=[En.Destroyed,En.Idle,En.Sliding,En.Active,En.Off];var Pn=function(e,t,n,i,a){w.call(this),this._x=t,this._y=n,this._bar=i,this._game=a,this.state=new C(En.Off),this.init(e)};Pn.__name__="game.cafe.BarDrink",Pn.__super__=w,Pn.prototype=_(w.prototype,{get_name:function(){return"BarDrink_14"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){if(this._game.isGameplay){var t=this.state._value;switch(t._hx_index){case 0:var n=t.ref;n.time+=e,n.time>=Pn.DESTROYED_DURATION&&this.show(!1);break;case 1:break;case 2:break;case 3:n=t.ref;n.time+=e,n.time>=Pn.ACTIVE_DURATION&&(this._bar.drink=null,this._bar.liquid.set_visible(!1),this.toss());break;case 4:break}}},isHit:function(e,t){var n=this._root._compMap["Sprite_5"],i=n.x._value-n.anchorX._value,a=n.y._value-n.anchorY._value,s=i+n.getNaturalWidth(),r=a+n.getNaturalHeight();return i<=e&&e<=s&&a<=t&&t<=r},show:function(e){var t=this,n=this._root._compMap["Sprite_5"],i=n.x._value<960;n.x.set__(i?-2e3:2e3),n.rotation.set__(0),n.y.set__(this._y),this.state.set__(En.Sliding),e?(this.state.set__(En.Idle),n.x.set__(this._x)):(ln.playSound_("sfx/cafe/bottleSlide"),this._root.add(new Qt),this._root.add(new Qt)._compMap["Script_27"].run(new Zt([new Ht(n.x,this._x,.666,N.cubeOut),new jt((function(){t.state.set__(En.Idle)}))]))),n.set_visible(!0)},turnOff:function(){this.state.set__(En.Off);var e=this._root._compMap["Sprite_5"];e.set_visible(!1)},grab:function(e,t){this.state.set__(En.Active({time:0}));var n=this._root._compMap["Sprite_5"];n.rotation.set_behavior(new Y(195,165,1)),this.moveTo(e,t)},moveTo:function(e,t){var n=this._root._compMap["Sprite_5"];n.x.set__(e),n.y.set__(t)},toss:function(){this.state.set__(En.Destroyed({time:0}));var e=this._root._compMap["Sprite_5"],t=Math.random()>.5,n=t?-500:500,i=t?-180:180;e.x.animateTo(e.x._value+n,.3333,N.sineIn),e.y.animateTo(-300,.3333,N.sineOut),e.rotation.animateTo(i,.3333,N.sineOut),ln.playSound_("sfx/cafe/bottleThrow"),this._root.add(new Qt),this._root.add(new Qt)._compMap["Script_27"].run(new Zt([new zt(.5),new jt((function(){ln.playSound_("sfx/cafe/bottleBreak")}))]))},get_rotation:function(){var e=this._root._compMap["Sprite_5"];return e.rotation._value},init:function(e){this._root=new y;var t=e.getTexture("cafe/beerStar"),n=t.get_width()/2,i=t.get_height()-50;this._root.add(new oe(t).setAnchor(n,i).setXY(this._x,this._y))},__class__:Pn});var Rn=function(e,t){w.call(this),this.init(e,t)};Rn.__name__="game.cafe.BarTable",Rn.__super__=w,Rn.prototype=_(w.prototype,{get_name:function(){return"BarTable_10"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t){this._root=new y;var n=e.getTexture("cafe/table");this._root.addChild((new y).add(new oe(n).setXY(-3,t-n.get_height())))},__class__:Rn});var Dn=function(e,t,n){this._isWarning=!1,this._cooldown=0,this._reachY=0,this._reachX=0,this._timeComplete=!1,this._spillAmount=0,this._fillAmount=0,this._timeElapsed=0,this._rotation=new P(0),this._anchorY=new P(0),this._anchorX=new P(0),this.isGameplay=!1,w.call(this),this._pack=e,this.init(e,t,n)};Dn.__name__="game.cafe.CafeGame",Dn.__super__=w,Dn.prototype=_(w.prototype,{get_name:function(){return"CafeGame_2"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},onUpdate:function(e){if(this._anchorX.update(e),this._anchorY.update(e),this._rotation.update(e),!this._timeComplete&&this.isGameplay){if(this._thirstyPerson.get_state()!=Xn.Mad){var t=this._reachX>130&&this._reachX<280,n=this._reachY>-580&&this._reachY<-470;if(t&&n&&null!=this._barDrinks.drink&&this._thirstyPerson.get_state()!=Xn.Drinking)this._thirstyPerson.drink(),ln.playSound_("sfx/cafe/chug");else{t=this._reachX>130&&this._reachX<280,n=this._reachY>-580&&this._reachY<-470;t&&n&&null!=this._barDrinks.drink||this._thirstyPerson.get_state()==Xn.Thirsty||this._thirstyPerson.thirst()}}t=this._reachX>130&&this._reachX<280,n=this._reachY>-580&&this._reachY<-470;if(t&&n&&null!=this._barDrinks.drink){this._fillAmount+=e;var i=R.root._compMap["OverallScore_37"];i.scoreFirst.set__(Math.floor(84*this._fillAmount))}else this._reachY<-470&&null!=this._barDrinks.drink&&(0==this._spillAmount&&ln.playSound_("sfx/cafe/bottleSplash"),this._spillAmount+=e);this._spillAmount>2&&(this._spillAmount=0,this._thirstyPerson.mad(),this._background.mad(),this._barDrinks.toss(),this._liquid.set_visible(!1),this._cooldown=0),this._thirstyPerson.get_state()==Xn.Mad&&(this._cooldown+=e,this._cooldown>2.2&&(this._thirstyPerson.thirst(),this._background.smile())),this._timeElapsed+=e;var a=this._fillAmount/13;this._meterDrink._compMap["Meter_17"].setFill(a);var s=1-this._timeElapsed/30;if(!this._isWarning&&30-this._timeElapsed<10&&(this._isWarning=!0,ln.playSound_("sfx/cafe/timer")),this._meterTime._compMap["Meter_17"].setFill(s),this._timeElapsed>=30){this._timeComplete=!0,ln.playSound_("sfx/cafe/partyHarder");var r=new oe(this._pack.getTexture("cafe/fail"));this._root.addChild((new y).add(r.centerAnchor().setXY(960,540))),r.rotation.set_behavior(new Y(-5,5,4)),r.scaleX.set_behavior(new Y(.9,1,2)),r.scaleY.set_behavior(new Y(.9,1,2))}else this._fillAmount>=13&&(this._timeComplete=!0,this.dispose(),R.root.add(new oi(this._pack,1920,1080)))}},init:function(e,t,n){var i=this;ln.playTitle_(),this._anchorX.set__(1900),this._disposer=new v,this._root=new y,this._meterTime=(new y).add(new yn(e,100,180,"timeFront","timeMid")),this._meterDrink=(new y).add(new yn(e,1760,180,"drinkFront","drinkMid")),this._root.add(new Q).add(this._background=new Tn(e)).addChild((new y).add(this._playButton=new cn(e,"cafe/playButton",t/2,780))).addChild((new y).add(this._thirstyPerson=new On(e,t,n))).add(new Rn(e,n)).addChild((new y).add(this._thirstyArms=new Nn(e,t,n))).add(this._liquid=new fn(e,"cafe")).add(this._barDrinks=new Mn(e,this._liquid,this)).addChild((new y).add(this._homeButton=new cn(e,"homeButton",t-121,90))).addChild(this._meterTime).addChild(this._meterDrink).add(this._points=new Sn(this._pack,1550,49)),this._thirstyPerson.bindTo(this._anchorX,this._anchorY,this._rotation),this._thirstyArms.bindTo(this._anchorX,this._anchorY,this._rotation),this._liquid.set_visible(!1),this._disposer.add(this._homeButton.click.connect((function(){i.dispose(),ln.playSound_("click"),R.root.add(new Dn(e,t,n))}))),R.root._compMap["OverallScore_37"].resetFirst(),this._disposer.add(R.root._compMap["OverallScore_37"].scoreFirst.get_changed().connect((function(e,t){i._points.setScore(e)}))),this._disposer.add(this._playButton.click.connect((function(){i.nextState(),ln.playSound_("click")})).once()),this._disposer.add(this._thirstyArms.reachX.get_changed().connect((function(e,t){i._reachX=e}))),this._disposer.add(this._thirstyArms.reachY.get_changed().connect((function(e,t){i._reachY=e}))),this._meterDrink._compMap["Meter_17"].setFill(0),this._meterTime._compMap["Meter_17"].setFill(1)},nextState:function(){var e=this;this._root._compMap["Background_6"].nextState(),this._anchorY.set_behavior(new Y(5,0,3)),this.isGameplay=!0,this._playButton.dispose(),this._meterTime._compMap["Meter_17"].show(!1),this._meterDrink._compMap["Meter_17"].show(!1),this._root.add(new Qt),this._root.add(new Qt)._compMap["Script_27"].run(new Zt([new Ht(this._anchorX,-200,1,N.cubeOut),new jt((function(){e._anchorX.set__(0),e._anchorX.set_behavior(new Y(-200,200,2))}))]))},__class__:Dn});var Fn=function(e,t,n){w.call(this),this.init(e,t,n)};Fn.__name__="game.cafe.CafeSun",Fn.__super__=w,Fn.prototype=_(w.prototype,{get_name:function(){return"CafeSun_31"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},smile:function(){this._sun.smile()},mad:function(){this._sun.mad(),ln.playSound_("sfx/cafe/angrySun"),ln.playSound_("sfx/cafe/sunMouth")},init:function(e,t,n){this._root=new y,this._root.add((new Q).setXY(t,n)).add(this._sun=new Bn(e))},__class__:Fn});var Bn=function(e){w.call(this),this.init(e)};Bn.__name__="game.cafe.BackgroundSun",Bn.__super__=w,Bn.prototype=_(w.prototype,{get_name:function(){return"BackgroundSun_30"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){var t=this._stripes.rotation;t.set__(t._value+20*e)},smile:function(){this._mouth.smile()},mad:function(){this._mouth.mad()},init:function(e){this._root=new y,this._root.add(new Q),this._root._compMap["Sprite_5"].anchorX.set_behavior(new Y(-20,20,5)),this._root._compMap["Sprite_5"].anchorY.set_behavior(new Y(20,0,2.5)),this._root.addChild((new y).add(this._stripes=new oe(e.getTexture("cafe/sun/sunStripes")).centerAnchor())).addChild((new y).add(this._sun=new oe(e.getTexture("cafe/sun/sun")).centerAnchor())).addChild((new y).add(new oe(e.getTexture("cafe/sun/ear")).setXY(-125,-35))).addChild((new y).add(new Ln(e,-14,-50))).addChild((new y).add(new Ln(e,72,-50))).add(this._mouth=new In(e))},__class__:Bn});var In=function(e){w.call(this),this._pack=e,this.init()};In.__name__="game.cafe.BackgroundSunSmile",In.__super__=w,In.prototype=_(w.prototype,{get_name:function(){return"BackgroundSunSmile_29"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(){this._root=new y,this.smile()},smile:function(){this._root.disposeChildren(),this._root.addChild((new y).add(new oe(this._pack.getTexture("cafe/sun/mouthSmile")).setXY(10,55)))},mad:function(){this._root.disposeChildren(),this._root.addChild((new y).add(new oe(this._pack.getTexture("cafe/sun/mouthOpen")).setXY(40,55)))},__class__:In});var Ln=function(e,t,n){w.call(this),this.init(e,t,n)};Ln.__name__="game.cafe.BackgroundSunEye",Ln.__super__=w,Ln.prototype=_(w.prototype,{get_name:function(){return"BackgroundSunEye_28"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){this._root=(new y).add((new Q).setXY(t,n));var i=e.getTexture("cafe/sun/eye");this._root.addChild((new y).add(new $(16047817,i.get_width()-4,i.get_height()-4).setXY(2,2))),this._root.addChild((new y).add(this._pupil=new oe(e.getTexture("cafe/sun/eyePupil")).setXY(38,70).centerAnchor())),this._root.addChild((new y).add(new oe(i))),this._root.addChild((new y).add(this._brow=new oe(e.getTexture("cafe/sun/eyebrow")).setXY(36,10).centerAnchor()))},__class__:Ln});var Nn=function(e,t,n){w.call(this),this.reachX=new C(0),this.reachY=new C(0),this.init(e,t,n)};Nn.__name__="game.cafe.ThirstyArms",Nn.__super__=w,Nn.prototype=_(w.prototype,{get_name:function(){return"ThirstyArms_12"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},bindTo:function(e,t,n){this._root._compMap["Sprite_5"].anchorX.set_behavior(new L(e,null)),this._root._compMap["Sprite_5"].anchorY.set_behavior(new L(t,null)),this._root._compMap["Sprite_5"].rotation.set_behavior(new L(n,null))},init:function(e,t,n){var i=this;this._root=(new y).add((new Q).setXY(t/2,n-420)),this._left=(new y).add(new Yn(e,-220,180,!1)),this._right=(new y).add(new Yn(e,240,180,!0)),this._root.addChild(this._right).addChild(this._left),this._disposer=new v,this._disposer.add(this._left._compMap["ThirstyArm_11"].reachX.get_changed().connect((function(e,t){i.reachX.set__(e)}))),this._disposer.add(this._left._compMap["ThirstyArm_11"].reachY.get_changed().connect((function(e,t){i.reachY.set__(e)})))},__class__:Nn});var Yn=function(e,t,n,i){this._angles={top:0,bottom:0,canReach:!1},this._idleAnim=new P(0),this._isDown=!1,this._viewY=0,this._viewX=0,this.isStale=!1,w.call(this),this._isFlipped=i,this.reachX=new C(0),this.reachY=new C(0),this.init(e,t,n)};Yn.__name__="game.cafe.ThirstyArm",Yn.__super__=w,Yn.prototype=_(w.prototype,{get_name:function(){return"ThirstyArm_11"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},onUpdate:function(e){this._isDown?this.reaching():(this._idleAnim.update(e),this.idleing())},reaching:function(){if(!this.isStale){var e=this._root._compMap["Sprite_5"],t=this._upper._compMap["Sprite_5"],n=this._lower._compMap["Sprite_5"],i=Cn.localXY(e,this._viewX,this._viewY);this.reachX.set__(i.x),this.reachY.set__(i.y),An.calcAngles(i.x,i.y,this._angles,this._isFlipped),t.setRotation(this._angles.top),n.setRotation(this._angles.bottom)}},idleing:function(){var e=this._upper._compMap["Sprite_5"],t=this._lower._compMap["Sprite_5"];this.reachX.set__(Nn.INVALID_REACH),this.reachY.set__(Nn.INVALID_REACH),An.calcAngles(0,this._idleAnim._value,this._angles,this._isFlipped),e.setRotation(this._angles.top),t.setRotation(this._angles.bottom)},init:function(e,t,n){var i=this;if(this._disposer=new v,this._root=(new y).add((new Q).setXY(t,n)),this._upper=(new y).add(new oe(e.getTexture("cafe/body/armTop")).setAnchor(39,0)),this._lower=(new y).add(new oe(e.getTexture("cafe/body/armBottom")).setXY(39,392).setAnchor(49.5,35)),this._idleAnim.set_behavior(new Y(-500,-400,.5)),this._root.addChild(this._upper),this._upper.addChild(this._lower),this._lower.addChild(this._elbowPoint=(new y).add(new Q)),!this._isFlipped){var a=this._disposer;R.assertCalledInit(),a.add(R._platform.getPointer().down.connect((function(e){i._viewX=e.viewX,i._viewY=e.viewY,i._isDown=!0})));a=this._disposer;R.assertCalledInit(),a.add(R._platform.getPointer().move.connect((function(e){i._isDown&&(i._viewX=e.viewX,i._viewY=e.viewY)})));a=this._disposer;R.assertCalledInit(),a.add(R._platform.getPointer().up.connect((function(e){i._isDown&&(i._isDown=!1,i._viewX=e.viewX,i._viewY=e.viewY)})))}},__class__:Yn});var Xn=o["game.cafe.ThirstyPersonState"]={__ename__:!0,__constructs__:null,Drinking:{_hx_name:"Drinking",_hx_index:0,__enum__:"game.cafe.ThirstyPersonState",toString:r},Mad:{_hx_name:"Mad",_hx_index:1,__enum__:"game.cafe.ThirstyPersonState",toString:r},Thirsty:{_hx_name:"Thirsty",_hx_index:2,__enum__:"game.cafe.ThirstyPersonState",toString:r}};Xn.__constructs__=[Xn.Drinking,Xn.Mad,Xn.Thirsty];var On=function(e,t,n){this.state=Xn.Thirsty,w.call(this),this.init(e,t,n)};On.__name__="game.cafe.ThirstyPerson",On.__super__=w,On.prototype=_(w.prototype,{get_name:function(){return"ThirstyPerson_9"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},bindTo:function(e,t,n){this._root._compMap["Sprite_5"].anchorX.set_behavior(new L(e,null)),this._root._compMap["Sprite_5"].anchorY.set_behavior(new L(t,null)),this._root._compMap["Sprite_5"].rotation.set_behavior(new L(n,null))},drink:function(){this._head._compMap["ThirstyPersonHead_8"].drink()},thirst:function(){this._head._compMap["ThirstyPersonHead_8"].thirst()},mad:function(){this._head._compMap["ThirstyPersonHead_8"].mad()},get_state:function(){return this._head._compMap["ThirstyPersonHead_8"].state},init:function(e,t,n){this._root=(new y).add((new Q).setXY(t/2,860)),this._torso=(new y).add(new Un(e)),this._head=(new y).add(new Vn(e)),this._root.addChild(this._torso).addChild(this._head)},__class__:On});var Vn=function(e){this.state=Xn.Thirsty,w.call(this),this._pack=e,this.init()};Vn.__name__="game.cafe.ThirstyPersonHead",Vn.__super__=w,Vn.prototype=_(w.prototype,{get_name:function(){return"ThirstyPersonHead_8"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(){this._root=(new y).add(new Q),this._head=(new y).add(new oe(this._pack.getTexture("cafe/body/head")).setXY(0,-275).centerAnchor()),this._root.addChild(this._head),this._root._compMap["Sprite_5"].anchorX.set_behavior(new Y(-2,2,2)),this._root._compMap["Sprite_5"].anchorY.set_behavior(new Y(0,10,3)),this._root._compMap["Sprite_5"].rotation.set_behavior(new Y(-5,5,5)),this._root.addChild(this._features=new y),this.thirst()},drink:function(){this.state=Xn.Drinking,this._features.disposeChildren();var e=new oe(this._pack.getTexture("cafe/body/eyesDrinking"));this._features.addChild((new y).add(new oe(this._pack.getTexture("cafe/body/mouthCool")).setXY(10,-155).centerAnchor())).addChild((new y).add(e.setXY(0,-290).centerAnchor()))},thirst:function(){this.state=Xn.Thirsty,this._features.disposeChildren();var e=new oe(this._pack.getTexture("cafe/body/eyesCool"));this._features.addChild((new y).add(new oe(this._pack.getTexture("cafe/body/mouthCool")).setXY(10,-155).centerAnchor())).addChild((new y).add(e.setXY(0,-290).centerAnchor())),e.scaleY.set_behavior(new Y(1,.9,.5))},mad:function(){this.state=Xn.Mad,this._features.disposeChildren();var e=new oe(this._pack.getTexture("cafe/body/eyesMad"));this._features.addChild((new y).add(new oe(this._pack.getTexture("cafe/body/mouthMad")).setXY(-2,-155).centerAnchor())).addChild((new y).add(e.setXY(0,-290).centerAnchor()))},__class__:Vn});var Un=function(e){w.call(this),this.init(e)};Un.__name__="game.cafe.ThirstyPersonTorso",Un.__super__=w,Un.prototype=_(w.prototype,{get_name:function(){return"ThirstyPersonTorso_7"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e){this._root=(new y).add(new Q),this._torso=(new y).add(new oe(e.getTexture("cafe/body/body")).centerAnchor()),this._root.addChild(this._torso)},__class__:Un});var Kn=function(e,t,n){w.call(this),this.init(e,t,n)};Kn.__name__="game.runner.Bush",Kn.__super__=w,Kn.prototype=_(w.prototype,{get_name:function(){return"Bush_39"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){this._root=new y,this._root.add(new oe(e.getTexture("runner/bush")).setXY(t,n)).addChild((new y).add(this._berry1=new oe(e.getTexture("runner/bushBerry")).centerAnchor().setXY(220,98))).addChild((new y).add(this._berry2=new oe(e.getTexture("runner/bushBerry")).centerAnchor().setXY(313,78)))},__class__:Kn});var Wn=o["game.runner.ControlState"]={__ename__:!0,__constructs__:null,Up:{_hx_name:"Up",_hx_index:0,__enum__:"game.runner.ControlState",toString:r},Right:{_hx_name:"Right",_hx_index:1,__enum__:"game.runner.ControlState",toString:r},Down:{_hx_name:"Down",_hx_index:2,__enum__:"game.runner.ControlState",toString:r},Space:{_hx_name:"Space",_hx_index:3,__enum__:"game.runner.ControlState",toString:r},Idle:{_hx_name:"Idle",_hx_index:4,__enum__:"game.runner.ControlState",toString:r}};Wn.__constructs__=[Wn.Up,Wn.Right,Wn.Down,Wn.Space,Wn.Idle];var Gn=function(){this._isDown=!1,this._down=new q,this._viewY=0,this._viewX=0,w.call(this),this.state=new C(Wn.Idle),this.init()};Gn.__name__="game.runner.Controller",Gn.__super__=w,Gn.prototype=_(w.prototype,{get_name:function(){return"Controller_18"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},onUpdate:function(e){if(this._isDown){var t=this._root._compMap["Sprite_5"],n=Cn.localXY(t,this._viewX,this._viewY),i=this._down.distanceTo(n.x,n.y);if(i>40){var a=180*Math.atan2(this._down.y-n.y,this._down.x-n.x)/Math.PI,s=vn.normDegrees(a);s>40&&s<140?this.state.set__(Wn.Up):s>220&&s<320?this.state.set__(Wn.Down):s>130&&s<230&&this.state.set__(Wn.Right),this._isDown=!1}}},onkeyUp:function(e){this.state.set__(Wn.Idle)},onkeyDown:function(e){switch(e.key._hx_index){case 68:this.state.set__(Wn.Up);break;case 69:this.state.set__(Wn.Right);break;case 70:this.state.set__(Wn.Down);break;case 96:this.state.set__(Wn.Space);break;default:}},onPointerUp:function(e){this.state.set__(Wn.Idle),this._isDown=!1},onPointerDown:function(e){if(this.state._value!=Wn.Space){this.state.set__(Wn.Space);var t=this._root._compMap["Sprite_5"],n=Cn.localXY(t,this._viewX,this._viewY);this._down.x=n.x,this._down.y=n.y,this._isDown=!0}},onPointerMove:function(e){this._viewX=e.viewX,this._viewY=e.viewY},init:function(){this._root=new y,this._root.add(new Q),this._disposer=new v;var e=this._disposer;R.assertCalledInit(),e.add(R._platform.getKeyboard().down.connect(Ci(this,this.onkeyDown)));e=this._disposer;R.assertCalledInit(),e.add(R._platform.getKeyboard().up.connect(Ci(this,this.onkeyUp)));e=this._disposer;R.assertCalledInit(),e.add(R._platform.getPointer().down.connect(Ci(this,this.onPointerDown)));e=this._disposer;R.assertCalledInit(),e.add(R._platform.getPointer().up.connect(Ci(this,this.onPointerUp)));e=this._disposer;R.assertCalledInit(),e.add(R._platform.getPointer().move.connect(Ci(this,this.onPointerMove)))},__class__:Gn});var Hn=function(){w.call(this)};Hn.__name__="game.runner.Enemy",Hn.__super__=w,Hn.prototype=_(w.prototype,{get_name:function(){return"Enemy_41"},hits:function(e,t,n,i){return null!=Q.hitTest(this._hittable,e,t)||null!=Q.hitTest(this._hittable,n,i)},__class__:Hn});var jn=function(e,t,n,i){this._elapsed=0,Hn.call(this),this._x=n,this._y=i,this.init(e,t)};jn.__name__="game.runner.EnemyBird",jn.__super__=Hn,jn.prototype=_(Hn.prototype,{onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){var t=this._hittable._compMap["Sprite_5"].x;t.set__(t._value-400*e);t=this._instructions._compMap["Sprite_5"].x;t.set__(t._value-400*e),this._elapsed+=e,this._elapsed>4&&this.owner.dispose()},init:function(e,t){ln.playSound_("sfx/runner/bird");var n=new Q,i=new oe(e.getTexture("runner/bird/birdFeet")),a=new oe(e.getTexture("runner/bird/birdBody")),s=new oe(e.getTexture("runner/bird/birdWing")),r=new oe(e.getTexture("runner/bird/birdHat")),o=new y,_=(new y).add((new Q).setXY(this._x,this._y)),h=new y;if(n=new Q,this._root=o.addChild(this._hittable=_.addChild(h.add(n).addChild((new y).add(i.setAnchor(8,12).setXY(50,50))).addChild((new y).add(a.setAnchor(266,266))).addChild((new y).add(s.setXY(-18,25).setAnchor(50,22))).addChild((new y).add(r.setXY(-30,-135).setAnchor(47,230))))).addChild(this._instructions=(new y).add((new Q).setXY(this._x,this._y))),i.rotation.set_behavior(new Y(-15,15,.5)),n.rotation.set_behavior(new Y(-5,5)),r.rotation.set_behavior(new Y(30,-10,5)),s.rotation.set_behavior(new Y(30,-20,.5)),0==t){var l=un.isMobile()?"runner/instructCrouch_mob":"runner/instructCrouch";this._instructions.addChild((new y).add(new oe(e.getTexture(l)).setXY(-220,100)))}},__class__:jn});var zn=function(e,t,n,i){this._elapsed=0,Hn.call(this),this._x=n,this._y=i,this.init(e,t)};zn.__name__="game.runner.EnemyCar",zn.__super__=Hn,zn.prototype=_(Hn.prototype,{onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){var t=this._hittable._compMap["Sprite_5"].x;t.set__(t._value-500*e);t=this._instructions._compMap["Sprite_5"].x;t.set__(t._value-500*e),this._elapsed+=e,this._elapsed>3&&this.owner.dispose()},hits:function(e,t,n,i){return null!=Q.hitTest(this._root,e,t)},init:function(e,t){ln.playSound_("sfx/runner/car");var n=new oe(e.getTexture("runner/car/car")),i=new oe(e.getTexture("runner/car/carEye")),a=new oe(e.getTexture("runner/car/carStar")),s=new oe(e.getTexture("runner/car/carWheel")),r=new oe(e.getTexture("runner/car/carWheel"));if(this._root=(new y).addChild(this._hittable=(new y).add((new Q).setAnchor(0,30).setXY(this._x,this._y)).addChild((new y).add(n.setAnchor(226,220).setXY(0,0))).addChild((new y).add(i.setXY(-80,-94).setAnchor(34,92))).addChild((new y).add(a.setXY(25,-58).centerAnchor())).addChild((new y).add(s.setXY(-95,0).centerAnchor())).addChild((new y).add(r.setXY(139,0).centerAnchor()))).addChild(this._instructions=(new y).add((new Q).setAnchor(0,30).setXY(this._x,this._y))),n.anchorY.set_behavior(new Y(220,210,.25)),n.rotation.set_behavior(new Y(-3,0,.25)),i.anchorY.set_behavior(new Y(92,82,.25)),a.anchorY.set_behavior(new Y(34,24,.25)),0==t){var o=un.isMobile()?"runner/instructJump_mob":"runner/instructJump";this._instructions.addChild((new y).add(new oe(e.getTexture(o)).setXY(-220,-470)))}},__class__:zn});var qn=function(e,t,n,i){this._elapsed=0,Hn.call(this),this._x=n,this._y=i,this.init(e,t)};qn.__name__="game.runner.EnemyWorm",qn.__super__=Hn,qn.prototype=_(Hn.prototype,{onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){this._elapsed+=e,this._elapsed>7&&this.owner.dispose()},hits:function(e,t,n,i){return null!=Q.hitTest(this._root,e,t)},init:function(e,t){ln.playSound_("sfx/runner/worm");var n=e.getTexture("runner/worm/worm");this._root=(new y).addChild(this._hittable=(new y).add((new Q).setXY(this._x,this._y)).addChild((new y).add(new oe(e.getTexture("runner/worm/wormHole")).centerAnchor())).addChild((new y).add(this._clip=new Q).addChild((new y).add(this._worm=new oe(e.getTexture("runner/worm/worm")).setXY(0,20).setAnchor(77,230)))).addChild((new y).add(new oe(e.getTexture("runner/worm/wormHoleClip")).setAnchor(128.5,-11)))).addChild(this._instructions=(new y).add((new Q).setXY(this._x,this._y)));var i=n.get_width()+120,a=n.get_height()+60-30;if(this._clip.scissor=new ke(-137,-290,i,a),this._worm.rotation.set_behavior(new Y(-15,15,1)),0==t){n=un.isMobile()?"runner/instructJump_mob":"runner/instructJump";this._instructions.addChild((new y).add(new oe(e.getTexture(n)).setXY(-220,-470)))}},__class__:qn});var Qn=function(e){this._hasHandledInstruct2=!1,this._hasHandledInstruct1=!1,this._isSturdy=!1,this._startMult=0,this._balanceMult=1,this._velo=0,this._balance=0,this._hasFallen=!1,this._isDown=!1,this._elapsed=0,this.vy2=0,this.vx2=0,this.vy1=0,this.vx1=0,this.hasFallen=new on,this.movetype=ti.Crouch,w.call(this),this.init(e)};Qn.__name__="game.runner.Person",Qn.__super__=w,Qn.prototype=_(w.prototype,{get_name:function(){return"Person_19"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){if(!this._hasFallen&&!this._isSturdy){switch(this._elapsed+=e,this.movetype._hx_index){case 1:if(this._elapsed>=1)this.move(ti.Walk),this._anchor.y.set__(980);else{var t=this._elapsed/1;if(t<=.5){var n=N.cubeOut(2*t),i=500*n;this._anchor.y.set__(980-i)}else{n=N.expoOut(1-(2*t-t)),i=500*n;this._anchor.y.set__(980-i)}}break;case 2:this._elapsed>=.5&&this.move(ti.Walk);break;case 4:this._elapsed>=1&&this.move(ti.Walk);break;default:}this._startMult<1&&(this._startMult=xe.clamp(this._startMult+.5*e,0,1)),this.movetype==ti.Surf?this._balanceMult+=1.5*e:this._balanceMult*=.98,this._balanceMult=xe.clamp(this._balanceMult,1,10),this._isDown?this._velo+=1.25*e*this._startMult*this._balanceMult:this._velo-=1.25*e*this._startMult*this._balanceMult,this._balance+=this._velo,this.handleRotation(),-80!=this._anchor.rotation._value&&80!=this._anchor.rotation._value||(this.hasFallen.emit(),this.fall(!1));var a=Cn.viewXY(this._torso.sprite,0,0);this.vx1=a.x,this.vy1=a.y;var s=Cn.viewXY(this._head.sprite,0,0);this.vx2=s.x,this.vy2=s.y}},forceGround:function(){this._anchor.y.set__(980)},fall:function(e){this.move(ti.Idle),this._anchor.y.animateTo(980,.25,N.bounceOut),this._hasFallen=!0,e&&this._anchor.rotation.animateTo(-80,1,N.bounceOut)},handleRotation:function(){var e=xe.clamp(this._balance,-80,80),t=N.sineOut(Math.abs(e/80));t>.999?t=1:t<1e-4&&(t=0),this._anchor.rotation.set__(e<0?80*-t:80*t),this._legs.setBalance(-this._anchor.rotation._value)},init:function(e){this._root=new y,this._root.add(this._anchor=(new Q).setXY(620,980).setAnchor(0,180)).addChild((new y).add(this._lowerPivot=new Q).add(this._legs=new ei(e,0,0)).addChild((new y).add(this._upperPivot=new Q).add(this._torso=new ni(e,0,0)).add(this._head=new Zn(e))).add(this._liquid=new fn(e,"runner"))),this._liquid.setXY(50,-100,130,0),this._liquid.set_visible(!1);var t=un.isMobile()?"runner/instructMove_mob":"runner/instructMove",n=un.isMobile()?"runner/instructSurf_mob":"runner/instructSurf";this._root.addChild((new y).add(this._instruct1=new oe(e.getTexture(t)).setXY(120,-300))).addChild((new y).add(this._instruct2=new oe(e.getTexture(n)).setXY(120,-340))),this._instruct2.set_visible(!1),this._root.add(new Qt),this._root.add(new Qt)._compMap["Script_27"].run(new Zt([new zt(2),new jt(Ci(this,this.handleInstruct1))]))},handleInstruct1:function(){this._hasHandledInstruct1||(this._instruct1.set_visible(!1),this._instruct2.set_visible(!0),this._hasHandledInstruct1=!0,this._root.add(new Qt),this._root.add(new Qt)._compMap["Script_27"].run(new Zt([new zt(2),new jt(Ci(this,this.handleInstruct2))])))},handleInstruct2:function(){this._hasHandledInstruct1&&!this._hasHandledInstruct2&&(this._instruct2.set_visible(!1),this._hasHandledInstruct2=!0)},move:function(e){if(this.movetype!=e&&!this._hasFallen&&!this._isSturdy){switch(this._liquid.set_visible(!1),this.movetype=e,this._elapsed=0,e._hx_index){case 0:this._lowerPivot.anchorY.set_behavior(new Y(0,0,.2)),this._upperPivot.rotation.set_behavior(new Y(-2,2,.4));break;case 1:ln.playSound_("sfx/runner/jump"),this._lowerPivot.anchorY.set_behavior(new Y(0,0,.4)),this._upperPivot.rotation.set_behavior(new Y(-20,2,.8));break;case 2:this._lowerPivot.anchorY.set_behavior(new Y(-72,-67,.2)),this._upperPivot.rotation.set_behavior(new Y(45,20,.2));break;case 3:this._lowerPivot.anchorY.set_behavior(new Y(0,5,.2)),this._upperPivot.rotation.set_behavior(new Y(15,8,.2));break;case 4:ln.playSound_("sfx/runner/crouch"),this._lowerPivot.anchorY.set_behavior(new Y(0,0,.2)),this._upperPivot.rotation.set_behavior(new Y(-2,2,.4)),this._liquid.set_visible(!0);break}this._head.move(e,.4),this._legs.move(e,.4),this._torso.move(e,.4)}},__class__:Qn});var Jn=function(e,t){this._progress=new P(0),this._type=ti.Walk,w.call(this),this._isFront=t,this.init(e)};Jn.__name__="game.runner.PersonArm",Jn.__super__=w,Jn.prototype=_(w.prototype,{get_name:function(){return"PersonArm_22"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){this._progress.update(e),this.setCyclePercent(this._progress._value)},move:function(e,t){this._type=e,this._progress.set_behavior(this._isFront?new Y(1,-1,t):new Y(-1,1,t))},setCyclePercent:function(e){var t=this._type;if(e>=0)switch(t._hx_index){case 0:n=0;break;case 1:n=(this._isFront,-5*e)-120;break;case 2:n=-10*e-90;break;case 3:n=-60*e;break;case 4:n=this._isFront?-5*e-80:-5*e+80;break}else switch(t._hx_index){case 0:n=0;break;case 1:n=(this._isFront,-5*e)-120;break;case 2:n=-10*e-90;break;case 3:n=-50*e;break;case 4:n=this._isFront?-5*e-80:-5*e+80;break}this._topPivot.rotation.set__(n);t=this._type;if(e>=0)switch(t._hx_index){case 0:n=0;break;case 1:n=0;break;case 2:n=-70*e;break;case 3:n=-60*e;break;case 4:n=-10*e;break}else switch(t._hx_index){case 0:n=0;break;case 1:n=0;break;case 2:n=20*e;break;case 3:n=50*e;break;case 4:n=10*e;break}this._bottom.rotation.set__(n);var n;t=this._type;if(e>=0)switch(t._hx_index){case 0:n=0;break;case 1:n=0;break;case 2:n=0;break;case 3:n=0;break;case 4:n=0;break}else switch(t._hx_index){case 0:n=0;break;case 1:n=0;break;case 2:n=70*e;break;case 3:n=-20*e;break;case 4:n=10*e;break}this._hand.rotation.set__(n)},init:function(e){var t=this._isFront?-18:14;this._root=(new y).add(this._topPivot=(new Q).setXY(t,-78)).addChild((new y).add(this._bottom=new oe(e.getTexture("runner/body/arm")).setAnchor(8,10).setXY(-1,68)).addChild((new y).add(this._hand=new oe(e.getTexture("runner/body/hand")).setAnchor(12,6).setXY(10,85)))).addChild((new y).add(this._top=new oe(e.getTexture("runner/body/shirt")).setAnchor(11,5)))},__class__:Jn});var Zn=function(e){w.call(this),this.init(e)};Zn.__name__="game.runner.PersonHead",Zn.__super__=w,Zn.prototype=_(w.prototype,{get_name:function(){return"PersonHead_20"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e){this._root=(new y).add(this.sprite=new oe(e.getTexture("runner/body/head")).setXY(0,-96).setAnchor(63,148))},move:function(e,t){switch(e._hx_index){case 0:this.sprite.rotation.set_behavior(new Y(4,-4,t));break;case 1:this.sprite.rotation.set_behavior(new Y(-40,-30,2*t));break;case 2:this.sprite.rotation.set_behavior(new Y(-34,-4,t/2));break;case 3:this.sprite.rotation.set_behavior(new Y(-13,-4,t/2));break;case 4:this.sprite.rotation.set_behavior(new Y(4,-4,t));break}},__class__:Zn});var $n=function(e,t){this._balance=0,this._progress=new P(0),this._type=ti.Walk,w.call(this),this._isFront=t,this.init(e)};$n.__name__="game.runner.PersonLeg",$n.__super__=w,$n.prototype=_(w.prototype,{get_name:function(){return"PersonLeg_24"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(e){this._progress.update(e),this.setCyclePercent(this._progress._value)},move:function(e,t){switch(this._type=e,e._hx_index){case 0:this._progress.set_behavior(new Y(0,0,t));break;case 1:this._progress.set_behavior(this._isFront?new Y(1,-1,t):new Y(-1,1,t));break;case 2:this._progress.set_behavior(this._isFront?new Y(1,-1,t):new Y(-1,1,t));break;case 3:this._progress.set_behavior(this._isFront?new Y(1,-1,t):new Y(-1,1,t));break;case 4:this._progress.set_behavior(new Y(0,0,t));break}},setBalance:function(e){this._balance=e},setCyclePercent:function(e){var t=this._type;if(e>=0)switch(t._hx_index){case 0:n=0;break;case 1:this._isFront,n=-10*e- -60;break;case 2:n=-60*e-60;break;case 3:n=-60*e;break;case 4:n=this._isFront?-20:20;break}else switch(t._hx_index){case 0:n=0;break;case 1:this._isFront,n=-10*e- -60;break;case 2:n=-10*e-60;break;case 3:n=-10*e;break;case 4:n=this._isFront?-20:20;break}this._topPivot.rotation.set__(n);t=this._type;if(e>=0)switch(t._hx_index){case 0:n=0;break;case 1:n=10*e;break;case 2:n=60*e+110;break;case 3:n=60*e;break;case 4:n=0;break}else switch(t._hx_index){case 0:n=0;break;case 1:n=-5*e;break;case 2:n=-10*e+110;break;case 3:n=-10*e;break;case 4:n=0;break}this._bottom.rotation.set__(n);var n,i=this._balance;t=this._type;if(e>=0)switch(t._hx_index){case 0:n=0;break;case 1:n=0;break;case 2:n=5*e-48+i;break;case 3:n=5*e+i;break;case 4:n=(this._isFront?20:-20)+i;break}else switch(t._hx_index){case 0:n=0;break;case 1:n=0;break;case 2:n=15*e-48+i;break;case 3:n=15*e+i;break;case 4:n=(this._isFront?20:-20)+i;break}this._foot.rotation.set__(n)},init:function(e){var t=this._isFront?"runner/body/pantFront":"runner/body/pantBack",n=this._isFront?-10:10;this._root=(new y).add(this._topPivot=(new Q).setXY(n,0)).addChild((new y).add(this._bottom=new oe(e.getTexture("runner/body/leg")).setAnchor(7,10).setXY(-3,78)).addChild((new y).add(this._foot=new oe(e.getTexture("runner/body/shoe")).setAnchor(8,5).setXY(2,110)))).addChild((new y).add(this._top=new oe(e.getTexture(t)).setAnchor(14,15)))},__class__:$n});var ei=function(e,t,n){w.call(this),this.init(e,t,n)};ei.__name__="game.runner.PersonLegs",ei.__super__=w,ei.prototype=_(w.prototype,{get_name:function(){return"PersonLegs_23"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){this._root=(new y).add((new Q).setXY(t,n)).addChild((new y).add(new oe(e.getTexture("runner/body/shorts")).centerAnchor().setXY(0,-5))).addChild((new y).add(this._leg1=new $n(e,!1))).addChild((new y).add(this._leg2=new $n(e,!0)))},setBalance:function(e){this._leg1.setBalance(e),this._leg2.setBalance(e)},move:function(e,t){this._leg1.move(e,t),this._leg2.move(e,t)},__class__:ei});var ti=o["game.runner.PersonMoveType"]={__ename__:!0,__constructs__:null,Idle:{_hx_name:"Idle",_hx_index:0,__enum__:"game.runner.PersonMoveType",toString:r},Jump:{_hx_name:"Jump",_hx_index:1,__enum__:"game.runner.PersonMoveType",toString:r},Crouch:{_hx_name:"Crouch",_hx_index:2,__enum__:"game.runner.PersonMoveType",toString:r},Walk:{_hx_name:"Walk",_hx_index:3,__enum__:"game.runner.PersonMoveType",toString:r},Surf:{_hx_name:"Surf",_hx_index:4,__enum__:"game.runner.PersonMoveType",toString:r}};ti.__constructs__=[ti.Idle,ti.Jump,ti.Crouch,ti.Walk,ti.Surf];var ni=function(e,t,n){w.call(this),this.init(e,t,n)};ni.__name__="game.runner.PersonTorso",ni.__super__=w,ni.prototype=_(w.prototype,{get_name:function(){return"PersonTorso_21"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){this._root=(new y).add(this.sprite=(new Q).setXY(t,n)).addChild((new y).add(this._arm1=new Jn(e,!1))).addChild((new y).add(new oe(e.getTexture("runner/body/body")).setAnchor(32,135))).addChild((new y).add(this._arm2=new Jn(e,!0)))},move:function(e,t){this._arm1.move(e,t),this._arm2.move(e,t)},__class__:ni});var ii=function(e,t,n){this._surfDist=0,this._hasFinishedWalking=!1,this._hasWon=!1,this._hasLost=!1,this._distPerson=0,this._distWorld=0,this._enemyDuration=1,this._enemyElapsed=0,this._jumpIndex=0,this._crouchIndex=0,w.call(this),this._pack=e,this.init(t,n)};ii.__name__="game.runner.RunnerGame",ii.__super__=w,ii.prototype=_(w.prototype,{get_name:function(){return"RunnerGame_16"},onUpdate:function(e){var t=this;if(!this._hasLost&&!this._hasFinishedWalking){var n=R.root._compMap["DrinkPercent_38"],i=R.root._compMap["OverallScore_37"];n.get_percent()>0?(n.set_percent(n.get_percent()-.03*e),this._drinkMeter.setFill(n.get_percent())):this._hasWon||(this._hasWon=!0,this.handleSuccess()),this._hasWon?(this._distWorld+=300*e,this._distPerson+=300*e):this._distWorld+=600*e,this._person.movetype==ti.Surf&&(this._surfDist+=10*e),this._hasWon||i.scoreSecond.set__(Math.floor(this._distWorld/80)+Math.floor(this._surfDist)),this._bg.setPercent(n.get_percent()),this._floor.setPercent(n.get_percent()),this._cloud1.rotation.set__(180*N.sineOut(n.get_percent())),this._cloud2.rotation.set__(180*n.get_percent()),this._distPerson<690?(this._sceneryBack._compMap["Sprite_5"].x.set__(-this._distWorld),this._sceneryMid._compMap["Sprite_5"].x.set__(-this._distWorld),this._sceneryFront._compMap["Sprite_5"].x.set__(-this._distWorld),this._personSpr.x.set__(this._distPerson)):(this._hasFinishedWalking=!0,this._person.dispose(),this._root.add(new Qt),this._root.add(new Qt)._compMap["Script_27"].run(new Zt([new zt(1),new jt((function(){t.dispose(),R.root.add(new ri(t._pack,1920,1080))}))])));var a=n.get_percent();if(!this._hasWon&&!this._hasLost&&a>.1&&(this._enemyElapsed+=e,this._enemyElapsed>=this._enemyDuration)){this._enemyElapsed=0,this._enemyDuration=3+2*Math.random();var s=2400-this._sceneryMid._compMap["Sprite_5"].x._value;this.addEnemy(s)}this.checkXY(this._person.vx1,this._person.vy1,this._person.vx2,this._person.vy2)&&(this.handleFail(),this._person.fall(!0))}},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},handleSuccess:function(){this._person.forceGround();var e=this._person;e._balance=0,e.move(ti.Walk),e.handleRotation(),e._isSturdy=!0,this._sun.owner.add(new Fn(this._pack,440,90)),this._sun.dispose();var t=1920-this._sceneryMid._compMap["Sprite_5"].x._value;this._sceneryMid.addChild((new y).add(new oe(this._pack.getTexture("runner/job")).setXY(t,403)))},handleFail:function(){this._hasLost=!0,ln.playSound_("sfx/cafe/partyHarder");var e=new oe(this._pack.getTexture("runner/lost")).centerAnchor().setXY(960,1080);e.y.animateTo(540,.5,N.backOut),e.rotation.set_behavior(new Y(-5,5,4)),e.scaleX.set_behavior(new Y(.9,1,4)),e.scaleY.set_behavior(new Y(.9,1,4)),this._root.addChild((new y).add(e))},init:function(e,t){var n=this;ln.playMain_(),this._bg=new kn(235,59,36,172,221,229,e,t),this._floor=new kn(9,87,233,204,204,204,e,t),this._root=new y,this._root.add(this._bg).addChild(this._sceneryBack=(new y).add(new Q)).addChild((new y).add(this._floor.setXY(0,t-180))).addChild((new y).add(new $(16777215,e,6).setXY(0,t-186))).addChild((new y).add(this._cloud1=new oe(this._pack.getTexture("cloud")).setRotation(180).setScale(.7).setXY(1e3,280).centerAnchor())).addChild((new y).add(this._cloud2=new oe(this._pack.getTexture("cloud")).setRotation(180).setXY(1400,130).centerAnchor())).addChild((new y).add(this._sun=new ai(this._pack,440,90))).addChild(this._sceneryMid=(new y).add(new Q)).add(this._controller=new Gn).addChild((new y).add(this._personSpr=new Q).add(this._person=new Qn(this._pack))).addChild(this._sceneryFront=(new y).add(new Q)).add(this._homeButton=new cn(this._pack,"homeButton",e-121,90)).add(this._points=new Sn(this._pack,1550,49)).add(this._drinkMeter=new yn(this._pack,1760,180,"drinkFront","drinkMid").show(!0)),this._cloud1.x.set_behavior(new Y(970,1030,4)),this._cloud1.y.set_behavior(new Y(280,250,8)),this._cloud2.x.set_behavior(new Y(1370,1430,4.5)),this._cloud2.y.set_behavior(new Y(130,100,8.5)),this._disposer=new v,this._person.move(ti.Walk),R.root._compMap["OverallScore_37"].resetSecond(),this._disposer.add(R.root._compMap["OverallScore_37"].scoreSecond.get_changed().connect((function(e,t){n._points.setScore(e+R.root._compMap["OverallScore_37"].scoreFirst._value)}))),this._disposer.add(this._homeButton.click.connect((function(){n.dispose(),ln.playSound_("click"),R.root._compMap["DrinkPercent_38"].reset(),R.root.add(new Dn(n._pack,e,t))}))),this._disposer.add(this._person.hasFallen.connect((function(){n._hasLost||n.handleFail()})).once()),this._disposer.add(this._controller.state.get_changed().connect((function(e,t){var i=n._person.movetype;switch(e._hx_index){case 0:switch(i._hx_index){case 1:break;case 2:break;case 4:break;default:n._person.move(ti.Jump)}break;case 1:switch(i._hx_index){case 1:break;case 2:break;case 4:break;default:if(n._person.move(ti.Surf),!n._hasWon&&!n._hasLost){var a=680-n._sceneryMid._compMap["Sprite_5"].x._value;n._sceneryMid.addChild((new y).add(new oe(n._pack.getTexture("runner/mess")).setScale(.6).setXY(a,940)))}}break;case 2:switch(i._hx_index){case 1:break;case 2:break;case 4:break;default:n._person.move(ti.Crouch)}break;case 3:switch(i._hx_index){case 1:break;case 2:break;case 4:break;default:n._person.move(ti.Walk)}break;case 4:switch(i._hx_index){case 1:break;case 2:break;case 4:break;default:n._person.move(ti.Walk)}break}switch(e._hx_index){case 3:n._person._isDown=!0;break;case 4:n._person._isDown=!1;break;default:}}))),this._sceneryMid.addChild((new y).add(new oe(this._pack.getTexture("runner/bar")).setXY(300,403))),this.addBushBack(900),this.addTreeBack(1600),this.addBushBack(2800),this.addBushBack(1600),this.addTreeBack(3800),this.addBushBack(5100),this.addTreeBack(7e3),this.addBushBack(8100),this.addBushBack(11100),this.addTreeBack(13e3),this.addBushBack(14100),this.addBushBack(15900),this.addBushFront(0),this.addBushFront(1800),this.addBushFront(4300),this.addBushFront(7300),this.addBushFront(13300)},checkXY:function(e,t,n,i){var a=Cn.localXY(this._sceneryMid._compMap["Sprite_5"],e,t),s=a.x,r=a.y,o=Cn.localXY(this._sceneryMid._compMap["Sprite_5"],n,i),_=o.x,h=o.y,l=this._sceneryMid.firstChild;while(null!=l){var u=l._internal_getFromChildren("Enemy_41");if(null!=u&&u.hits(s,r,_,h))return!0;l=l.next}return!1},addBushBack:function(e){this._sceneryBack.addChild((new y).add(new Kn(this._pack,e,729)))},addBushFront:function(e){this._sceneryFront.addChild((new y).add(new Kn(this._pack,e,929)))},addTreeBack:function(e){this._sceneryBack.addChild((new y).add(new si(this._pack,e,620)))},addBird:function(e){this._sceneryMid.addChild((new y).add(new jn(this._pack,this._crouchIndex++,e,495)))},addWorm:function(e){this._sceneryMid.addChild((new y).add(new qn(this._pack,this._jumpIndex++,e,985)))},addCar:function(e){this._sceneryMid.addChild((new y).add(new zn(this._pack,this._jumpIndex++,e,985)))},addEnemy:function(e){var t=Math.floor(3*Math.random());switch(t){case 0:this.addWorm(e);break;case 1:this.addBird(e);break;case 2:this.addCar(e);break}},__class__:ii});var ai=function(e,t,n){w.call(this),this.init(e,t,n)};ai.__name__="game.runner.RunnerSun",ai.__super__=w,ai.prototype=_(w.prototype,{get_name:function(){return"RunnerSun_25"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){this._root=(new y).add((new Q).setXY(t,n)).addChild((new y).add(this._burst=new oe(e.getTexture("runner/sun/sunBurst")).centerAnchor())).addChild((new y).add(new oe(e.getTexture("runner/sun/sun")).centerAnchor())).addChild((new y).add(new oe(e.getTexture("runner/sun/ear")).setXY(-120,-30))).addChild((new y).add(new oe(e.getTexture("runner/sun/eye")).setXY(10,30))).addChild((new y).add(new oe(e.getTexture("runner/sun/eye")).setXY(95,30))).addChild((new y).add(new oe(e.getTexture("runner/sun/mouth")).setAnchor(35,3).setXY(90,120))),this._burst.y.set_behavior(new Y(0,10,1)),this._burst.rotation.set_behavior(new Y(-5,5,2)),this._root._compMap["Sprite_5"].anchorX.set_behavior(new Y(-20,20,4)),this._root._compMap["Sprite_5"].anchorY.set_behavior(new Y(-10,0,1)),this._root._compMap["Sprite_5"].rotation.set_behavior(new Y(-5,5,8))},__class__:ai});var si=function(e,t,n){w.call(this),this.init(e,t,n)};si.__name__="game.runner.Tree",si.__super__=w,si.prototype=_(w.prototype,{get_name:function(){return"Tree_40"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){this._root=new y,this._root.add(new oe(e.getTexture("runner/tree")).setXY(t,n))},__class__:si});var ri=function(e,t,n){w.call(this),this.init(e,t,n)};ri.__name__="game.score.ScoreGame",ri.__super__=w,ri.prototype=_(w.prototype,{get_name:function(){return"ScoreGame_0"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){var i=this;ln.stop_(),ln.playSound_("sfx/win");var a=R.root._compMap["OverallScore_37"],s=new te(e,"testfont"),r=t/2,o=(new y).add(new $(11328997,t,n)).addChild((new y).add(new oe(e.getTexture("score/scoreBottomBubble")).centerAnchor().setXY(r,476)).addChild((new y).add(new ue(s,a.get_currentScore()).setScale(3.5).setXY(70,0)))),_=new y,h=new oe(e.getTexture("score/scoreBottom")).centerAnchor().setXY(r,356),l=o.addChild(_.add(h)).addChild((new y).add(new oe(e.getTexture("score/scoreTopBubble")).centerAnchor().setXY(r,923)).addChild((new y).add(new ue(s,a.get_bestScore()).setXY(54,-4).setScale(2.75)))),u=(o=new y,new oe(e.getTexture("score/scoreTop")).centerAnchor().setXY(r,853));this._root=l.addChild(o.add(u)).add(this._homeButton=new cn(e,"homeButton",t-121,90)),u.y.animateTo(753,.75,N.backOut),u.rotation.set_behavior(new Y(-5,5,4)),u.scaleX.set_behavior(new Y(.9,1,4)),u.scaleY.set_behavior(new Y(.9,1,4)),h.y.animateTo(256,.5,N.backOut),h.rotation.set_behavior(new Y(5,-5,4)),h.scaleX.set_behavior(new Y(1,.9,4)),h.scaleY.set_behavior(new Y(1,.9,4)),this._homeButton.click.connect((function(){i.dispose(),a.tally(),ln.playSound_("click"),R.root._compMap["DrinkPercent_38"].reset(),R.root.add(new Dn(e,t,n))})).once()},__class__:ri});var oi=function(e,t,n){w.call(this),this.init(e,t,n)};oi.__name__="game.text.TextGame",oi.__super__=w,oi.prototype=_(w.prototype,{get_name:function(){return"TextGame_15"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(e,t,n){var i=this;ln.stop_(),this._root=new y,this._root.add(new $(0,t,n)),this._root.addChild((new y).add(this._phone=new oe(e.getTexture("text/phone")).centerAnchor())),this._phone.setXY(1810,935),ln.playSound_("sfx/text/passOut"),this._root.addChild((new y).add(this._texts=(new Q).setXY(320,800)).addChild((new y).add(this._text1=new oe(e.getTexture("text/text1")).setXY(0,0))).addChild((new y).add(this._text2=new oe(e.getTexture("text/text2")).setXY(0,330))).addChild((new y).add(this._text3=new oe(e.getTexture("text/text3")).setXY(0,712))).addChild((new y).add(this._text4=new oe(e.getTexture("text/text4")).setXY(0,1100)))),this._text1.alpha.set__(0),this._text2.alpha.set__(0),this._text3.alpha.set__(0),this._text4.alpha.set__(0),this._root.add(new Qt),this._root.add(new Qt)._compMap["Script_27"].run(new Zt([new zt(1),new jt((function(){})),new Zt([new Ht(this._phone.rotation,-5,.125),new Ht(this._phone.rotation,5,.125),new Ht(this._phone.rotation,0,.125)]),new jt((function(){ln.playSound_("sfx/text/bing")})),new qt([new Ht(this._text1.alpha,1,.5),new Ht(this._texts.y,630,.5,N.backOut)]),new zt(2.5),new jt((function(){})),new Zt([new Ht(this._phone.rotation,-5,.125),new Ht(this._phone.rotation,5,.125),new Ht(this._phone.rotation,0,.125)]),new jt((function(){ln.playSound_("sfx/text/bing")})),new qt([new Ht(this._text2.alpha,1,.5),new Ht(this._texts.y,300,.5,N.backOut)]),new zt(2.5),new jt((function(){})),new Zt([new Ht(this._phone.rotation,-5,.125),new Ht(this._phone.rotation,5,.125),new Ht(this._phone.rotation,0,.125)]),new jt((function(){ln.playSound_("sfx/text/bing")})),new qt([new Ht(this._text3.alpha,1,.5),new Ht(this._texts.y,-93,.5,N.backOut)]),new zt(2.5),new jt((function(){})),new Zt([new Ht(this._phone.rotation,-5,.125),new Ht(this._phone.rotation,5,.125),new Ht(this._phone.rotation,0,.125)]),new jt((function(){ln.playSound_("sfx/text/bing")})),new qt([new Ht(this._text4.alpha,1,.5),new Ht(this._texts.y,-480,.5,N.backOut)]),new zt(2.5),new jt((function(){i.dispose(),R.root.add(new ii(e,1920,1080))}))]))},__class__:oi});var _i=function(){};_i.__name__="haxe.IMap",_i.__isInterface__=!0;var hi=function(e,t,n){Error.call(this,e),this.message=e,this.__previousException=t,this.__nativeException=null!=n?n:this};hi.__name__="haxe.Exception",hi.caught=function(e){return e instanceof hi?e:e instanceof Error?new hi(e.message,null,e):new li(e,null,e)},hi.thrown=function(e){if(e instanceof hi)return e.get_native();if(e instanceof Error)return e;var t=new li(e);return t},hi.__super__=Error,hi.prototype=_(Error.prototype,{unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:hi});var li=function(e,t,n){hi.call(this,String(e),t,n),this.value=e};li.__name__="haxe.ValueException",li.__super__=hi,li.prototype=_(hi.prototype,{unwrap:function(){return this.value},__class__:li});var ui=function(){this.h={}};ui.__name__="haxe.ds.IntMap",ui.__interfaces__=[_i],ui.prototype={remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},__class__:ui};var ci=function(){this.h=Object.create(null)};ci.__name__="haxe.ds.StringMap",ci.__interfaces__=[_i],ci.prototype={iterator:function(){return new pi(this.h)},__class__:ci};var di=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};di.__name__="haxe.ds._StringMap.StringMapKeyIterator",di.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:di};var pi=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};pi.__name__="haxe.ds._StringMap.StringMapValueIterator",pi.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:pi};var mi=function(){};mi.__name__="haxe.io.Bytes";var fi=function(e){this.current=0,this.array=e};fi.__name__="haxe.iterators.ArrayIterator",fi.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:fi};var gi=function(){};gi.__name__="haxe.rtti.Meta",gi.getType=function(e){var t=gi.getMeta(e);return null==t||null==t.obj?{}:t.obj},gi.getMeta=function(e){return e.__meta__};var bi=function(e,t,n){this.xml=t,this.message=e,this.position=n,this.lineNumber=1,this.positionAtLine=0;var i=0;while(i<n){var a=i++,s=t.charCodeAt(a);10==s?(this.lineNumber++,this.positionAtLine=0):13!=s&&this.positionAtLine++}};bi.__name__="haxe.xml.XmlParserException",bi.prototype={toString:function(){var e=yi.getClass(this);return e.__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:bi};var wi=function(){};wi.__name__="haxe.xml.Parser",wi.parse=function(e,t){null==t&&(t=!1);var n=g.createDocument();return wi.doParse(e,t,0,n),n},wi.doParse=function(e,t,n,i){null==n&&(n=0);var a=null,s=1,r=1,o=null,_=0,h=0,u=0,c=new p,m=1,b=-1;while(n<e.length){var w=e.charCodeAt(n);switch(s){case 0:switch(w){case 9:case 10:case 13:case 32:break;default:s=r;continue}break;case 1:if(60!=w){_=n,s=13;continue}s=0,r=2;break;case 2:switch(w){case 33:if(91==e.charCodeAt(n+1)){if(n+=2,"CDATA["!=l.substr(e,n,6).toUpperCase())throw hi.thrown(new bi("Expected <![CDATA[",e,n));n+=5,s=17,_=n+1}else if(68==e.charCodeAt(n+1)||100==e.charCodeAt(n+1)){if("OCTYPE"!=l.substr(e,n+2,6).toUpperCase())throw hi.thrown(new bi("Expected <!DOCTYPE",e,n));n+=8,s=16,_=n+1}else{if(45!=e.charCodeAt(n+1)||45!=e.charCodeAt(n+2))throw hi.thrown(new bi("Expected \x3c!--",e,n));n+=2,s=15,_=n+1}break;case 47:if(null==i)throw hi.thrown(new bi("Expected node name",e,n));_=n+1,s=0,r=10;break;case 63:s=14,_=n;break;default:s=3,_=n;continue}break;case 3:if(!(w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||58==w||46==w||95==w||45==w)){if(n==_)throw hi.thrown(new bi("Expected node name",e,n));a=g.createElement(l.substr(e,_,n-_)),i.addChild(a),++h,s=0,r=4;continue}break;case 4:switch(w){case 47:s=11;break;case 62:s=9;break;default:s=5,_=n;continue}break;case 5:if(!(w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||58==w||46==w||95==w||45==w)){if(_==n)throw hi.thrown(new bi("Expected attribute name",e,n));var v=l.substr(e,_,n-_);if(o=v,a.exists(o))throw hi.thrown(new bi("Duplicate attribute ["+o+"]",e,n));s=0,r=6;continue}break;case 6:if(61!=w)throw hi.thrown(new bi("Expected =",e,n));s=0,r=7;break;case 7:switch(w){case 34:case 39:c=new p,s=8,_=n+1,b=w;break;default:throw hi.thrown(new bi('Expected "',e,n))}break;case 8:switch(w){case 38:var y=n-_;c.b+=null==y?l.substr(e,_,null):l.substr(e,_,y),s=18,m=8,_=n+1;break;case 60:case 62:if(t)throw hi.thrown(new bi("Invalid unescaped "+String.fromCodePoint(w)+" in attribute value",e,n));if(w==b){var x=n-_;c.b+=null==x?l.substr(e,_,null):l.substr(e,_,x);var S=c.b;c=new p,a.set(o,S),s=0,r=4}break;default:if(w==b){var k=n-_;c.b+=null==k?l.substr(e,_,null):l.substr(e,_,k);var C=c.b;c=new p,a.set(o,C),s=0,r=4}}break;case 9:n=wi.doParse(e,t,n,a),_=n,s=1;break;case 10:if(!(w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||58==w||46==w||95==w||45==w)){if(_==n)throw hi.thrown(new bi("Expected node name",e,n));var A=l.substr(e,_,n-_);if(null==i||0!=i.nodeType)throw hi.thrown(new bi("Unexpected </"+A+">, tag is not open",e,n));if(i.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":f.toString(i.nodeType)));if(A!=i.nodeName){if(i.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":f.toString(i.nodeType)));throw hi.thrown(new bi("Expected </"+i.nodeName+">",e,n))}s=0,r=12;continue}break;case 11:if(62!=w)throw hi.thrown(new bi("Expected >",e,n));s=1;break;case 12:if(62==w)return 0==h&&i.addChild(g.createPCData("")),n;throw hi.thrown(new bi("Expected >",e,n));case 13:if(60==w){var T=n-_;c.b+=null==T?l.substr(e,_,null):l.substr(e,_,T);var M=g.createPCData(c.b);c=new p,i.addChild(M),++h,s=0,r=2}else if(38==w){var E=n-_;c.b+=null==E?l.substr(e,_,null):l.substr(e,_,E),s=18,m=13,_=n+1}break;case 14:if(63==w&&62==e.charCodeAt(n+1)){++n;var P=l.substr(e,_+1,n-_-2);i.addChild(g.createProcessingInstruction(P)),++h,s=1}break;case 15:45==w&&45==e.charCodeAt(n+1)&&62==e.charCodeAt(n+2)&&(i.addChild(g.createComment(l.substr(e,_,n-_))),++h,n+=2,s=1);break;case 16:91==w?++u:93==w?--u:62==w&&0==u&&(i.addChild(g.createDocType(l.substr(e,_,n-_))),++h,s=1);break;case 17:if(93==w&&93==e.charCodeAt(n+1)&&62==e.charCodeAt(n+2)){var R=g.createCData(l.substr(e,_,n-_));i.addChild(R),++h,n+=2,s=1}break;case 18:if(59==w){var D=l.substr(e,_,n-_);if(35==D.charCodeAt(0)){var F=120==D.charCodeAt(1)?d.parseInt("0"+l.substr(D,1,D.length-1)):d.parseInt(l.substr(D,1,D.length-1));c.b+=String.fromCodePoint(F)}else if(Object.prototype.hasOwnProperty.call(wi.escapes.h,D))c.b+=d.string(wi.escapes.h[D]);else{if(t)throw hi.thrown(new bi("Undefined entity: "+D,e,n));c.b+=d.string("&"+D+";")}_=n+1,s=m}else if(!(w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||58==w||46==w||95==w||45==w)&&35!=w){if(t)throw hi.thrown(new bi("Invalid character in entity: "+String.fromCodePoint(w),e,n));c.b+=String.fromCodePoint(38);var B=n-_;c.b+=null==B?l.substr(e,_,null):l.substr(e,_,B),--n,_=n+1,s=m}break}++n}if(1==s&&(_=n,s=13),13==s){if(0==i.nodeType){if(i.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":f.toString(i.nodeType)));throw hi.thrown(new bi("Unclosed node <"+i.nodeName+">",e,n))}if(n!=_||0==h){y=n-_;c.b+=null==y?l.substr(e,_,null):l.substr(e,_,y),i.addChild(g.createPCData(c.b)),++h}return n}if(!t&&18==s&&13==m){c.b+=String.fromCodePoint(38);y=n-_;return c.b+=null==y?l.substr(e,_,null):l.substr(e,_,y),i.addChild(g.createPCData(c.b)),++h,n}throw hi.thrown(new bi("Unexpected end",e,n))};var vi=function(e){this.output=new p,this.pretty=e};vi.__name__="haxe.xml.Printer",vi.print=function(e,t){null==t&&(t=!1);var n=new vi(t);return n.writeNode(e,""),n.output.b},vi.prototype={writeNode:function(e,t){switch(e.nodeType){case 0:if(this.output.b+=d.string(t+"<"),e.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":f.toString(e.nodeType)));this.output.b+=d.string(e.nodeName);var n=e.attributes();while(n.hasNext()){var i=n.next();this.output.b+=d.string(" "+i+'="');var a=m.htmlEscape(e.get(i),!0);this.output.b+=d.string(a),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=g.Document&&e.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":f.toString(e.nodeType)));var s=e.children,r=0;while(r<s.length){var o=s[r++];this.writeNode(o,this.pretty?t+"\t":t)}if(this.output.b+=d.string(t+"</"),e.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":f.toString(e.nodeType)));this.output.b+=d.string(e.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==g.Document||e.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":f.toString(e.nodeType)));var _=e.nodeValue;if(0!=_.length){a=t+m.htmlEscape(_);this.output.b+=d.string(a),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=d.string(t+"<![CDATA["),e.nodeType==g.Document||e.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":f.toString(e.nodeType)));this.output.b+=d.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==g.Document||e.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":f.toString(e.nodeType)));var h=e.nodeValue,l=new RegExp("[\n\r\t]+","g".split("u").join(""));h=h.replace(l,""),h="\x3c!--"+h+"--\x3e",this.output.b+=null==t?"null":""+t,this.output.b+=d.string(m.trim(h)),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==g.Document||e.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":f.toString(e.nodeType)));this.output.b+=d.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==g.Document||e.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":f.toString(e.nodeType)));this.output.b+=d.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=g.Document&&e.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":f.toString(e.nodeType)));s=e.children,r=0;while(r<s.length){o=s[r++];this.writeNode(o,t)}break}},hasChildren:function(e){if(e.nodeType!=g.Document&&e.nodeType!=g.Element)throw hi.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":f.toString(e.nodeType)));var t=e.children,n=0;while(n<t.length){var i=t[n++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==g.Document||i.nodeType==g.Element)throw hi.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":f.toString(i.nodeType)));if(0!=m.ltrim(i.nodeValue).length)return!0;break;default:}}return!1},__class__:vi};var yi=function(){};yi.__name__="js.Boot",yi.getClass=function(e){if(null==e)return null;if(e instanceof Array)return Array;var t=e.__class__;if(null!=t)return t;var n=yi.__nativeClassName(e);return null!=n?yi.__resolveNativeClass(n):null},yi.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var n=typeof e;switch("function"==n&&(e.__name__||e.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(e.__enum__){var i=o[e.__enum__],a=i.__constructs__[e._hx_index],s=a._hx_name;return a.__params__?(t+="\t",s+"("+function(n){var i,s=[],r=0,o=a.__params__;while(1){if(!(r<o.length))break;var _=o[r];r+=1,s.push(yi.__string_rec(e[_],t))}return i=s,i}().join(",")+")"):s}if(e instanceof Array){var r="[";t+="\t";var _=0,h=e.length;while(_<h){var l=_++;r+=(l>0?",":"")+yi.__string_rec(e[l],t)}return r+="]",r}var u;try{u=e.toString}catch(_){return"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var c=e.toString();if("[object Object]"!=c)return c}r="{\n";t+="\t";var d=null!=e.hasOwnProperty,p=null;for(p in e)d&&!e.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=r.length&&(r+=", \n"),r+=t+p+" : "+yi.__string_rec(e[p],t));return t=t.substring(1),r+="\n"+t+"}",r;case"string":return e;default:return String(e)}},yi.__interfLoop=function(e,t){while(1){if(null==e)return!1;if(e==t)return!0;var n=e.__interfaces__;if(null!=n){var i=0,a=n.length;while(i<a){var s=i++,r=n[s];if(r==t||yi.__interfLoop(r,t))return!0}}e=e.__super__}},yi.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array;case Ei:return"boolean"==typeof e;case Ti:return null!=e;case Mi:return"number"==typeof e;case Ai:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(yi.__downcastCheck(e,t))return!0}else if("object"==typeof t&&yi.__isNativeObj(t)&&e instanceof t)return!0;return t==Pi&&null!=e.__name__||(t==Ri&&null!=e.__ename__||null!=e.__enum__&&o[e.__enum__]==t)}},yi.__downcastCheck=function(e,t){return e instanceof t||!!t.__isInterface__&&yi.__interfLoop(yi.getClass(e),t)},yi.__nativeClassName=function(e){var t=yi.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},yi.__isNativeObj=function(e){return null!=yi.__nativeClassName(e)},yi.__resolveNativeClass=function(e){return a[e]};var xi=function(){};xi.__name__="js.Browser",xi.getLocalStorage=function(){try{var e=window.localStorage;if(e.getItem(""),0==e.length){var t="_hx_"+Math.random();e.setItem(t,t),e.removeItem(t)}return e}catch(n){return null}};var Si=function(){};function ki(e){return e instanceof Array?new fi(e):e.iterator()}function Ci(e,t){return null==t?null:(null==t.__id__&&(t.__id__=a.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:n=e.hx__closures__[t.__id__],null==n&&(n=t.bind(e),e.hx__closures__[t.__id__]=n),n);var n}Si.__name__="js.html._CanvasElement.CanvasUtil",Si.getContextWebGL=function(e,t){var n=e.getContext("webgl",t);if(null!=n)return n;n=e.getContext("experimental-webgl",t);return null!=n?n:null},a.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(l.now=performance.now.bind(performance)),null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.prototype.__class__=String,String.__name__="String",Array.__name__="Array",Date.prototype.__class__=Date,Date.__name__="Date";var Ai={},Ti={},Mi=Number,Ei=Boolean,Pi={},Ri={};yi.__toStr={}.toString,g.Element=0,g.PCData=1,g.CData=2,g.Comment=3,g.DocType=4,g.ProcessingInstruction=5,g.Document=6,k.instance=new k,T.DISPATCHING_SENTINEL=new A(null,null),R.root=new y,R.uncaughtError=new E,R.hidden=new C(!1),R.volume=new P(1),R._platform=k.instance,R._calledInit=!1,F.logger=new D(R._platform.createLogHandler("flambe")),G.__meta__={obj:{assets:[{main:[{name:"drinkFront.png",md5:"e855cee92718a5f3e1a7392fe916248a",bytes:5459},{name:"click.mp3",md5:"607808d15b383bdf65355454bf314632",bytes:8950},{name:"runner/sun/mouth.png",md5:"b0170054dfd3f82f189a06140b5fb07d",bytes:163},{name:"runner/sun/sunBurst.png",md5:"50c0be35828c62ded315c47bcddc8f8f",bytes:14822},{name:"runner/sun/ear.png",md5:"aad2f666df454117dd8a45f27dc0b630",bytes:1993},{name:"runner/sun/eye.png",md5:"386d4175d9515e84c9f071b18e29d4f9",bytes:487},{name:"runner/sun/sun.png",md5:"1e2b4d2a8662c5aa01083044561cc47d",bytes:10228},{name:"runner/car/carWheel.png",md5:"ee58be4e2325df405b0aac751ecaf429",bytes:3013},{name:"runner/car/carStar.png",md5:"aa7ae2bee3c47b4cd4fbadd4076eb4c7",bytes:1712},{name:"runner/car/carEye.png",md5:"a6255bfdd651e7adc66c6dcc61e061d8",bytes:1622},{name:"runner/car/car.png",md5:"1231fd17e96079a42a5ea38f30db5c26",bytes:5508},{name:"runner/instructJump.png",md5:"eec6e6c29437739f8935386f4100aa54",bytes:6019},{name:"runner/mess.png",md5:"cda065f684bdf605bdd5493d531450b6",bytes:3105},{name:"runner/puke/puke3.png",md5:"5acd4d4dbb7848ba726d66cee3e38ed7",bytes:1081},{name:"runner/puke/puke2.png",md5:"8ce4f40cc8976db023d0845ee73a0dff",bytes:1075},{name:"runner/puke/puke.pex",md5:"f600e9e5653c4129accb99fb77b643c5",bytes:2310},{name:"runner/puke/puke0.png",md5:"ec3ccb9cefc66aaf30e0073ebead2dd4",bytes:1082},{name:"runner/puke/puke1.png",md5:"22c33d4e85dba0dbf021a93efbf98bff",bytes:998},{name:"runner/puke/puke4.png",md5:"9db58ae6d9f65b28ea84ac47eed716a4",bytes:974},{name:"runner/lost.png",md5:"a977b9bb7a51dadca82031b48602af77",bytes:60050},{name:"runner/body/arm.png",md5:"f491e2180d91926ccafe33445414945c",bytes:426},{name:"runner/body/body.png",md5:"4f0504a7a90f6a3429c23f746501de23",bytes:4206},{name:"runner/body/shirt.png",md5:"0ee767fecccb3b0aad5f62fc0eb202a7",bytes:438},{name:"runner/body/hand.png",md5:"da8f907dcf0d654e7d165818124c4c2a",bytes:381},{name:"runner/body/shoe.png",md5:"44266ca38efdc09be6e41cddb89b0059",bytes:437},{name:"runner/body/pantBack.png",md5:"999ff88cea7ee0884f1c5de5a2ee12ca",bytes:509},{name:"runner/body/leg.png",md5:"44c573cbf09e8243d7382a04223398b6",bytes:322},{name:"runner/body/shorts.png",md5:"e95c35104d543827c3bbccbe02d317a5",bytes:280},{name:"runner/body/head.png",md5:"325901dbe772c9a57e4d7468e9c1a289",bytes:4436},{name:"runner/body/pantFront.png",md5:"6138687919e7ca48b872cf8e5113a9c9",bytes:559},{name:"runner/instructMove.png",md5:"f30b16c99e78419ca5121e52f916fde4",bytes:8406},{name:"runner/bushBerry.png",md5:"ecd15cc8e1f4a7c9625daf0ab24ff541",bytes:264},{name:"runner/bird/birdBody.png",md5:"e80a9dbd7135535ba94cf6f16f923bfc",bytes:13992},{name:"runner/bird/birdWing.png",md5:"a9ce85a0f23dc5d578baa7c7c8252fbb",bytes:2790},{name:"runner/bird/birdHat.png",md5:"2affd2237ba97fe5bb68a2dd491eb37b",bytes:1833},{name:"runner/bird/birdFeet.png",md5:"8bab0439934541ee1a5592f740f1f998",bytes:687},{name:"runner/tree.png",md5:"d04e446b86b2f009cbde49df0cb7cfcf",bytes:5887},{name:"runner/worm/worm.png",md5:"140a6f689e4191261765cea7b1023969",bytes:8503},{name:"runner/worm/wormHoleClip.png",md5:"0ad6d891bd4e72971c514ffb1341ae99",bytes:1778},{name:"runner/worm/wormHole.png",md5:"f1c771732f650f841e5c46612d63f603",bytes:3439},{name:"runner/job.png",md5:"52ab2d46e67d46a8b858e9d7afd0077e",bytes:24348},{name:"runner/bar.png",md5:"0ffb4194e5c8fddaf24d4291aea66713",bytes:28448},{name:"runner/bush.png",md5:"b525ec7f888ed33e851991643c22943f",bytes:4766},{name:"runner/instructCrouch.png",md5:"45cb6f10b1233ff7039d7524ada65405",bytes:7124},{name:"runner/instructMove_mob.png",md5:"bbee206daf08e14bcf108ba9cf740005",bytes:8601},{name:"runner/instructJump_mob.png",md5:"d58ce1384941f6c93dc0e4cc86c6ef80",bytes:6480},{name:"runner/instructSurf.png",md5:"0523a4342bbb6599f3e5be8234a18dbf",bytes:8788},{name:"runner/instructCrouch_mob.png",md5:"14113c3f68a8556f48b86fd0740aeec1",bytes:7525},{name:"runner/instructSurf_mob.png",md5:"1233439b6633850d310a715b06800160",bytes:9309},{name:"testfont.png",md5:"109d4f54812365f06b30b575639e6a88",bytes:24012},{name:"sfx/runner/surf.mp3",md5:"4e266c80a72a09df545359c74c6ef88e",bytes:72468},{name:"sfx/runner/hit.mp3",md5:"eb3608409fc1dfa8d73c12cbead04b7f",bytes:37906},{name:"sfx/runner/car.mp3",md5:"b7eb110606f0b72dd5144dc07b4e4376",bytes:46553},{name:"sfx/runner/crouch.mp3",md5:"2d678d95a909ec72309b27b8ce19ecee",bytes:12565},{name:"sfx/runner/step.mp3",md5:"48e4c332d596e2dd93fb852bcf07d0f6",bytes:14319},{name:"sfx/runner/bird.mp3",md5:"3243cb50befa6f55e2528cbcabe87a0c",bytes:149657},{name:"sfx/runner/puke.mp3",md5:"2d8f62e8b9e934bb4ea4c697409dbfd2",bytes:142164},{name:"sfx/runner/jump.mp3",md5:"113b01a6e415d53a2a40d32b70857483",bytes:28692},{name:"sfx/runner/step1.mp3",md5:"f0bd754987290df11debc1486d946e13",bytes:16047},{name:"sfx/runner/worm.mp3",md5:"6c3cd0793d5a23fcab24d60de24228e0",bytes:43672},{name:"sfx/win.mp3",md5:"ae5dd924cd8ba56b25467b9a40dd4a80",bytes:122592},{name:"sfx/cafe/bottleSlide.mp3",md5:"288d74daf8a850a60e8f1ebea0422fec",bytes:19482},{name:"sfx/cafe/chug.mp3",md5:"2a91cae8ea69fb45e9e9c080a9569b85",bytes:109337},{name:"sfx/cafe/bottleBreak.mp3",md5:"2da72d7e53bfe41f10863286ad6fc17b",bytes:27546},{name:"sfx/cafe/timer.mp3",md5:"ed989511192f08a9a71d1ae7ed428746",bytes:243550},{name:"sfx/cafe/angrySun.mp3",md5:"27a7244bc6c983f4824b0a99a2a7d00f",bytes:26968},{name:"sfx/cafe/happySun.mp3",md5:"c870f6d1f4e03785b11598b79e48f35d",bytes:183064},{name:"sfx/cafe/sunSad.mp3",md5:"fd4bc71e6be0fa5b6d6fdb5b04bae8f0",bytes:52886},{name:"sfx/cafe/bottleThrow.mp3",md5:"b3ba1fc00949445d41a7a21becb18825",bytes:18324},{name:"sfx/cafe/sunMouth.mp3",md5:"2c80cbc175d4533862988cc16e8f6eae",bytes:35036},{name:"sfx/cafe/partyHarder.mp3",md5:"648f65068fab6af60813d7f801fa4ef9",bytes:45979},{name:"sfx/cafe/bottleSplash.mp3",md5:"8b2bb9fddd83797baf132c0bf4f74e6b",bytes:60955},{name:"sfx/text/bing.mp3",md5:"a21f15408a0d6842de5d5057821ce696",bytes:65849},{name:"sfx/text/vibrate.mp3",md5:"2fea9ce671c7ae4e0000d5ae2e9592f2",bytes:69596},{name:"sfx/text/passOut.mp3",md5:"65b110eb285fb99c4a7dda4a545c7328",bytes:50583},{name:"sfx/main.mp3",md5:"f7125bccb3cf3608e953b95da0ea1445",bytes:1375537},{name:"sfx/title.mp3",md5:"ef10c18658763adc823f5edcd79e6f32",bytes:330430},{name:"timeFront.png",md5:"3bb88b9787aa298723d68ffbdaacf896",bytes:5440},{name:"testfont.fnt",md5:"0abb31af7328a52a4405b83e05eddc36",bytes:21146},{name:"meterBack.png",md5:"1071f150be61c78706c1520ba6dd4624",bytes:3822},{name:"score/scoreBottomBubble.png",md5:"1e22b69fc3772e1f34c6d0501f3c3945",bytes:3646},{name:"score/scoreBottom.png",md5:"fdfc618e5ad56332007082f57a3d5a0c",bytes:32999},{name:"score/scoreTop.png",md5:"ba7aa429a5051e0dd6040a0c3aea0512",bytes:19176},{name:"score/score.png",md5:"29b490a9012e9d52cb20bc099d07050a",bytes:2173},{name:"score/scoreTopBubble.png",md5:"37600e5e3facd0d3ef664c71896767a9",bytes:2798},{name:"homeButton.png",md5:"bdc6fb000d0b24df71acdbfa38a5fea9",bytes:2607},{name:"cafe/sun/sunStripes.png",md5:"2376226fe50a1fbf1450efe3deb713eb",bytes:14829},{name:"cafe/sun/mouthSmile.png",md5:"8a10b0cd842ed62fd3c755ec7d276bd1",bytes:1703},{name:"cafe/sun/eyebrow.png",md5:"e43b0bda8b52d0f73d27115ddaabbbac",bytes:469},{name:"cafe/sun/eyePupil.png",md5:"4dbeaf65cb862045f5ea8680ae5bb1ed",bytes:721},{name:"cafe/sun/ear.png",md5:"676aea963c0243b9e80a5a0e1fd20175",bytes:2430},{name:"cafe/sun/eye.png",md5:"722cb9af440c6a56896feee178edf3ab",bytes:1671},{name:"cafe/sun/sun.png",md5:"e4383a12b4058cc87a533b5b6edd1286",bytes:9654},{name:"cafe/sun/mouthOpen.png",md5:"d12e4144cf38ceeade58f71957339f60",bytes:775},{name:"cafe/beerStar.png",md5:"ceef9b8a475b27e2a3b335c200ce0b29",bytes:4346},{name:"cafe/title.png",md5:"070c12f83ea9fbad95327c9aece99404",bytes:63211},{name:"cafe/puke/puke3.png",md5:"07ba5a37dab2888a67e1b7692fd72c21",bytes:1089},{name:"cafe/puke/puke2.png",md5:"daad143db789be7b54b10796d0e005ce",bytes:1083},{name:"cafe/puke/puke.pex",md5:"f600e9e5653c4129accb99fb77b643c5",bytes:2310},{name:"cafe/puke/puke0.png",md5:"deab95c4d3e88793e9f9bcd259a81fd5",bytes:1082},{name:"cafe/puke/puke1.png",md5:"9e0748665121ad543db166bf8b7aca2e",bytes:987},{name:"cafe/puke/puke4.png",md5:"bbdc45a06af3da59f6c549dce21af3f9",bytes:994},{name:"cafe/flamingo.png",md5:"2215f45f1f4f8954e195585438cc5878",bytes:12184},{name:"cafe/body/eyesDrinking.png",md5:"ff5ee5af5959302e39d1bb1d4bf0612a",bytes:4096},{name:"cafe/body/body.png",md5:"516e0c3af06ff71b31e06dcc90a4a394",bytes:26311},{name:"cafe/body/eyesMad.png",md5:"89d7f879cdf0b31a638992942f64bd81",bytes:1052},{name:"cafe/body/hand.png",md5:"f94695c8dff2a439b80170db7d13dc89",bytes:4155},{name:"cafe/body/armTop.png",md5:"5148759ed360a06f016c61db59115ab9",bytes:3032},{name:"cafe/body/eyesCool.png",md5:"7b11adcf07a771df4f25027df7060831",bytes:3810},{name:"cafe/body/head.png",md5:"49a23eb1a6333fcdae47acf74a37bf49",bytes:17496},{name:"cafe/body/mouthCool.png",md5:"8f07cca7f612b8b179c241f9e4fc739b",bytes:3873},{name:"cafe/body/armBottom.png",md5:"8afe5e9a85244b0c3fe4ddf9587faa4e",bytes:6299},{name:"cafe/body/mouthMad.png",md5:"35bcf963a5e3b8af98dd1cc87cf1884d",bytes:2121},{name:"cafe/beerTriangle.png",md5:"b1676d257e6cb0ae7976fe3352982da5",bytes:4164},{name:"cafe/mainBack.png",md5:"fbd6bd9c5b9f149f2bfe9eb1d1f6340e",bytes:34518},{name:"cafe/beerCircle.png",md5:"7ddd7543b0232f56ccf6ad13a3d6ce16",bytes:4229},{name:"cafe/table.png",md5:"6c73b3a15bd70669fb4bc10d01c63740",bytes:15485},{name:"cafe/fail.png",md5:"9f888ab439fbacc90fb040906a448764",bytes:73240},{name:"cafe/playButton.png",md5:"687c8dd6c4745aa7ae865a3c410871a9",bytes:3665},{name:"cloud.png",md5:"0610986236c0e18abf4773458c535d6e",bytes:2009},{name:"points.png",md5:"be054d96480093a0fd59be800ed187a0",bytes:2304},{name:"timeMid.png",md5:"e3f8c1ea4767d449c3b14adff9f1430d",bytes:3732},{name:"drinkMid.png",md5:"2bc56532d2deb5b5b5be3c88389a4b1d",bytes:5658},{name:"text/phone.png",md5:"082f1b25c7408b0c48965f4c618a61f8",bytes:928},{name:"text/text4.png",md5:"74cf25d8a4cd67ec8f10fafbf07544b5",bytes:12523},{name:"text/text1.png",md5:"76c8410d802446c10b6626cf11f71449",bytes:15866},{name:"text/text2.png",md5:"41c6181a1069fe98cd1be535c42d8c7b",bytes:19841},{name:"text/text3.png",md5:"02f37f99dbec3b4834baab903912a920",bytes:24330}],"background.png":[],bootstrap:[{name:"ball.png",md5:"cfbdbcf4cb3e3c4526b0746b49f2d805",bytes:26236},{name:"silence.mp3",md5:"607808d15b383bdf65355454bf314632",bytes:8950},{name:"ballLineWater.png",md5:"3aba2ce74b7d98656e300cbf6fe297ec",bytes:852},{name:"loadingBack.png",md5:"35effb32203feba71403df4a79c89468",bytes:71726},{name:"play.png",md5:"0bae891f519e596a553e1dc9fec9140f",bytes:3805}],".DS_Store":[]}]}},G._supportsCrossOrigin=function(e){var t,n;if(a.navigator.userAgent.indexOf("Linux; U; Android")>=0)n=!1;else{var i=new XMLHttpRequest;n=null!=i.withCredentials}return n||F.logger.warn("This browser does not support cross-domain asset loading, any Manifest.remoteBase setting will be ignored.",null),t=n,t}(),Q._scratchPoint=new q,te.NEWLINE=new ee(10),Pe._sharedEvent=new me,De._sharedEvent=new be,Be._sharedEvent=new ve,ot.CANVAS_TEXTURES=function(e){var t,n=new h("(iPhone|iPod|iPad)","");return t=n.match(window.navigator.userAgent),t}(),lt._mediaRefCount=0,lt._detectBlobSupport=!0,kt.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"],kt.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&new h("Mobile(/.*)? Safari","").match(a.navigator.userAgent),Et._detectSupport=!0,Dt._scratchMatrix=new Se,ln._hasAudio=!1,pn._scratch={x:0,y:0,scale:1},wn.vueSplash=n("f6a7"),Cn.SPRITE_SCRATCH=new q,An._scratchLocal=new q,Pn.DESTROYED_DURATION=2,Pn.ACTIVE_DURATION=4,Nn.INVALID_REACH=99999,wi.escapes=function(e){var t,n=new ci;return n.h["lt"]="<",n.h["gt"]=">",n.h["amp"]="&",n.h["quot"]='"',n.h["apos"]="'",t=n,t}(),wn.main()}).call(this,n("c8ba"))},"56d7":function(e,t,n){"use strict";n.r(t);var i=n("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.ui?t(e.ui.def,e._b({tag:"component",staticClass:"ui",style:{width:e.gameWidth+"px"}},"component",e.uiprops,!1)):e._e(),t("canvas",{ref:"canvas"})],1)},s=[],r={name:"App",data(){return{gameWidth:1920,gameHeight:1080,stack:[]}},computed:{ui(){const e=this.stack.length-1;return this.stack[e]},uiprops(){return{...this.ui.props}}},mounted(){window.flambe={canvas:this.$refs.canvas};const e=n("5085");this.stack=e.flambe.System.get_web().stack;const t=e.game.Container.getSize;window.addEventListener("resize",this.layoutScale.bind(this,t)),this.layoutScale(t),e.game.Main.start(this.gameWidth,this.gameHeight)},methods:{layoutScale(e){var t=e(this.gameWidth,this.gameHeight,window.innerWidth,window.innerHeight);document.documentElement.style.setProperty("--layout-scale",t.scale),document.documentElement.style.setProperty("--layout-x",t.x+"px"),document.documentElement.style.setProperty("--layout-y",t.y+"px")}}},o=r,_=(n("ca51"),n("2877")),h=Object(_["a"])(o,a,s,!1,null,null,null),l=h.exports;i["a"].config.productionTip=!1,new i["a"]({render:e=>e(l)}).$mount("#app")},afd0:function(e,t,n){},ca51:function(e,t,n){"use strict";n("2af0")},e314:function(e,t,n){"use strict";n("afd0")},f6a7:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"splash",style:{width:e.width+"px",height:e.height+"px"}},[t("img",{attrs:{src:"assets/bootstrap/play.png",alt:"Start Game"},on:{click:e.onClick}})])},a=[],s={props:{width:{type:Number,required:!0},height:{type:Number,required:!0}}},r=s,o=(n("e314"),n("2877")),_=Object(o["a"])(r,i,a,!1,null,"335a7b91",null);t["default"]=_.exports}});
//# sourceMappingURL=app.cb81809f.js.map